{"version":3,"file":"../app/companions/page.js","mappings":"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A,YACA,MAEA,sBACA,YACA,gBAKA,GAJA,sBAEA,0BAEA,IACA,OACA,MACA,CAEA,eACA,UAGA,YACA,CAGA,eACA,gBAIA,GAHA,mBACA,uBAEA,IACA,OACA,MACA,CAEA,kBACA,SACA,MACA,CAEA,iBAIA,4BACA,gBAIA,GAHA,qBACA,yBAEA,IACA,OACA,MACA,CAEA,kBACA,SACA,MACA,CAEA,iBAIA,aACA,gBACA,gBACA,6DACA,0BAAqE,EAAM,sCAC3E,IAA6B,EAAM,OACnC,EADmC,EACnC,8CAAuG,EAAM,iBAA6C,EAAM,IAChK,KADgK,CAChK,CACA,CAGA,yBACA,gBACA,uBAGA,GAFA,uBAEA,IACA,OAAgC,EAAM,OACtC,EADsC,IAEtC,CAEA,eACA,GACO,EAAM,mCAEb,kBACA,OACA,MACA,CAEA,oBAIA,SACA,gBACA,kBACA,OACA,MACA,CAEA,0BAGA,CACA,EAyHA,GAGA,sBAEA,uBAMA,CAFA,kCAHA,SASA,2BACA,UACA,SAGA,uCAEA,MAAqB,EAAY,MAEjC,IAFiC,EAEjC,OACA,MAKA,sFAA4H,EAAM,KAClI,EAAY,EADsH,EAChH,OAClB,CAEA,iCACA,uDACA,kCACA,mDACA,cACA,KACI,oDACJ,mDAEA,6BAIA,YACA,EAKA,+EACA,WAEA,OADA,8CAxJA,qBACA,iBACA,SAGA,mBACA,kBACA,iCACA,aAGA,CACA,EA4IA,KACA,CACA,CAAE,qBACF,CAEO,gBACP,MACA,SAWA,EARA,IACA,UACA,UACA,mBACA,yBACA,KACA,EAEA,sBAEA,SACA,qBACA,6BAGA,WAnbA,GACA,sBACA,YACA,kBACA,sBAGA,YACA,sBACA,0BAEA,EAGA,SACA,IACA,8BACA,CAGA,IACA,EACA,yCACA,CAIA,eACA,iBACA,KACA,OACA,sBACA,0BAEA,EAGA,SACA,IACA,EACA,uBACA,CAGA,IACA,EACA,+BAKA,4BACA,iBACA,KACA,OACA,sBACA,0BAEA,EAGA,SACA,IACA,EACA,2BACA,CAGA,IACA,EACA,kCACA,KAIA,QACA,gBACA,yBACA,0CACA,MACA,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","sources":["webpack://jsm_saas_app/external commonjs \"next/dist/server/app-render/after-task-async-storage.external.js\"","webpack://jsm_saas_app/app/companions/page.tsx","webpack://jsm_saas_app/sentry-wrapper-module","webpack://jsm_saas_app/external commonjs2 \"module\"","webpack://jsm_saas_app/external commonjs \"next/dist/compiled/next-server/app-page.runtime.prod.js\"","webpack://jsm_saas_app/external commonjs2 \"punycode\"","webpack://jsm_saas_app/./lib/supabase.ts","webpack://jsm_saas_app/./lib/actions/companion.actions.ts","webpack://jsm_saas_app/?6c99","webpack://jsm_saas_app/external commonjs \"require-in-the-middle\"","webpack://jsm_saas_app/external commonjs \"next/dist/server/app-render/action-async-storage.external.js\"","webpack://jsm_saas_app/external commonjs2 \"process\"","webpack://jsm_saas_app/external commonjs2 \"os\"","webpack://jsm_saas_app/./node_modules/decode-uri-component/index.js","webpack://jsm_saas_app/./node_modules/filter-obj/index.js","webpack://jsm_saas_app/./node_modules/split-on-first/index.js","webpack://jsm_saas_app/./node_modules/query-string/base.js","webpack://jsm_saas_app/./node_modules/query-string/index.js","webpack://jsm_saas_app/./node_modules/@jsmastery/utils/dist/index.js","webpack://jsm_saas_app/?f574","webpack://jsm_saas_app/?89d6","webpack://jsm_saas_app/./components/CompanionCard.tsx","webpack://jsm_saas_app/external commonjs2 \"stream\"","webpack://jsm_saas_app/external commonjs2 \"util\"","webpack://jsm_saas_app/external commonjs2 \"fs\"","webpack://jsm_saas_app/external commonjs \"next/dist/server/app-render/work-async-storage.external.js\"","webpack://jsm_saas_app/external node-commonjs \"node:child_process\"","webpack://jsm_saas_app/external commonjs2 \"path\"","webpack://jsm_saas_app/external commonjs2 \"tls\"","webpack://jsm_saas_app/external commonjs2 \"diagnostics_channel\"","webpack://jsm_saas_app/external node-commonjs \"node:http\"","webpack://jsm_saas_app/external node-commonjs \"node:zlib\"","webpack://jsm_saas_app/external node-commonjs \"node:tls\"","webpack://jsm_saas_app/?a680","webpack://jsm_saas_app/external node-commonjs \"node:https\"","webpack://jsm_saas_app/./app/favicon.ico","webpack://jsm_saas_app/external node-commonjs \"node:os\"","webpack://jsm_saas_app/external node-commonjs \"node:diagnostics_channel\"","webpack://jsm_saas_app/external commonjs2 \"crypto\"","webpack://jsm_saas_app/external commonjs2 \"https\"","webpack://jsm_saas_app/../../../src/shared/lib/image-external.tsx","webpack://jsm_saas_app/external commonjs \"import-in-the-middle\"","webpack://jsm_saas_app/external node-commonjs \"node:stream\"","webpack://jsm_saas_app/external node-commonjs \"node:util\"","webpack://jsm_saas_app/?2401","webpack://jsm_saas_app/external commonjs \"next/dist/server/app-render/work-unit-async-storage.external.js\"","webpack://jsm_saas_app/?63d2","webpack://jsm_saas_app/external node-commonjs \"node:fs\"","webpack://jsm_saas_app/external commonjs2 \"worker_threads\"","webpack://jsm_saas_app/external commonjs2 \"zlib\"","webpack://jsm_saas_app/external commonjs2 \"perf_hooks\"","webpack://jsm_saas_app/./constants/index.ts","webpack://jsm_saas_app/./lib/utils.ts","webpack://jsm_saas_app/external node-commonjs \"node:worker_threads\"","webpack://jsm_saas_app/external node-commonjs \"node:path\"","webpack://jsm_saas_app/external node-commonjs \"node:net\"","webpack://jsm_saas_app/external node-commonjs \"node:crypto\"","webpack://jsm_saas_app/external commonjs2 \"buffer\"","webpack://jsm_saas_app/external commonjs2 \"url\"","webpack://jsm_saas_app/external commonjs2 \"child_process\"","webpack://jsm_saas_app/external node-commonjs \"node:readline\"","webpack://jsm_saas_app/external commonjs2 \"http\"","webpack://jsm_saas_app/external commonjs2 \"tty\"","webpack://jsm_saas_app/external commonjs2 \"async_hooks\"","webpack://jsm_saas_app/external node-commonjs \"node:inspector\"","webpack://jsm_saas_app/./node_modules/next/dist/api/image.js?65c8","webpack://jsm_saas_app/./components/SubjectFilter.tsx","webpack://jsm_saas_app/external commonjs2 \"net\"","webpack://jsm_saas_app/./components/SearchInput.tsx","webpack://jsm_saas_app/external commonjs2 \"events\"","webpack://jsm_saas_app/./components/ui/select.tsx"],"sourcesContent":["module.exports = require(\"next/dist/server/app-render/after-task-async-storage.external.js\");","import { getAllCompanions } from \"@/lib/actions/companion.actions\";\nimport CompanionCard from \"@/components/CompanionCard\";\nimport { getSubjectColor } from \"@/lib/utils\";\nimport SearchInput from \"@/components/SearchInput\";\nimport SubjectFilter from \"@/components/SubjectFilter\";\n\nconst CompanionsLibrary = async ({ searchParams }: SearchParams) => {\n  const filters = await searchParams;\n  const subject = filters.subject ? filters.subject : \"\";\n  const topic = filters.topic ? filters.topic : \"\";\n\n  const companions = await getAllCompanions({ subject, topic });\n\n  return (\n    <main>\n      <section className=\"flex justify-between gap-4 max-sm:flex-col\">\n        <h1>Companion Library</h1>\n        <div className=\"flex gap-4\">\n          <SearchInput />\n          <SubjectFilter />\n        </div>\n      </section>\n      <section className=\"companions-grid\">\n        {companions.map((companion) => (\n          <CompanionCard\n            key={companion.id}\n            {...companion}\n            color={getSubjectColor(companion.subject)}\n          />\n        ))}\n      </section>\n    </main>\n  );\n};\n\nexport default CompanionsLibrary;\n","import * as origModule from 'next/dist/server/app-render/work-unit-async-storage.external.js';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nimport * as Sentry from '@sentry/nextjs';\n\n// @ts-expect-error Because we cannot be sure if the RequestAsyncStorage module exists (it is not part of the Next.js public\n// API) we use a shim if it doesn't exist. The logic for this is in the wrapping loader.\n\nconst asyncStorageModule = { ...origModule } ;\n\nconst requestAsyncStorage =\n  'workUnitAsyncStorage' in asyncStorageModule\n    ? asyncStorageModule.workUnitAsyncStorage\n    : 'requestAsyncStorage' in asyncStorageModule\n      ? asyncStorageModule.requestAsyncStorage\n      : undefined;\n\nconst serverComponent = serverComponentModule.default;\n\nlet wrappedServerComponent;\nif (typeof serverComponent === 'function') {\n  // For some odd Next.js magic reason, `headers()` will not work if used inside `wrapServerComponentsWithSentry`.\n  // Current assumption is that Next.js applies some loader magic to userfiles, but not files in node_modules. This file\n  // is technically a userfile so it gets the loader magic applied.\n  wrappedServerComponent = new Proxy(serverComponent, {\n    apply: (originalFunction, thisArg, args) => {\n      let sentryTraceHeader = undefined;\n      let baggageHeader = undefined;\n      let headers = undefined;\n\n      // We try-catch here just in `requestAsyncStorage` is undefined since it may not be defined\n      try {\n        const requestAsyncStore = requestAsyncStorage?.getStore() ;\n        sentryTraceHeader = requestAsyncStore?.headers.get('sentry-trace') ?? undefined;\n        baggageHeader = requestAsyncStore?.headers.get('baggage') ?? undefined;\n        headers = requestAsyncStore?.headers;\n      } catch (e) {\n        /** empty */\n      }\n\n      return Sentry.wrapServerComponentWithSentry(originalFunction, {\n        componentRoute: '/companions',\n        componentType: 'Page',\n        sentryTraceHeader,\n        baggageHeader,\n        headers,\n      }).apply(thisArg, args);\n    },\n  });\n} else {\n  wrappedServerComponent = serverComponent;\n}\n\nconst generateMetadata = serverComponentModule.generateMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateMetadata, {\n      componentRoute: '/companions',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateImageMetadata = serverComponentModule.generateImageMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateImageMetadata, {\n      componentRoute: '/companions',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateImageMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateViewport = serverComponentModule.generateViewport\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateViewport, {\n      componentRoute: '/companions',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateViewport',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst wrappedServerComponent$1 = wrappedServerComponent;\n\nexport { wrappedServerComponent$1 as default, generateImageMetadata, generateMetadata, generateViewport };\n","module.exports = require(\"module\");","module.exports = require(\"next/dist/compiled/next-server/app-page.runtime.prod.js\");","module.exports = require(\"punycode\");","import { createClient } from \"@supabase/supabase-js\";\nimport { auth } from \"@clerk/nextjs/server\";\n\nexport const createSupabaseClient = () => {\n  return createClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      async accessToken() {\n        return (await auth()).getToken();\n      },\n    }\n  );\n};\n","\"use server\";\n\nimport { auth } from \"@clerk/nextjs/server\";\nimport { createSupabaseClient } from \"@/lib/supabase\";\nimport { revalidatePath } from \"next/cache\";\n\nexport const createCompanion = async (formData: CreateCompanion) => {\n  const { userId: author } = await auth();\n  const supabase = createSupabaseClient();\n\n  const { data, error } = await supabase\n    .from(\"companions\")\n    .insert({ ...formData, author })\n    .select();\n\n  if (error || !data)\n    throw new Error(error?.message || \"Failed to create a companion\");\n\n  return data[0];\n};\n\nexport const getAllCompanions = async ({\n  limit = 10,\n  page = 1,\n  subject,\n  topic,\n}: GetAllCompanions) => {\n  const supabase = createSupabaseClient();\n\n  let query = supabase.from(\"companions\").select();\n\n  if (subject && topic) {\n    query = query\n      .ilike(\"subject\", `%${subject}%`)\n      .or(`topic.ilike.%${topic}%,name.ilike.%${topic}%`);\n  } else if (subject) {\n    query = query.ilike(\"subject\", `%${subject}%`);\n  } else if (topic) {\n    query = query.or(`topic.ilike.%${topic}%,name.ilike.%${topic}%`);\n  }\n\n  query = query.range((page - 1) * limit, page * limit - 1);\n\n  const { data: companions, error } = await query;\n\n  if (error) throw new Error(error.message);\n\n  return companions;\n};\n\nexport const getCompanion = async (id: string) => {\n  const supabase = createSupabaseClient();\n\n  const { data, error } = await supabase\n    .from(\"companions\")\n    .select()\n    .eq(\"id\", id);\n\n  if (error) return console.log(error);\n\n  return data[0];\n};\n\nexport const addToSessionHistory = async (companionId: string) => {\n  const { userId } = await auth();\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase.from(\"session_history\").insert({\n    companion_id: companionId,\n    user_id: userId,\n  });\n\n  if (error) throw new Error(error.message);\n\n  return data;\n};\n\nexport const getRecentSessions = async (limit = 10) => {\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase\n    .from(\"session_history\")\n    .select(`companions:companion_id (*)`)\n    .order(\"created_at\", { ascending: false })\n    .limit(limit);\n\n  if (error) throw new Error(error.message);\n\n  return data.map(({ companions }) => companions);\n};\n\nexport const getUserSessions = async (userId: string, limit = 10) => {\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase\n    .from(\"session_history\")\n    .select(`companions:companion_id (*)`)\n    .eq(\"user_id\", userId)\n    .order(\"created_at\", { ascending: false })\n    .limit(limit);\n\n  if (error) throw new Error(error.message);\n\n  return data.map(({ companions }) => companions);\n};\n\nexport const getUserCompanions = async (userId: string) => {\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase\n    .from(\"companions\")\n    .select()\n    .eq(\"author\", userId);\n\n  if (error) throw new Error(error.message);\n\n  return data;\n};\n\nexport const newCompanionPermissions = async () => {\n  const { userId, has } = await auth();\n  const supabase = createSupabaseClient();\n\n  let limit = 0;\n\n  if (has({ plan: \"pro\" })) {\n    return true;\n  } else if (has({ feature: \"3_companion_limit\" })) {\n    limit = 3;\n  } else if (has({ feature: \"10_companion_limit\" })) {\n    limit = 10;\n  }\n\n  const { data, error } = await supabase\n    .from(\"companions\")\n    .select(\"id\", { count: \"exact\" })\n    .eq(\"author\", userId);\n\n  if (error) throw new Error(error.message);\n\n  const companionCount = data?.length;\n\n  if (companionCount >= limit) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\n// Bookmarks\nexport const addBookmark = async (companionId: string, path: string) => {\n  const { userId } = await auth();\n  if (!userId) return;\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase.from(\"bookmarks\").insert({\n    companion_id: companionId,\n    user_id: userId,\n  });\n  if (error) {\n    throw new Error(error.message);\n  }\n  // Revalidate the path to force a re-render of the page\n\n  revalidatePath(path);\n  return data;\n};\n\nexport const removeBookmark = async (companionId: string, path: string) => {\n  const { userId } = await auth();\n  if (!userId) return;\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase\n    .from(\"bookmarks\")\n    .delete()\n    .eq(\"companion_id\", companionId)\n    .eq(\"user_id\", userId);\n  if (error) {\n    throw new Error(error.message);\n  }\n  revalidatePath(path);\n  return data;\n};\n\n// It's almost the same as getUserCompanions, but it's for the bookmarked companions\nexport const getBookmarkedCompanions = async (userId: string) => {\n  const supabase = createSupabaseClient();\n  const { data, error } = await supabase\n    .from(\"bookmarks\")\n    .select(`companions:companion_id (*)`) // Notice the (*) to get all the companion data\n    .eq(\"user_id\", userId);\n  if (error) {\n    throw new Error(error.message);\n  }\n  // We don't need the bookmarks data, so we return only the companions\n  return data.map(({ companions }) => companions);\n};\n","const module0 = () => import(/* webpackMode: \"eager\" */ \"/home/neha/lms-app/app/layout.tsx\");\nconst module1 = () => import(/* webpackMode: \"eager\" */ \"/home/neha/lms-app/app/global-error.tsx\");\nconst module2 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/not-found-error\");\nconst module3 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/forbidden-error\");\nconst module4 = () => import(/* webpackMode: \"eager\" */ \"next/dist/client/components/unauthorized-error\");\nconst page5 = () => import(/* webpackMode: \"eager\" */ \"/home/neha/lms-app/app/companions/page.tsx\");\nimport { AppPageRouteModule } from \"next/dist/server/route-modules/app-page/module.compiled\" with {\n    'turbopack-transition': 'next-ssr'\n};\nimport { RouteKind } from \"next/dist/server/route-kind\" with {\n    'turbopack-transition': 'next-server-utility'\n};\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'companions',\n        {\n        children: ['__PAGE__', {}, {\n          page: [page5, \"/home/neha/lms-app/app/companions/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        metadata: {\n    icon: [(async (props) => (await import(/* webpackMode: \"eager\" */ \"next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!/home/neha/lms-app/app/favicon.ico?__next_metadata__\")).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      },\n        {\n        'layout': [module0, \"/home/neha/lms-app/app/layout.tsx\"],\n'global-error': [module1, \"/home/neha/lms-app/app/global-error.tsx\"],\n'not-found': [module2, \"next/dist/client/components/not-found-error\"],\n'forbidden': [module3, \"next/dist/client/components/forbidden-error\"],\n'unauthorized': [module4, \"next/dist/client/components/unauthorized-error\"],\n        metadata: {\n    icon: [(async (props) => (await import(/* webpackMode: \"eager\" */ \"next-metadata-image-loader?type=favicon&segment=&basePath=&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js!/home/neha/lms-app/app/favicon.ico?__next_metadata__\")).default(props))],\n    apple: [],\n    openGraph: [],\n    twitter: [],\n    manifest: undefined\n  }\n      }\n      ]\n      }.children;\nconst pages = [\"/home/neha/lms-app/app/companions/page.tsx\"];\nexport { tree, pages };\nexport { default as GlobalError } from \"/home/neha/lms-app/app/global-error.tsx\" with {\n    'turbopack-transition': 'next-server-utility'\n};\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nexport const __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\nexport * from \"next/dist/server/app-render/entry-base\" with {\n    'turbopack-transition': 'next-server-utility'\n};\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n    definition: {\n        kind: RouteKind.APP_PAGE,\n        page: \"/companions/page\",\n        pathname: \"/companions\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: '',\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map","module.exports = require(\"require-in-the-middle\");","module.exports = require(\"next/dist/server/app-render/action-async-storage.external.js\");","module.exports = require(\"process\");","module.exports = require(\"os\");","const token = '%[a-f0-9]{2}';\nconst singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nconst multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tconst left = components.slice(0, split);\n\tconst right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch {\n\t\tlet tokens = input.match(singleMatcher) || [];\n\n\t\tfor (let i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tconst replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD',\n\t};\n\n\tlet match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch {\n\t\t\tconst result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tconst entries = Object.keys(replaceMap);\n\n\tfor (const key of entries) {\n\t\t// Replace all decoded components\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nexport default function decodeUriComponent(encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n}\n","export function includeKeys(object, predicate) {\n\tconst result = {};\n\n\tif (Array.isArray(predicate)) {\n\t\tfor (const key of predicate) {\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(object, key);\n\t\t\tif (descriptor?.enumerable) {\n\t\t\t\tObject.defineProperty(result, key, descriptor);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// `Reflect.ownKeys()` is required to retrieve symbol properties\n\t\tfor (const key of Reflect.ownKeys(object)) {\n\t\t\tconst descriptor = Object.getOwnPropertyDescriptor(object, key);\n\t\t\tif (descriptor.enumerable) {\n\t\t\t\tconst value = object[key];\n\t\t\t\tif (predicate(key, value, object)) {\n\t\t\t\t\tObject.defineProperty(result, key, descriptor);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn result;\n}\n\nexport function excludeKeys(object, predicate) {\n\tif (Array.isArray(predicate)) {\n\t\tconst set = new Set(predicate);\n\t\treturn includeKeys(object, key => !set.has(key));\n\t}\n\n\treturn includeKeys(object, (key, value, object) => !predicate(key, value, object));\n}\n","export default function splitOnFirst(string, separator) {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (string === '' || separator === '') {\n\t\treturn [];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n}\n","import decodeComponent from 'decode-uri-component';\nimport {includeKeys} from 'filter-obj';\nimport splitOnFirst from 'split-on-first';\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\n// eslint-disable-next-line unicorn/prefer-code-point\nconst strictUriEncode = string => encodeURIComponent(string).replaceAll(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index': {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result, [encode(key, options), '[', index, ']'].join(''),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\n\t\tcase 'bracket': {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\t[encode(key, options), '[]'].join(''),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[]=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\n\t\tcase 'colon-list-separator': {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\t[encode(key, options), ':list='].join(''),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), ':list=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSeparator = options.arrayFormat === 'bracket-separator'\n\t\t\t\t? '[]='\n\t\t\t\t: '=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSeparator, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined\n\t\t\t\t\t|| (options.skipNull && value === null)\n\t\t\t\t\t|| (options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [\n\t\t\t\t\t\t...result,\n\t\t\t\t\t\tencode(key, options),\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '=', encode(value, options)].join(''),\n\t\t\t\t];\n\t\t\t};\n\t\t}\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\t\t}\n\n\t\tcase 'bracket': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...accumulator[key], value];\n\t\t\t};\n\t\t}\n\n\t\tcase 'colon-list-separator': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(:list)$/.exec(key);\n\t\t\t\tkey = key.replace(/:list$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...accumulator[key], value];\n\t\t\t};\n\t\t}\n\n\t\tcase 'comma':\n\t\tcase 'separator': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : (value === null ? value : decode(value, options));\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\t\t}\n\n\t\tcase 'bracket-separator': {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null\n\t\t\t\t\t? []\n\t\t\t\t\t: decode(value, options).split(options.arrayFormatSeparator);\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...accumulator[key], ...arrayValue];\n\t\t\t};\n\t\t}\n\n\t\tdefault: {\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [...[accumulator[key]].flat(), value];\n\t\t\t};\n\t\t}\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction parseValue(value, options, type) {\n\tif (type === 'string' && typeof value === 'string') {\n\t\treturn value;\n\t}\n\n\tif (typeof type === 'function' && typeof value === 'string') {\n\t\treturn type(value);\n\t}\n\n\tif (type === 'boolean' && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\treturn value.toLowerCase() === 'true';\n\t}\n\n\tif (type === 'boolean' && value !== null && (value.toLowerCase() === '1' || value.toLowerCase() === '0')) {\n\t\treturn value.toLowerCase() === '1';\n\t}\n\n\tif (type === 'string[]' && options.arrayFormat !== 'none' && typeof value === 'string') {\n\t\treturn [value];\n\t}\n\n\tif (type === 'number[]' && options.arrayFormat !== 'none' && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\treturn [Number(value)];\n\t}\n\n\tif (type === 'number' && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\treturn Number(value);\n\t}\n\n\tif (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\treturn value.toLowerCase() === 'true';\n\t}\n\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\treturn Number(value);\n\t}\n\n\treturn value;\n}\n\nexport function extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nexport function parse(query, options) {\n\toptions = {\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false,\n\t\ttypes: Object.create(null),\n\t\t...options,\n\t};\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst returnValue = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn returnValue;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn returnValue;\n\t}\n\n\tfor (const parameter of query.split('&')) {\n\t\tif (parameter === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst parameter_ = options.decode ? parameter.replaceAll('+', ' ') : parameter;\n\n\t\tlet [key, value] = splitOnFirst(parameter_, '=');\n\n\t\tif (key === undefined) {\n\t\t\tkey = parameter_;\n\t\t}\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : (['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options));\n\t\tformatter(decode(key, options), value, returnValue);\n\t}\n\n\tfor (const [key, value] of Object.entries(returnValue)) {\n\t\tif (typeof value === 'object' && value !== null && options.types[key] !== 'string') {\n\t\t\tfor (const [key2, value2] of Object.entries(value)) {\n\t\t\t\tconst type = options.types[key] ? options.types[key].replace('[]', '') : undefined;\n\t\t\t\tvalue[key2] = parseValue(value2, options, type);\n\t\t\t}\n\t\t} else if (typeof value === 'object' && value !== null && options.types[key] === 'string') {\n\t\t\treturnValue[key] = Object.values(value).join(options.arrayFormatSeparator);\n\t\t} else {\n\t\t\treturnValue[key] = parseValue(value, options, options.types[key]);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn returnValue;\n\t}\n\n\t// TODO: Remove the use of `reduce`.\n\t// eslint-disable-next-line unicorn/no-array-reduce\n\treturn (options.sort === true ? Object.keys(returnValue).sort() : Object.keys(returnValue).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = returnValue[key];\n\t\tresult[key] = Boolean(value) && typeof value === 'object' && !Array.isArray(value) ? keysSorter(value) : value;\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexport function stringify(object, options) {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\t...options,\n\t};\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key]))\n\t\t|| (options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = value;\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n}\n\nexport function parseUrl(url, options) {\n\toptions = {\n\t\tdecode: true,\n\t\t...options,\n\t};\n\n\tlet [url_, hash] = splitOnFirst(url, '#');\n\n\tif (url_ === undefined) {\n\t\turl_ = url;\n\t}\n\n\treturn {\n\t\turl: url_?.split('?')?.[0] ?? '',\n\t\tquery: parse(extract(url), options),\n\t\t...(options && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}),\n\t};\n}\n\nexport function stringifyUrl(object, options) {\n\toptions = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true,\n\t\t...options,\n\t};\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = extract(object.url);\n\n\tconst query = {\n\t\t...parse(queryFromUrl, {sort: false}),\n\t\t...object.query,\n\t};\n\n\tlet queryString = stringify(query, options);\n\tqueryString &&= `?${queryString}`;\n\n\tlet hash = getHash(object.url);\n\tif (typeof object.fragmentIdentifier === 'string') {\n\t\tconst urlObjectForFragmentEncode = new URL(url);\n\t\turlObjectForFragmentEncode.hash = object.fragmentIdentifier;\n\t\thash = options[encodeFragmentIdentifier] ? urlObjectForFragmentEncode.hash : `#${object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n}\n\nexport function pick(input, filter, options) {\n\toptions = {\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false,\n\t\t...options,\n\t};\n\n\tconst {url, query, fragmentIdentifier} = parseUrl(input, options);\n\n\treturn stringifyUrl({\n\t\turl,\n\t\tquery: includeKeys(query, filter),\n\t\tfragmentIdentifier,\n\t}, options);\n}\n\nexport function exclude(input, filter, options) {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn pick(input, exclusionFilter, options);\n}\n","import * as queryString from './base.js';\n\nexport default queryString;\n","import qs from \"query-string\";\nexport const formUrlQuery = ({ params, key, value }) => {\n    const queryString = qs.parse(params);\n    queryString[key] = value;\n    return qs.stringifyUrl({\n        url: window.location.pathname,\n        query: queryString,\n    });\n};\nexport const removeKeysFromUrlQuery = ({ params, keysToRemove, }) => {\n    const queryString = qs.parse(params);\n    keysToRemove.forEach((key) => {\n        delete queryString[key];\n    });\n    return qs.stringifyUrl({\n        url: window.location.pathname,\n        query: queryString,\n    }, { skipNull: true });\n};\n","import { createServerReference, callServer, findSourceMapURL } from 'private-next-rsc-action-client-wrapper'\nexport const removeBookmark = /*#__PURE__*/createServerReference(\"7f5d0355a47be797d3f0f9d5e27d30d14356e53244\", callServer, undefined, findSourceMapURL, \"removeBookmark\")","import { createServerReference, callServer, findSourceMapURL } from 'private-next-rsc-action-client-wrapper'\nexport const addBookmark = /*#__PURE__*/createServerReference(\"7f3e62d056a67f6ea181a1dd7aa18953864cd5b109\", callServer, undefined, findSourceMapURL, \"addBookmark\")","\"use client\";\nimport { removeBookmark } from \"@/lib/actions/companion.actions\";\nimport { addBookmark } from \"@/lib/actions/companion.actions\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\n\ninterface CompanionCardProps {\n  id: string;\n  name: string;\n  topic: string;\n  subject: string;\n  duration: number;\n  color: string;\n  bookmarked: boolean;\n}\n\nconst CompanionCard = ({\n  id,\n  name,\n  topic,\n  subject,\n  duration,\n  color,\n  bookmarked,\n}: CompanionCardProps) => {\n  const pathname = usePathname();\n  const handleBookmark = async () => {\n    if (bookmarked) {\n      await removeBookmark(id, pathname);\n    } else {\n      await addBookmark(id, pathname);\n    }\n  };\n  return (\n    <article className=\"companion-card\" style={{ backgroundColor: color }}>\n      <div className=\"flex justify-between items-center\">\n        <div className=\"subject-badge\">{subject}</div>\n        <button className=\"companion-bookmark\" onClick={handleBookmark}>\n          <Image\n            src={\n              bookmarked ? \"/icons/bookmark-filled.svg\" : \"/icons/bookmark.svg\"\n            }\n            alt=\"bookmark\"\n            width={12.5}\n            height={15}\n          />\n        </button>\n      </div>\n\n      <h2 className=\"text-2xl font-bold\">{name}</h2>\n      <p className=\"text-sm\">{topic}</p>\n      <div className=\"flex items-center gap-2\">\n        <Image\n          src=\"/icons/clock.svg\"\n          alt=\"duration\"\n          width={13.5}\n          height={13.5}\n        />\n        <p className=\"text-sm\">{duration} minutes</p>\n      </div>\n\n      <Link href={`/companions/${id}`} className=\"w-full\">\n        <button className=\"btn-primary w-full justify-center\">\n          Launch Lesson\n        </button>\n      </Link>\n    </article>\n  );\n};\n\nexport default CompanionCard;\n","module.exports = require(\"stream\");","module.exports = require(\"util\");","module.exports = require(\"fs\");","module.exports = require(\"next/dist/server/app-render/work-async-storage.external.js\");","module.exports = require(\"node:child_process\");","module.exports = require(\"path\");","module.exports = require(\"tls\");","module.exports = require(\"diagnostics_channel\");","module.exports = require(\"node:http\");","module.exports = require(\"node:zlib\");","module.exports = require(\"node:tls\");","import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/neha/lms-app/components/CompanionCard.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/neha/lms-app/components/SearchInput.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/neha/lms-app/components/SubjectFilter.tsx\");\n","module.exports = require(\"node:https\");","  import { fillMetadataSegment } from 'next/dist/lib/metadata/get-metadata-route'\n\n  export default async (props) => {\n    const imageData = {\"type\":\"image/x-icon\",\"sizes\":\"32x31\"}\n    const imageUrl = fillMetadataSegment(\".\", await props.params, \"favicon.ico\")\n\n    return [{\n      ...imageData,\n      url: imageUrl + \"\",\n    }]\n  }","module.exports = require(\"node:os\");","module.exports = require(\"node:diagnostics_channel\");","module.exports = require(\"crypto\");","module.exports = require(\"https\");","import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// @ts-ignore - This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n","module.exports = require(\"import-in-the-middle\");","module.exports = require(\"node:stream\");","module.exports = require(\"node:util\");","import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/neha/lms-app/components/CompanionCard.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/neha/lms-app/components/SearchInput.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/neha/lms-app/components/SubjectFilter.tsx\");\n","module.exports = require(\"next/dist/server/app-render/work-unit-async-storage.external.js\");","\nexport { deleteKeylessAction as \"7f440c7efeb3ee178ede445214e1559e85a2b464cd\" } from \"/home/neha/lms-app/node_modules/@clerk/nextjs/dist/esm/app-router/keyless-actions.js\"\nexport { createOrReadKeylessAction as \"7f86fa3b553f8b40993fd00b330b7de214deb09277\" } from \"/home/neha/lms-app/node_modules/@clerk/nextjs/dist/esm/app-router/keyless-actions.js\"\nexport { syncKeylessConfigAction as \"7f9dbc1d8e64843f634264bbab6223bf5df897e753\" } from \"/home/neha/lms-app/node_modules/@clerk/nextjs/dist/esm/app-router/keyless-actions.js\"\nexport { getRecentSessions as \"7f0856c0ac62865bbc7af1676759fd4faf95a688ee\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { addBookmark as \"7f3e62d056a67f6ea181a1dd7aa18953864cd5b109\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { createCompanion as \"7f5bac402195330fdabab560cc9e31e5c6ee9cefe5\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { removeBookmark as \"7f5d0355a47be797d3f0f9d5e27d30d14356e53244\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { getUserSessions as \"7f6ff3efb6b88169e2f4f793fac3c2ab157c2726dd\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { addToSessionHistory as \"7f8b88cf1ea7d3ee9a1997e9917d1dabd36aee62ad\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { getUserCompanions as \"7f8bf1966185a2fb6bdf0f21c788e175adc09d4a61\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { getCompanion as \"7f9b5616db78f3ac4fa69151f340dd724861488c74\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { getAllCompanions as \"7fae424b498d0d18645a335bb2de6007a2657f4fb2\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { getBookmarkedCompanions as \"7fd03026208a361cdeff53264d79257329ae6a3893\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\nexport { newCompanionPermissions as \"7fde0d2a0b1d808790f5e80d27c63c74f27335a7bb\" } from \"/home/neha/lms-app/lib/actions/companion.actions.ts\"\n","module.exports = require(\"node:fs\");","module.exports = require(\"worker_threads\");","module.exports = require(\"zlib\");","module.exports = require(\"perf_hooks\");","export const subjects = [\n  \"maths\",\n  \"language\",\n  \"science\",\n  \"history\",\n  \"coding\",\n  \"economics\",\n];\n\nexport const subjectsColors = {\n  science: \"#E5D0FF\",\n  maths: \"#FFDA6E\",\n  language: \"#BDE7FF\",\n  coding: \"#FFC8E4\",\n  history: \"#FFECC8\",\n  economics: \"#C8FFDF\",\n};\n\nexport const voices = {\n  male: { casual: \"2BJW5coyhAzSr8STdHbE\", formal: \"c6SfcYrb2t09NHXiT80T\" },\n  female: { casual: \"ZIlrSGI4jZqobxRKprJz\", formal: \"sarah\" },\n};\n\nexport const recentSessions = [\n  {\n    id: \"1\",\n    subject: \"science\",\n    name: \"Neura the Brainy Explorer\",\n    topic: \"Neural Network of the Brain\",\n    duration: 45,\n    color: \"#E5D0FF\",\n  },\n  {\n    id: \"2\",\n    subject: \"maths\",\n    name: \"Countsy the Number Wizard\",\n    topic: \"Derivatives & Integrals\",\n    duration: 30,\n    color: \"#FFDA6E\",\n  },\n  {\n    id: \"3\",\n    subject: \"language\",\n    name: \"Verba the Vocabulary Builder\",\n    topic: \"English Literature\",\n    duration: 30,\n    color: \"#BDE7FF\",\n  },\n  {\n    id: \"4\",\n    subject: \"coding\",\n    name: \"Codey the Logic Hacker\",\n    topic: \"Intro to If-Else Statements\",\n    duration: 45,\n    color: \"#FFC8E4\",\n  },\n  {\n    id: \"5\",\n    subject: \"history\",\n    name: \"Memo, the Memory Keeper\",\n    topic: \"World Wars: Causes & Consequences\",\n    duration: 15,\n    color: \"#FFECC8\",\n  },\n  {\n    id: \"6\",\n    subject: \"economics\",\n    name: \"The Market Maestro\",\n    topic: \"The Basics of Supply & Demand\",\n    duration: 10,\n    color: \"#C8FFDF\",\n  },\n];\n","import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\nimport { subjectsColors, voices } from \"@/constants\";\nimport { CreateAssistantDTO } from \"@vapi-ai/web/dist/api\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport const getSubjectColor = (subject: string) => {\n  return subjectsColors[subject as keyof typeof subjectsColors];\n};\n\nexport const configureAssistant = (voice: string, style: string) => {\n  const voiceId =\n    voices[voice as keyof typeof voices][\n      style as keyof (typeof voices)[keyof typeof voices]\n    ] || \"sarah\";\n\n  const vapiAssistant: CreateAssistantDTO = {\n    name: \"Companion\",\n    firstMessage:\n      \"Hello, let's start the session. Today we'll be talking about {{topic}}.\",\n    transcriber: {\n      provider: \"deepgram\",\n      model: \"nova-3\",\n      language: \"en\",\n    },\n    voice: {\n      provider: \"11labs\",\n      voiceId: voiceId,\n      stability: 0.4,\n      similarityBoost: 0.8,\n      speed: 1,\n      style: 0.5,\n      useSpeakerBoost: true,\n    },\n    model: {\n      provider: \"openai\",\n      model: \"gpt-4\",\n      messages: [\n        {\n          role: \"system\",\n          content: `You are a highly knowledgeable tutor teaching a real-time voice session with a student. Your goal is to teach the student about the topic and subject.\n\n                    Tutor Guidelines:\n                    Stick to the given topic - {{ topic }} and subject - {{ subject }} and teach the student about it.\n                    Keep the conversation flowing smoothly while maintaining control.\n                    From time to time make sure that the student is following you and understands you.\n                    Break down the topic into smaller parts and teach the student one part at a time.\n                    Keep your style of conversation {{ style }}.\n                    Keep your responses short, like in a real voice conversation.\n                    Do not include any special characters in your responses - this is a voice conversation.\n              `,\n        },\n      ],\n    },\n    clientMessages: [],\n    serverMessages: [],\n  };\n  return vapiAssistant;\n};\n","module.exports = require(\"node:worker_threads\");","module.exports = require(\"node:path\");","module.exports = require(\"node:net\");","module.exports = require(\"node:crypto\");","module.exports = require(\"buffer\");","module.exports = require(\"url\");","module.exports = require(\"child_process\");","module.exports = require(\"node:readline\");","module.exports = require(\"http\");","module.exports = require(\"tty\");","module.exports = require(\"async_hooks\");","module.exports = require(\"node:inspector\");","export { default } from '../shared/lib/image-external';\nexport * from '../shared/lib/image-external';\n\n//# sourceMappingURL=image.js.map","\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"./ui/select\";\nimport { subjects } from \"@/constants\";\nimport { useRouter } from \"next/navigation\";\nimport { useSearchParams } from \"next/navigation\";\nimport { formUrlQuery, removeKeysFromUrlQuery } from \"@jsmastery/utils\";\n\nconst SubjectFilter = () => {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const query = searchParams.get(\"subject\") || \"\";\n\n  const [subject, setSubject] = useState(query);\n\n  useEffect(() => {\n    let newUrl = \"\";\n    if (subject === \"all\") {\n      newUrl = removeKeysFromUrlQuery({\n        params: searchParams.toString(),\n        keysToRemove: [\"subject\"],\n      });\n    } else {\n      newUrl = formUrlQuery({\n        params: searchParams.toString(),\n        key: \"subject\",\n        value: subject,\n      });\n    }\n    router.push(newUrl, { scroll: false });\n  }, [subject]);\n\n  return (\n    <Select onValueChange={setSubject} value={subject}>\n      <SelectTrigger className=\"input capitalize\">\n        <SelectValue placeholder=\"Subject\" />\n      </SelectTrigger>\n      <SelectContent>\n        <SelectItem value=\"all\">All subjects</SelectItem>\n        {subjects.map((subject) => (\n          <SelectItem key={subject} value={subject} className=\"capitalize\">\n            {subject}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  );\n};\n\nexport default SubjectFilter;\n","module.exports = require(\"net\");","\"use client\";\n\nimport { usePathname, useRouter, useSearchParams } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport Image from \"next/image\";\nimport { formUrlQuery, removeKeysFromUrlQuery } from \"@jsmastery/utils\";\n\nconst SearchInput = () => {\n  const pathname = usePathname();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const query = searchParams.get(\"topic\") || \"\";\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (searchQuery) {\n        const newUrl = formUrlQuery({\n          params: searchParams.toString(),\n          key: \"topic\",\n          value: searchQuery,\n        });\n\n        router.push(newUrl, { scroll: false });\n      } else {\n        if (pathname === \"/companions\") {\n          const newUrl = removeKeysFromUrlQuery({\n            params: searchParams.toString(),\n            keysToRemove: [\"topic\"],\n          });\n\n          router.push(newUrl, { scroll: false });\n        }\n      }\n    }, 500);\n  }, [searchQuery, router, searchParams, pathname]);\n\n  return (\n    <div className=\"relative border border-black rounded-lg items-center flex gap-2 px-2 py-1 h-fit\">\n      <Image src=\"/icons/search.svg\" alt=\"search\" width={15} height={15} />\n      <input\n        placeholder=\"Search companions...\"\n        className=\"outline-none\"\n        value={searchQuery}\n        onChange={(e) => setSearchQuery(e.target.value)}\n      />\n    </div>\n  );\n};\nexport default SearchInput;\n","module.exports = require(\"events\");","\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"popper\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":["wrappedServerComponent","CompanionsLibrary","searchParams","filters","subject","topic","companions","getAllCompanions","_jsxs","main","section","className","_jsx","h1","div","SearchInput","SubjectFilter","map","companion","CompanionCard","color","getSubjectColor","id","asyncStorageModule","requestAsyncStorage","wrappedServerComponent$1","serverComponentModule.default","createSupabaseClient","createClient","process","accessToken","auth","getToken","createCompanion","formData","userId","author","supabase","data","error","from","insert","select","message","limit","page","query","ilike","or","range","eq","console","log","companionId","companion_id","user_id","order","ascending","has","plan","feature","count","companionCount","length","path","revalidatePath","delete","getCompanion","addToSessionHistory","getRecentSessions","getUserSessions","getUserCompanions","newCompanionPermissions","addBookmark","removeBookmark","getBookmarkedCompanions","name","duration","bookmarked","pathname","usePathname","handleBookmark","article","style","backgroundColor","button","onClick","Image","src","alt","width","height","h2","p","Link","href","getImageProps","imgProps","props","getImgProps","defaultLoader","imgConf","key","value","Object","entries","undefined","subjectsColors","science","maths","language","coding","history","economics","cn","inputs","twMerge","clsx","router","useRouter","useSearchParams","get","setSubject","useState","useEffect","newUrl","removeKeysFromUrlQuery","params","toString","keysToRemove","formUrlQuery","push","scroll","Select","onValueChange","SelectTrigger","SelectValue","placeholder","SelectContent","SelectItem","subjects","searchQuery","setSearchQuery","setTimeout","input","onChange","e","target","SelectPrimitive","data-slot","size","children","data-size","asChild","ChevronDownIcon","position","SelectScrollUpButton","SelectScrollDownButton","span","CheckIcon","ChevronUpIcon"],"sourceRoot":""}
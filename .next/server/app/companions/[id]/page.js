try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d85f7939-827d-46bd-821c-6fe2c45a17e5",e._sentryDebugIdIdentifier="sentry-dbid-d85f7939-827d-46bd-821c-6fe2c45a17e5")}catch(e){}try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d85f7939-827d-46bd-821c-6fe2c45a17e5",e._sentryDebugIdIdentifier="sentry-dbid-d85f7939-827d-46bd-821c-6fe2c45a17e5")}catch(e){}(()=>{var exports={};exports.id=962,exports.ids=[962],exports.modules={3295:t=>{"use strict";t.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:t=>{"use strict";t.exports=require("module")},10846:t=>{"use strict";t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:t=>{"use strict";t.exports=require("punycode")},14235:(t,i,r)=>{"use strict";r.d(i,{S8:()=>v,L1:()=>d,Fe:()=>c,p4:()=>u,bb:()=>_,zA:()=>p,zR:()=>f,vK:()=>g,XF:()=>m,lp:()=>y,r7:()=>b});var s=r(43429);r(60403);var n=r(10579),a=r(99092);let o=()=>(0,a.UU)("https://jxmpktparkdbfbpidoal.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp4bXBrdHBhcmtkYmZicGlkb2FsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgxNzQ3MDEsImV4cCI6MjA2Mzc1MDcwMX0.PRObd1MKUPC3ZJFtvKYOKx58S5PeNyehhiJNihJOBWI",{accessToken:async()=>(await (0,n.j)()).getToken()});var l=r(33430),h=r(22763);let c=async t=>{let{userId:i}=await (0,n.j)(),r=o(),{data:s,error:a}=await r.from("companions").insert({...t,author:i}).select();if(a||!s)throw Error(a?.message||"Failed to create a companion");return s[0]},u=async({limit:t=10,page:i=1,subject:r,topic:s})=>{let n=o().from("companions").select();r&&s?n=n.ilike("subject",`%${r}%`).or(`topic.ilike.%${s}%,name.ilike.%${s}%`):r?n=n.ilike("subject",`%${r}%`):s&&(n=n.or(`topic.ilike.%${s}%,name.ilike.%${s}%`)),n=n.range((i-1)*t,i*t-1);let{data:a,error:l}=await n;if(l)throw Error(l.message);return a},p=async t=>{let i=o(),{data:r,error:s}=await i.from("companions").select().eq("id",t);return s?console.log(s):r[0]},d=async t=>{let{userId:i}=await (0,n.j)(),r=o(),{data:s,error:a}=await r.from("session_history").insert({companion_id:t,user_id:i});if(a)throw Error(a.message);return s},f=async(t=10)=>{let i=o(),{data:r,error:s}=await i.from("session_history").select("companions:companion_id (*)").order("created_at",{ascending:!1}).limit(t);if(s)throw Error(s.message);return r.map(({companions:t})=>t)},m=async(t,i=10)=>{let r=o(),{data:s,error:n}=await r.from("session_history").select("companions:companion_id (*)").eq("user_id",t).order("created_at",{ascending:!1}).limit(i);if(n)throw Error(n.message);return s.map(({companions:t})=>t)},g=async t=>{let i=o(),{data:r,error:s}=await i.from("companions").select().eq("author",t);if(s)throw Error(s.message);return r},y=async()=>{let{userId:t,has:i}=await (0,n.j)(),r=o(),s=0;if(i({plan:"pro"}))return!0;i({feature:"3_companion_limit"})?s=3:i({feature:"10_companion_limit"})&&(s=10);let{data:a,error:l}=await r.from("companions").select("id",{count:"exact"}).eq("author",t);if(l)throw Error(l.message);return!(a?.length>=s)},v=async(t,i)=>{let{userId:r}=await (0,n.j)();if(!r)return;let s=o(),{data:a,error:h}=await s.from("bookmarks").insert({companion_id:t,user_id:r});if(h)throw Error(h.message);return(0,l.revalidatePath)(i),a},b=async(t,i)=>{let{userId:r}=await (0,n.j)();if(!r)return;let s=o(),{data:a,error:h}=await s.from("bookmarks").delete().eq("companion_id",t).eq("user_id",r);if(h)throw Error(h.message);return(0,l.revalidatePath)(i),a},_=async t=>{let i=o(),{data:r,error:s}=await i.from("bookmarks").select("companions:companion_id (*)").eq("user_id",t);if(s)throw Error(s.message);return r.map(({companions:t})=>t)};(0,h.D)([c,u,p,d,f,m,g,y,v,b,_]),(0,s.A)(c,"7f5bac402195330fdabab560cc9e31e5c6ee9cefe5",null),(0,s.A)(u,"7fae424b498d0d18645a335bb2de6007a2657f4fb2",null),(0,s.A)(p,"7f9b5616db78f3ac4fa69151f340dd724861488c74",null),(0,s.A)(d,"7f8b88cf1ea7d3ee9a1997e9917d1dabd36aee62ad",null),(0,s.A)(f,"7f0856c0ac62865bbc7af1676759fd4faf95a688ee",null),(0,s.A)(m,"7f6ff3efb6b88169e2f4f793fac3c2ab157c2726dd",null),(0,s.A)(g,"7f8bf1966185a2fb6bdf0f21c788e175adc09d4a61",null),(0,s.A)(y,"7fde0d2a0b1d808790f5e80d27c63c74f27335a7bb",null),(0,s.A)(v,"7f3e62d056a67f6ea181a1dd7aa18953864cd5b109",null),(0,s.A)(b,"7f5d0355a47be797d3f0f9d5e27d30d14356e53244",null),(0,s.A)(_,"7fd03026208a361cdeff53264d79257329ae6a3893",null)},19063:t=>{"use strict";t.exports=require("require-in-the-middle")},19121:t=>{"use strict";t.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19139:(t,i,r)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.client=void 0,i.client=new(r(52746)).Api({baseUrl:"https://api.vapi.ai",baseApiParams:{secure:!0},securityWorker:async t=>{if(t)return{headers:{Authorization:`Bearer ${t}`}}}})},19771:t=>{"use strict";t.exports=require("process")},20105:function(module,exports,__webpack_require__){"undefined"!=typeof document&&"undefined"!=typeof navigator&&function(t,i){module.exports=i()}(0,function(){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(t){_useWebWorker=!!t},getWebWorker=function(){return _useWebWorker},setLocationHref=function(t){locationHref=t},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,i){var r,s,n=t.length;for(r=0;r<n;r+=1)for(var a in s=t[r].prototype)Object.prototype.hasOwnProperty.call(s,a)&&(i.prototype[a]=s[a])}function getDescriptor(t,i){return Object.getOwnPropertyDescriptor(t,i)}function createProxyFunction(t){function i(){}return i.prototype=t,i}var audioControllerFactory=function(){function t(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){var t,i=this.audios.length;for(t=0;t<i;t+=1)this.audios[t].pause()},resume:function(){var t,i=this.audios.length;for(t=0;t<i;t+=1)this.audios[t].resume()},setRate:function(t){var i,r=this.audios.length;for(i=0;i<r;i+=1)this.audios[i].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):window.Howl?new window.Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var t,i=this.audios.length;for(t=0;t<i;t+=1)this.audios[t].volume(!this._isMuted*this._volume)}},function(){return new t}}(),createTypedArray=function(){function t(t,i){var r,s=0,n=[];switch(t){case"int16":case"uint8c":r=1;break;default:r=1.1}for(s=0;s<i;s+=1)n.push(r);return n}function i(i,r){return"float32"===i?new Float32Array(r):"int16"===i?new Int16Array(r):"uint8c"===i?new Uint8ClampedArray(r):t(i,r)}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?i:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),_shouldRoundValues=!1,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface$1(){return{}}!function(){var t,i=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=i.length;for(t=0;t<r;t+=1)BMMath[i[t]]=Math[i[t]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"===_typeof$6(t)&&t.length){var i,r=createSizedArray(t.length),s=t.length;for(i=0;i<s;i+=1)r[i]=Math.abs(t[i]);return r}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){_shouldRoundValues=!!t}function bmRnd(t){return _shouldRoundValues?Math.round(t):t}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,i,r,s){this.type=t,this.currentTime=i,this.totalTime=r,this.direction=s<0?-1:1}function BMCompleteEvent(t,i){this.type=t,this.direction=i<0?-1:1}function BMCompleteLoopEvent(t,i,r,s){this.type=t,this.currentLoop=r,this.totalLoops=i,this.direction=s<0?-1:1}function BMSegmentStartEvent(t,i,r){this.type=t,this.firstFrame=i,this.totalFrames=r}function BMDestroyEvent(t,i){this.type=t,this.target=i}function BMRenderFrameErrorEvent(t,i){this.type="renderFrameError",this.nativeError=t,this.currentTime=i}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,i){this.type=t,this.nativeError=i}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix$1+"__lottie_element_"+t}}();function HSVtoRGB(t,i,r){var s,n,a,o,l,h,c,u;switch(o=Math.floor(6*t),l=6*t-o,h=r*(1-i),c=r*(1-l*i),u=r*(1-(1-l)*i),o%6){case 0:s=r,n=u,a=h;break;case 1:s=c,n=r,a=h;break;case 2:s=h,n=r,a=u;break;case 3:s=h,n=c,a=r;break;case 4:s=u,n=h,a=r;break;case 5:s=r,n=h,a=c}return[s,n,a]}function RGBtoHSV(t,i,r){var s,n=Math.max(t,i,r),a=Math.min(t,i,r),o=n-a,l=0===n?0:o/n,h=n/255;switch(n){case a:s=0;break;case t:s=(i-r+6*(i<r)*o)/(6*o);break;case i:s=(r-t+2*o)/(6*o);break;case r:s=(t-i+4*o)/(6*o)}return[s,l,h]}function addSaturationToRGB(t,i){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[1]+=i,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(t,i){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[2]+=i,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(t,i){var r=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return r[0]+=i/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var t,i,r=[];for(t=0;t<256;t+=1)i=t.toString(16),r[t]=1===i.length?"0"+i:i;return function(t,i,s){return t<0&&(t=0),i<0&&(i=0),s<0&&(s=0),"#"+r[t]+r[i]+r[s]}}(),setSubframeEnabled=function(t){subframeEnabled=!!t},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(t){expressionsPlugin=t},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(t){expressionsInterfaces=t},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(t){defaultCurveSegments=t},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(t){idPrefix$1=t},getIdPrefix=function(){return idPrefix$1};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var dataManager=function(){var t,i,r=1,s=[],n={onmessage:function(){},postMessage:function(i){t({data:i})}},a={postMessage:function(t){n.onmessage({data:t})}};function o(i){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",i.toString()],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))}return t=i,n}function l(){i||((i=o(function(t){function i(){function t(i,r){var o,l,h,c,u,p,f=i.length;for(l=0;l<f;l+=1)if("ks"in(o=i[l])&&!o.completed){if(o.completed=!0,o.hasMask){var m=o.masksProperties;for(h=0,c=m.length;h<c;h+=1)if(m[h].pt.k.i)a(m[h].pt.k);else for(u=0,p=m[h].pt.k.length;u<p;u+=1)m[h].pt.k[u].s&&a(m[h].pt.k[u].s[0]),m[h].pt.k[u].e&&a(m[h].pt.k[u].e[0])}0===o.ty?(o.layers=s(o.refId,r),t(o.layers,r)):4===o.ty?n(o.shapes):5===o.ty&&d(o)}}function i(i,r){if(i){var n=0,a=i.length;for(n=0;n<a;n+=1)1===i[n].t&&(i[n].data.layers=s(i[n].data.refId,r),t(i[n].data.layers,r))}}function r(t,i){for(var r=0,s=i.length;r<s;){if(i[r].id===t)return i[r];r+=1}return null}function s(t,i){var s=r(t,i);return s?s.layers.__used?JSON.parse(JSON.stringify(s.layers)):(s.layers.__used=!0,s.layers):null}function n(t){var i,r,s;for(i=t.length-1;i>=0;i-=1)if("sh"===t[i].ty)if(t[i].ks.k.i)a(t[i].ks.k);else for(r=0,s=t[i].ks.k.length;r<s;r+=1)t[i].ks.k[r].s&&a(t[i].ks.k[r].s[0]),t[i].ks.k[r].e&&a(t[i].ks.k[r].e[0]);else"gr"===t[i].ty&&n(t[i].it)}function a(t){var i,r=t.i.length;for(i=0;i<r;i+=1)t.i[i][0]+=t.v[i][0],t.i[i][1]+=t.v[i][1],t.o[i][0]+=t.v[i][0],t.o[i][1]+=t.v[i][1]}function o(t,i){var r=i?i.split("."):[100,100,100];return t[0]>r[0]||!(r[0]>t[0])&&(t[1]>r[1]||!(r[1]>t[1])&&(t[2]>r[2]||!(r[2]>t[2])&&null))}var l=function(){var t=[4,4,14];function i(t){var i=t.t.d;t.t.d={k:[{s:i,t:0}]}}function r(t){var r,s=t.length;for(r=0;r<s;r+=1)5===t[r].ty&&i(t[r])}return function(i){if(o(t,i.v)&&(r(i.layers),i.assets)){var s,n=i.assets.length;for(s=0;s<n;s+=1)i.assets[s].layers&&r(i.assets[s].layers)}}}(),h=function(){var t=[4,7,99];return function(i){if(i.chars&&!o(t,i.v)){var r,s=i.chars.length;for(r=0;r<s;r+=1){var a=i.chars[r];a.data&&a.data.shapes&&(n(a.data.shapes),a.data.ip=0,a.data.op=99999,a.data.st=0,a.data.sr=1,a.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},i.chars[r].t||(a.data.shapes.push({ty:"no"}),a.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),c=function(){var t=[5,7,15];function i(t){var i=t.t.p;"number"==typeof i.a&&(i.a={a:0,k:i.a}),"number"==typeof i.p&&(i.p={a:0,k:i.p}),"number"==typeof i.r&&(i.r={a:0,k:i.r})}function r(t){var r,s=t.length;for(r=0;r<s;r+=1)5===t[r].ty&&i(t[r])}return function(i){if(o(t,i.v)&&(r(i.layers),i.assets)){var s,n=i.assets.length;for(s=0;s<n;s+=1)i.assets[s].layers&&r(i.assets[s].layers)}}}(),u=function(){var t=[4,1,9];function i(t){var r,s,n,a=t.length;for(r=0;r<a;r+=1)if("gr"===t[r].ty)i(t[r].it);else if("fl"===t[r].ty||"st"===t[r].ty)if(t[r].c.k&&t[r].c.k[0].i)for(s=0,n=t[r].c.k.length;s<n;s+=1)t[r].c.k[s].s&&(t[r].c.k[s].s[0]/=255,t[r].c.k[s].s[1]/=255,t[r].c.k[s].s[2]/=255,t[r].c.k[s].s[3]/=255),t[r].c.k[s].e&&(t[r].c.k[s].e[0]/=255,t[r].c.k[s].e[1]/=255,t[r].c.k[s].e[2]/=255,t[r].c.k[s].e[3]/=255);else t[r].c.k[0]/=255,t[r].c.k[1]/=255,t[r].c.k[2]/=255,t[r].c.k[3]/=255}function r(t){var r,s=t.length;for(r=0;r<s;r+=1)4===t[r].ty&&i(t[r].shapes)}return function(i){if(o(t,i.v)&&(r(i.layers),i.assets)){var s,n=i.assets.length;for(s=0;s<n;s+=1)i.assets[s].layers&&r(i.assets[s].layers)}}}(),p=function(){var t=[4,4,18];function i(t){var r,s,n;for(r=t.length-1;r>=0;r-=1)if("sh"===t[r].ty)if(t[r].ks.k.i)t[r].ks.k.c=t[r].closed;else for(s=0,n=t[r].ks.k.length;s<n;s+=1)t[r].ks.k[s].s&&(t[r].ks.k[s].s[0].c=t[r].closed),t[r].ks.k[s].e&&(t[r].ks.k[s].e[0].c=t[r].closed);else"gr"===t[r].ty&&i(t[r].it)}function r(t){var r,s,n,a,o,l,h=t.length;for(s=0;s<h;s+=1){if((r=t[s]).hasMask){var c=r.masksProperties;for(n=0,a=c.length;n<a;n+=1)if(c[n].pt.k.i)c[n].pt.k.c=c[n].cl;else for(o=0,l=c[n].pt.k.length;o<l;o+=1)c[n].pt.k[o].s&&(c[n].pt.k[o].s[0].c=c[n].cl),c[n].pt.k[o].e&&(c[n].pt.k[o].e[0].c=c[n].cl)}4===r.ty&&i(r.shapes)}}return function(i){if(o(t,i.v)&&(r(i.layers),i.assets)){var s,n=i.assets.length;for(s=0;s<n;s+=1)i.assets[s].layers&&r(i.assets[s].layers)}}}();function d(t){0===t.t.a.length&&t.t.p}var f={};return f.completeData=function(r){r.__complete||(u(r),l(r),h(r),c(r),p(r),t(r.layers,r.assets),i(r.chars,r.assets),r.__complete=!0)},f.checkColors=u,f.checkChars=h,f.checkPathProperties=c,f.checkShapes=p,f.completeLayers=t,f}if(a.dataManager||(a.dataManager=i()),a.assetLoader||(a.assetLoader=function(){function t(t){var i=t.getResponseHeader("content-type");return i&&"json"===t.responseType&&-1!==i.indexOf("json")||t.response&&"object"===_typeof$5(t.response)?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}return{load:function(i,r,s,n){var a,o=new XMLHttpRequest;try{o.responseType="json"}catch(t){}o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)s(a=t(o));else try{a=t(o),s(a)}catch(t){n&&n(t)}};try{o.open("GET",i,!0)}catch(t){o.open("GET",r+"/"+i,!0)}o.send()}}}()),"loadAnimation"===t.data.type)a.assetLoader.load(t.data.path,t.data.fullPath,function(i){a.dataManager.completeData(i),a.postMessage({id:t.data.id,payload:i,status:"success"})},function(){a.postMessage({id:t.data.id,status:"error"})});else if("complete"===t.data.type){var r=t.data.animation;a.dataManager.completeData(r),a.postMessage({id:t.data.id,payload:r,status:"success"})}else"loadData"===t.data.type&&a.assetLoader.load(t.data.path,t.data.fullPath,function(i){a.postMessage({id:t.data.id,payload:i,status:"success"})},function(){a.postMessage({id:t.data.id,status:"error"})})})).onmessage=function(t){var i=t.data,r=i.id,n=s[r];s[r]=null,"success"===i.status?n.onComplete(i.payload):n.onError&&n.onError()})}function h(t,i){var n="processId_"+(r+=1);return s[n]={onComplete:t,onError:i},n}return{loadAnimation:function(t,r,s){l();var n=h(r,s);i.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:n})},loadData:function(t,r,s){l();var n=h(r,s);i.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:n})},completeAnimation:function(t,r,s){l();var n=h(r,s);i.postMessage({type:"complete",animation:t,id:n})}}}(),ImagePreloader=function(){var t=function(){var t=createTag("canvas");t.width=1,t.height=1;var i=t.getContext("2d");return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),t}();function i(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(t,i,r){var s="";if(t.e)s=t.p;else if(i){var n=t.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),s=i+n}else s=r+(t.u?t.u:"")+t.p;return s}function n(t){var i=0,r=setInterval((function(){(t.getBBox().width||i>500)&&(this._imageLoaded(),clearInterval(r)),i+=1}).bind(this),50)}function a(t){var i={assetData:t},r=s(t,this.assetsPath,this.path);return dataManager.loadData(r,(function(t){i.img=t,this._footageLoaded()}).bind(this),(function(){i.img={},this._footageLoaded()}).bind(this)),i}function o(){this._imageLoaded=i.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=n.bind(this),this.createFootageData=a.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return o.prototype={loadAssets:function(t,i){this.imagesLoadedCb=i;var r,s=t.length;for(r=0;r<s;r+=1)t[r].layers||(t[r].t&&"seq"!==t[r].t?3===t[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[r]))):(this.totalImages+=1,this.images.push(this._createImageData(t[r]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var i=0,r=this.images.length;i<r;){if(this.images[i].assetData===t)return this.images[i].img;i+=1}return null},createImgData:function(i){var r=s(i,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",(function(){a.img=t,this._imageLoaded()}).bind(this),!1),n.src=r;var a={img:n,assetData:i};return a},createImageData:function(i){var r=s(i,this.assetsPath,this.path),n=createNS("image");isSafari?this.testImageLoaded(n):n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",(function(){a.img=t,this._imageLoaded()}).bind(this),!1),n.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(n):this._elementHelper.appendChild(n);var a={img:n,assetData:i};return a},imageLoaded:i,footageLoaded:r,setCacheType:function(t,i){"svg"===t?(this._elementHelper=i,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},o}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,i){if(this._cbs[t])for(var r=this._cbs[t],s=0;s<r.length;s+=1)r[s](i)},addEventListener:function(t,i){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(i),(function(){this.removeEventListener(t,i)}).bind(this)},removeEventListener:function(t,i){if(i){if(this._cbs[t]){for(var r=0,s=this._cbs[t].length;r<s;)this._cbs[t][r]===i&&(this._cbs[t].splice(r,1),r-=1,s-=1),r+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var markerParser=function(){function t(t){for(var i,r=t.split("\r\n"),s={},n=0,a=0;a<r.length;a+=1)2===(i=r[a].split(":")).length&&(s[i[0]]=i[1].trim(),n+=1);if(0===n)throw Error();return s}return function(i){for(var r=[],s=0;s<i.length;s+=1){var n=i[s],a={time:n.tm,duration:n.dr};try{a.payload=JSON.parse(i[s].cm)}catch(r){try{a.payload=t(i[s].cm)}catch(t){a.payload={name:i[s].cm}}}r.push(a)}return r}}(),ProjectInterface=function(){function t(t){this.compositions.push(t)}return function(){function i(t){for(var i=0,r=this.compositions.length;i<r;){if(this.compositions[i].data&&this.compositions[i].data.nm===t)return this.compositions[i].prepareFrame&&this.compositions[i].data.xt&&this.compositions[i].prepareFrame(this.currentFrame),this.compositions[i].compInterface;i+=1}return null}return i.compositions=[],i.currentFrame=0,i.registerComposition=t,i}}(),renderers={},registerRenderer=function(t,i){renderers[t]=i};function getRenderer(t){return renderers[t]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var t in renderers)if(renderers[t])return t;return""}function _typeof$4(t){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var i="svg";t.animType?i=t.animType:t.renderer&&(i=t.renderer);var r=getRenderer(i);this.renderer=new r(this,t.rendererSettings),this.imagePreloader.setCacheType(i,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=i,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name?t.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,i){i&&"object"!==_typeof$4(i)&&(i=JSON.parse(i));var r={wrapper:t,animationData:i},s=t.attributes;r.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",r.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var n=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";"false"===n?r.loop=!1:"true"===n?r.loop=!0:""!==n&&(r.loop=parseInt(n,10)),r.autoplay="false"!==(s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:!s.getNamedItem("bm-autoplay")||s.getNamedItem("bm-autoplay").value),r.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"","false"===(s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var i,r,s=this.animationData.layers,n=s.length,a=t.layers,o=a.length;for(r=0;r<o;r+=1)for(i=0;i<n;){if(s[i].id===a[r].id){s[i]=a[r];break}i+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(i=0,n=t.assets.length;i<n;i+=1)this.animationData.assets.push(t.assets[i]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var i=getExpressionsPlugin();i&&i.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var i=t.shift();this.timeCompleted=i.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(t,i){var r="number"==typeof t?t:void 0,s="number"==typeof i?i:void 0;this.renderer.updateContainerSize(r,s)},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){(!t||this.name===t)&&!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var i,r=0;r<this.markers.length;r+=1)if((i=this.markers[r]).payload&&i.payload.name===t)return i;return null},AnimationItem.prototype.goToAndStop=function(t,i,r){if(!r||this.name===r){var s=Number(t);if(isNaN(s)){var n=this.getMarkerData(t);n&&this.goToAndStop(n.time,!0)}else i?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,i,r){if(!r||this.name===r){var s=Number(t);if(isNaN(s)){var n=this.getMarkerData(t);n&&(n.duration?this.playSegments([n.time,n.time+n.duration],!0):this.goToAndStop(n.time,!0))}else this.goToAndStop(s,i,r);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!0!==this.isPaused&&!1!==this.isLoaded){var i=this.currentRawFrame+t*this.frameModifier,r=!1;i>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?i>=this.totalFrames?(this.playCount+=1,this.checkSegments(i%this.totalFrames)||(this.setCurrentRawFrameValue(i%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(i):this.checkSegments(i>this.totalFrames?i%this.totalFrames:0)||(r=!0,i=this.totalFrames-1):i<0?this.checkSegments(i%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&!0!==this.loop)?(this.setCurrentRawFrameValue(this.totalFrames+i%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(r=!0,i=0)):this.setCurrentRawFrameValue(i),r&&(this.setCurrentRawFrameValue(i),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,i){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-i)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+i)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,i){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?r=t:this.currentRawFrame+this.firstFrame>i&&(r=i-t)),this.firstFrame=t,this.totalFrames=i-t,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(t,i){if(i&&(this.segments.length=0),"object"===_typeof$4(t[0])){var r,s=t.length;for(r=0;r<s;r+=1)this.segments.push(t[r])}else this.segments.push(t);this.segments.length&&i&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){(!t||this.name===t)&&this.renderer&&(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(t){this.loop=t},AnimationItem.prototype.setVolume=function(t,i){i&&this.name!==i||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var i="";if(t.e)i=t.p;else if(this.assetsPath){var r=t.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),i=this.assetsPath+r}else i=this.path+(t.u?t.u:"")+t.p;return i},AnimationItem.prototype.getAssetData=function(t){for(var i=0,r=this.assets.length;i<r;){if(t===this.assets[i].id)return this.assets[i];i+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(t,i,r){try{this.renderer.getElementByPath(t).updateDocumentData(i,r)}catch(t){}},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(t,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var i=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)},AnimationItem.prototype.triggerConfigError=function(t){var i=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)};var animationManager=function(){var t={},i=[],r=0,s=0,n=0,a=!0,o=!1;function l(t){for(var r=0,n=t.target;r<s;)i[r].animation===n&&(i.splice(r,1),r-=1,s-=1,n.isPaused||p()),r+=1}function h(t,r){if(!t)return null;for(var n=0;n<s;){if(i[n].elem===t&&null!==i[n].elem)return i[n].animation;n+=1}var a=new AnimationItem;return d(a,t),a.setData(t,r),a}function c(){var t,r=i.length,s=[];for(t=0;t<r;t+=1)s.push(i[t].animation);return s}function u(){n+=1,T()}function p(){n-=1}function d(t,r){t.addEventListener("destroy",l),t.addEventListener("_active",u),t.addEventListener("_idle",p),i.push({elem:r,animation:t}),s+=1}function f(t){var i=new AnimationItem;return d(i,null),i.setParams(t),i}function m(t,r){var n;for(n=0;n<s;n+=1)i[n].animation.setSpeed(t,r)}function g(t,r){var n;for(n=0;n<s;n+=1)i[n].animation.setDirection(t,r)}function y(t){var r;for(r=0;r<s;r+=1)i[r].animation.play(t)}function v(t){var l,h=t-r;for(l=0;l<s;l+=1)i[l].animation.advanceTime(h);r=t,n&&!o?window.requestAnimationFrame(v):a=!0}function b(t){r=t,window.requestAnimationFrame(v)}function _(t){var r;for(r=0;r<s;r+=1)i[r].animation.pause(t)}function k(t,r,n){var a;for(a=0;a<s;a+=1)i[a].animation.goToAndStop(t,r,n)}function S(t){var r;for(r=0;r<s;r+=1)i[r].animation.stop(t)}function w(t){var r;for(r=0;r<s;r+=1)i[r].animation.togglePause(t)}function C(t){var r;for(r=s-1;r>=0;r-=1)i[r].animation.destroy(t)}function E(t,i,r){var s,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),a=n.length;for(s=0;s<a;s+=1)r&&n[s].setAttribute("data-bm-type",r),h(n[s],t);if(i&&0===a){r||(r="svg");var o=document.getElementsByTagName("body")[0];o.innerText="";var l=createTag("div");l.style.width="100%",l.style.height="100%",l.setAttribute("data-bm-type",r),o.appendChild(l),h(l,t)}}function x(){var t;for(t=0;t<s;t+=1)i[t].animation.resize()}function T(){!o&&n&&a&&(window.requestAnimationFrame(b),a=!1)}function A(){o=!0}function P(){o=!1,T()}function M(t,r){var n;for(n=0;n<s;n+=1)i[n].animation.setVolume(t,r)}function D(t){var r;for(r=0;r<s;r+=1)i[r].animation.mute(t)}function I(t){var r;for(r=0;r<s;r+=1)i[r].animation.unmute(t)}return t.registerAnimation=h,t.loadAnimation=f,t.setSpeed=m,t.setDirection=g,t.play=y,t.pause=_,t.stop=S,t.togglePause=w,t.searchAnimations=E,t.resize=x,t.goToAndStop=k,t.destroy=C,t.freeze=A,t.unfreeze=P,t.setVolume=M,t.mute=D,t.unmute=I,t.getRegisteredAnimations=c,t}(),BezierFactory=function(){var t={};t.getBezierEasing=r;var i={};function r(t,r,s,n,a){var o=a||("bez_"+t+"_"+r+"_"+s+"_"+n).replace(/\./g,"p");if(i[o])return i[o];var l=new v([t,r,s,n]);return i[o]=l,l}var s=4,n=.001,a=1e-7,o=10,l=11,h=.1,c="function"==typeof Float32Array;function u(t,i){return 1-3*i+3*t}function p(t,i){return 3*i-6*t}function d(t){return 3*t}function f(t,i,r){return((u(i,r)*t+p(i,r))*t+d(i))*t}function m(t,i,r){return 3*u(i,r)*t*t+2*p(i,r)*t+d(i)}function g(t,i,r,s,n){var l,h,c=0;do(l=f(h=i+(r-i)/2,s,n)-t)>0?r=h:i=h;while(Math.abs(l)>a&&++c<o);return h}function y(t,i,r,n){for(var a=0;a<s;++a){var o=m(i,r,n);if(0===o)break;var l=f(i,r,n)-t;i-=l/o}return i}function v(t){this._p=t,this._mSampleValues=c?new Float32Array(l):Array(l),this._precomputed=!1,this.get=this.get.bind(this)}return v.prototype={get:function(t){var i=this._p[0],r=this._p[1],s=this._p[2],n=this._p[3];return(this._precomputed||this._precompute(),i===r&&s===n)?t:0===t?0:1===t?1:f(this._getTForX(t),r,n)},_precompute:function(){var t=this._p[0],i=this._p[1],r=this._p[2],s=this._p[3];this._precomputed=!0,(t!==i||r!==s)&&this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],i=this._p[2],r=0;r<l;++r)this._mSampleValues[r]=f(r*h,t,i)},_getTForX:function(t){for(var i=this._p[0],r=this._p[2],s=this._mSampleValues,a=0,o=1,c=l-1;o!==c&&s[o]<=t;++o)a+=h;var u=a+(t-s[--o])/(s[o+1]-s[o])*h,p=m(u,i,r);return p>=n?y(t,u,i,r):0===p?u:g(t,a,a+h,i,r)}},t}(),pooling=function(){return{double:function(t){return t.concat(createSizedArray(t.length))}}}(),poolFactory=function(){return function(t,i,r){var s=0,n=t,a=createSizedArray(n);return{newElement:function(){var t;return s?(s-=1,t=a[s]):t=i(),t},release:function(t){s===n&&(a=pooling.double(a),n*=2),r&&r(t),a[s]=t,s+=1}}}}(),bezierLengthPool=function(){return poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})}(),segmentsLengthPool=function(){return poolFactory(8,function(){return{lengths:[],totalLength:0}},function(t){var i,r=t.lengths.length;for(i=0;i<r;i+=1)bezierLengthPool.release(t.lengths[i]);t.lengths.length=0})}();function bezFunction(){var t=Math;function i(t,i,r,s,n,a){var o=t*s+i*n+r*a-n*s-a*t-r*i;return o>-.001&&o<.001}function r(r,s,n,a,o,l,h,c,u){if(0===n&&0===l&&0===u)return i(r,s,a,o,h,c);var p,d=t.sqrt(t.pow(a-r,2)+t.pow(o-s,2)+t.pow(l-n,2)),f=t.sqrt(t.pow(h-r,2)+t.pow(c-s,2)+t.pow(u-n,2)),m=t.sqrt(t.pow(h-a,2)+t.pow(c-o,2)+t.pow(u-l,2));return(p=d>f?d>m?d-f-m:m-f-d:m>f?m-f-d:f-d-m)>-1e-4&&p<1e-4}var s=function(){return function(t,i,r,s){var n,a,o,l,h,c,u=getDefaultCurveSegments(),p=0,d=[],f=[],m=bezierLengthPool.newElement();for(n=0,o=r.length;n<u;n+=1){for(a=0,h=n/(u-1),c=0;a<o;a+=1)l=bmPow(1-h,3)*t[a]+3*bmPow(1-h,2)*h*r[a]+3*(1-h)*bmPow(h,2)*s[a]+bmPow(h,3)*i[a],d[a]=l,null!==f[a]&&(c+=bmPow(d[a]-f[a],2)),f[a]=d[a];c&&(p+=c=bmSqrt(c)),m.percents[n]=h,m.lengths[n]=p}return m.addedLength=p,m}}();function n(t){var i,r=segmentsLengthPool.newElement(),n=t.c,a=t.v,o=t.o,l=t.i,h=t._length,c=r.lengths,u=0;for(i=0;i<h-1;i+=1)c[i]=s(a[i],a[i+1],o[i],l[i+1]),u+=c[i].addedLength;return n&&h&&(c[i]=s(a[i],a[0],o[i],l[0]),u+=c[i].addedLength),r.totalLength=u,r}function a(t){this.segmentLength=0,this.points=Array(t)}function o(t,i){this.partialLength=t,this.point=i}var l=function(){var t={};return function(r,s,n,l){var h=(r[0]+"_"+r[1]+"_"+s[0]+"_"+s[1]+"_"+n[0]+"_"+n[1]+"_"+l[0]+"_"+l[1]).replace(/\./g,"p");if(!t[h]){var c,u,p,d,f,m,g,y=getDefaultCurveSegments(),v=0,b=null;2===r.length&&(r[0]!==s[0]||r[1]!==s[1])&&i(r[0],r[1],s[0],s[1],r[0]+n[0],r[1]+n[1])&&i(r[0],r[1],s[0],s[1],s[0]+l[0],s[1]+l[1])&&(y=2);var _=new a(y);for(c=0,p=n.length;c<y;c+=1){for(u=0,g=createSizedArray(p),f=c/(y-1),m=0;u<p;u+=1)d=bmPow(1-f,3)*r[u]+3*bmPow(1-f,2)*f*(r[u]+n[u])+3*(1-f)*bmPow(f,2)*(s[u]+l[u])+bmPow(f,3)*s[u],g[u]=d,null!==b&&(m+=bmPow(g[u]-b[u],2));v+=m=bmSqrt(m),_.points[c]=new o(m,g),b=g}_.segmentLength=v,t[h]=_}return t[h]}}();function h(t,i){var r=i.percents,s=i.lengths,n=r.length,a=bmFloor((n-1)*t),o=t*i.addedLength,l=0;if(a===n-1||0===a||o===s[a])return r[a];for(var h=s[a]>o?-1:1,c=!0;c;)if(s[a]<=o&&s[a+1]>o?(l=(o-s[a])/(s[a+1]-s[a]),c=!1):a+=h,a<0||a>=n-1){if(a===n-1)return r[a];c=!1}return r[a]+(r[a+1]-r[a])*l}function c(i,r,s,n,a,o){var l=h(a,o),c=1-l;return[t.round((c*c*c*i[0]+(l*c*c+c*l*c+c*c*l)*s[0]+(l*l*c+c*l*l+l*c*l)*n[0]+l*l*l*r[0])*1e3)/1e3,t.round((c*c*c*i[1]+(l*c*c+c*l*c+c*c*l)*s[1]+(l*l*c+c*l*l+l*c*l)*n[1]+l*l*l*r[1])*1e3)/1e3]}var u=createTypedArray("float32",8);return{getSegmentsLength:n,getNewSegment:function(i,r,s,n,a,o,l){a<0?a=0:a>1&&(a=1);var c,p=h(a,l),d=h(o=o>1?1:o,l),f=i.length,m=1-p,g=1-d,y=m*m*m,v=p*m*m*3,b=p*p*m*3,_=p*p*p,k=m*m*g,S=p*m*g+m*p*g+m*m*d,w=p*p*g+m*p*d+p*m*d,C=p*p*d,E=m*g*g,x=p*g*g+m*d*g+m*g*d,T=p*d*g+m*d*d+p*g*d,A=p*d*d,P=g*g*g,M=d*g*g+g*d*g+g*g*d,D=d*d*g+g*d*d+d*g*d,I=d*d*d;for(c=0;c<f;c+=1)u[4*c]=t.round((y*i[c]+v*s[c]+b*n[c]+_*r[c])*1e3)/1e3,u[4*c+1]=t.round((k*i[c]+S*s[c]+w*n[c]+C*r[c])*1e3)/1e3,u[4*c+2]=t.round((E*i[c]+x*s[c]+T*n[c]+A*r[c])*1e3)/1e3,u[4*c+3]=t.round((P*i[c]+M*s[c]+D*n[c]+I*r[c])*1e3)/1e3;return u},getPointInSegment:c,buildBezierData:l,pointOnLine2D:i,pointOnLine3D:r}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(t,i){var r,s,n,a,o,l=this.offsetTime;"multidimensional"===this.propType&&(y=createTypedArray("float32",this.pv.length));for(var h=i.lastIndex,c=h,u=this.keyframes.length-1,p=!0;p;){if(v=this.keyframes[c],b=this.keyframes[c+1],c===u-1&&t>=b.t-l){v.h&&(v=b),h=0;break}if(b.t-l>t){h=c;break}c<u-1?c+=1:(h=0,p=!1)}_=this.keyframesMetadata[c]||{};var d=b.t-l,f=v.t-l;if(v.to){_.bezierData||(_.bezierData=bez.buildBezierData(v.s,b.s||v.e,v.to,v.ti));var m=_.bezierData;if(t>=d||t<f){var g=t>=d?m.points.length-1:0;for(k=0,S=m.points[g].point.length;k<S;k+=1)y[k]=m.points[g].point[k]}else{_.__fnct?E=_.__fnct:_.__fnct=E=BezierFactory.getBezierEasing(v.o.x,v.o.y,v.i.x,v.i.y,v.n).get;var y,v,b,_,k,S,w,C,E,x,T,A=E((t-f)/(d-f)),P=m.segmentLength*A,M=i.lastFrame<t&&i._lastKeyframeIndex===c?i._lastAddedLength:0;for(C=i.lastFrame<t&&i._lastKeyframeIndex===c?i._lastPoint:0,p=!0,w=m.points.length;p;){if(M+=m.points[C].partialLength,0===P||0===A||C===m.points.length-1){for(k=0,S=m.points[C].point.length;k<S;k+=1)y[k]=m.points[C].point[k];break}if(P>=M&&P<M+m.points[C+1].partialLength){for(k=0,T=(P-M)/m.points[C+1].partialLength,S=m.points[C].point.length;k<S;k+=1)y[k]=m.points[C].point[k]+(m.points[C+1].point[k]-m.points[C].point[k])*T;break}C<w-1?C+=1:p=!1}i._lastPoint=C,i._lastAddedLength=M-m.points[C].partialLength,i._lastKeyframeIndex=c}}else if(u=v.s.length,x=b.s||v.e,this.sh&&1!==v.h)t>=d?(y[0]=x[0],y[1]=x[1],y[2]=x[2]):t<=f?(y[0]=v.s[0],y[1]=v.s[1],y[2]=v.s[2]):quaternionToEuler(y,slerp(createQuaternion(v.s),createQuaternion(x),(t-f)/(d-f)));else for(c=0;c<u;c+=1)1!==v.h&&(t>=d?A=1:t<f?A=0:(v.o.x.constructor===Array?(_.__fnct||(_.__fnct=[]),_.__fnct[c]?E=_.__fnct[c]:(r=void 0===v.o.x[c]?v.o.x[0]:v.o.x[c],s=void 0===v.o.y[c]?v.o.y[0]:v.o.y[c],n=void 0===v.i.x[c]?v.i.x[0]:v.i.x[c],a=void 0===v.i.y[c]?v.i.y[0]:v.i.y[c],E=BezierFactory.getBezierEasing(r,s,n,a).get,_.__fnct[c]=E)):_.__fnct?E=_.__fnct:(r=v.o.x,s=v.o.y,n=v.i.x,a=v.i.y,E=BezierFactory.getBezierEasing(r,s,n,a).get,v.keyframeMetadata=E),A=E((t-f)/(d-f)))),x=b.s||v.e,o=1===v.h?v.s[c]:v.s[c]+(x[c]-v.s[c])*A,"multidimensional"===this.propType?y[c]=o:y=o;return i.lastIndex=h,y}function slerp(t,i,r){var s,n,a,o,l,h=[],c=t[0],u=t[1],p=t[2],d=t[3],f=i[0],m=i[1],g=i[2],y=i[3];return(n=c*f+u*m+p*g+d*y)<0&&(n=-n,f=-f,m=-m,g=-g,y=-y),1-n>1e-6?(a=Math.sin(s=Math.acos(n)),o=Math.sin((1-r)*s)/a,l=Math.sin(r*s)/a):(o=1-r,l=r),h[0]=o*c+l*f,h[1]=o*u+l*m,h[2]=o*p+l*g,h[3]=o*d+l*y,h}function quaternionToEuler(t,i){var r=i[0],s=i[1],n=i[2],a=i[3],o=Math.atan2(2*s*a-2*r*n,1-2*s*s-2*n*n),l=Math.asin(2*r*s+2*n*a),h=Math.atan2(2*r*a-2*s*n,1-2*r*r-2*n*n);t[0]=o/degToRads,t[1]=l/degToRads,t[2]=h/degToRads}function createQuaternion(t){var i=t[0]*degToRads,r=t[1]*degToRads,s=t[2]*degToRads,n=Math.cos(i/2),a=Math.cos(r/2),o=Math.cos(s/2),l=Math.sin(i/2),h=Math.sin(r/2),c=Math.sin(s/2),u=n*a*o-l*h*c;return[l*h*o+n*a*c,l*a*o+n*h*c,n*h*o-l*a*c,u]}function getValueAtCurrentTime(){var t=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<i&&t<i))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var s=this.interpolateValue(t,this._caching);this.pv=s}return this._caching.lastFrame=t,this.pv}function setVValue(t){var i;if("unidimensional"===this.propType)i=t*this.mult,mathAbs(this.v-i)>1e-5&&(this.v=i,this._mdf=!0);else for(var r=0,s=this.v.length;r<s;)i=t[r]*this.mult,mathAbs(this.v[r]-i)>1e-5&&(this.v[r]=i,this._mdf=!0),r+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var t,i=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(t=0;t<i;t+=1)r=this.effectsSequence[t](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function ValueProperty(t,i,r,s){this.propType="unidimensional",this.mult=r||1,this.data=i,this.v=r?i.k*r:i.k,this.pv=i.k,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(t,i,r,s){this.propType="multidimensional",this.mult=r||1,this.data=i,this._mdf=!1,this.elem=t,this.container=s,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var n,a=i.k.length;for(n=0,this.v=createTypedArray("float32",a),this.pv=createTypedArray("float32",a),this.vel=createTypedArray("float32",a);n<a;n+=1)this.v[n]=i.k[n]*this.mult,this.pv[n]=i.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(t,i,r,s){this.propType="unidimensional",this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=r||1,this.elem=t,this.container=s,this.comp=t.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(t,i,r,s){this.propType="multidimensional";var n,a,o,l,h,c=i.k.length;for(n=0;n<c-1;n+=1)i.k[n].to&&i.k[n].s&&i.k[n+1]&&i.k[n+1].s&&(a=i.k[n].s,o=i.k[n+1].s,l=i.k[n].to,h=i.k[n].ti,(2===a.length&&(a[0]!==o[0]||a[1]!==o[1])&&bez.pointOnLine2D(a[0],a[1],o[0],o[1],a[0]+l[0],a[1]+l[1])&&bez.pointOnLine2D(a[0],a[1],o[0],o[1],o[0]+h[0],o[1]+h[1])||3===a.length&&(a[0]!==o[0]||a[1]!==o[1]||a[2]!==o[2])&&bez.pointOnLine3D(a[0],a[1],a[2],o[0],o[1],o[2],a[0]+l[0],a[1]+l[1],a[2]+l[2])&&bez.pointOnLine3D(a[0],a[1],a[2],o[0],o[1],o[2],o[0]+h[0],o[1]+h[1],o[2]+h[2]))&&(i.k[n].to=null,i.k[n].ti=null),a[0]===o[0]&&a[1]===o[1]&&0===l[0]&&0===l[1]&&0===h[0]&&0===h[1]&&(2===a.length||a[2]===o[2]&&0===l[2]&&0===h[2])&&(i.k[n].to=null,i.k[n].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=i,this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=t,this.container=s,this.comp=t.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var u=i.k[0].s.length;for(n=0,this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u);n<u;n+=1)this.v[n]=initFrame,this.pv[n]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",u)},this.addEffect=addEffect}var PropertyFactory=function(){return{getProp:function(t,i,r,s,n){var a;if(i.sid&&(i=t.globalData.slotManager.getProp(i)),i.k.length)if("number"==typeof i.k[0])a=new MultiDimensionalProperty(t,i,s,n);else switch(r){case 0:a=new KeyframedValueProperty(t,i,s,n);break;case 1:a=new KeyframedMultidimensionalProperty(t,i,s,n)}else a=new ValueProperty(t,i,s,n);return a.effectsSequence.length&&n.addDynamicProperty(a),a}}}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var t,i=this.dynamicProperties.length;for(t=0;t<i;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){return poolFactory(8,function(){return createTypedArray("float32",2)})}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,i){this.c=t,this.setLength(i);for(var r=0;r<i;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,i,r,s,n){var a;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":a=this.v;break;case"i":a=this.i;break;case"o":a=this.o;break;default:a=[]}a[s]&&(!a[s]||n)||(a[s]=pointPool.newElement()),a[s][0]=t,a[s][1]=i},ShapePath.prototype.setTripleAt=function(t,i,r,s,n,a,o,l){this.setXYAt(t,i,"v",o,l),this.setXYAt(r,s,"o",o,l),this.setXYAt(n,a,"i",o,l)},ShapePath.prototype.reverse=function(){var t,i=new ShapePath;i.setPathData(this.c,this._length);var r=this.v,s=this.o,n=this.i,a=0;this.c&&(i.setTripleAt(r[0][0],r[0][1],n[0][0],n[0][1],s[0][0],s[0][1],0,!1),a=1);var o=this._length-1,l=this._length;for(t=a;t<l;t+=1)i.setTripleAt(r[o][0],r[o][1],n[o][0],n[o][1],s[o][0],s[o][1],t,!1),o-=1;return i},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function t(t){var r,s=i.newElement(),n=void 0===t._length?t.v.length:t._length;for(s.setLength(n),s.c=t.c,r=0;r<n;r+=1)s.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],r);return s}var i=poolFactory(4,function(){return new ShapePath},function(t){var i,r=t._length;for(i=0;i<r;i+=1)pointPool.release(t.v[i]),pointPool.release(t.i[i]),pointPool.release(t.o[i]),t.v[i]=null,t.i[i]=null,t.o[i]=null;t._length=0,t.c=!1});return i.clone=t,i}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:n,release:a},i=0,r=4,s=createSizedArray(4);function n(){var t;return i?(i-=1,t=s[i]):t=new ShapeCollection,t}function a(t){var n,a=t._length;for(n=0;n<a;n+=1)shapePool.release(t.shapes[n]);t._length=0,i===r&&(s=pooling.double(s),r*=2),s[i]=t,i+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function i(t,i,r){var s=r.lastIndex,n=this.keyframes;if(t<n[0].t-this.offsetTime)a=n[0].s[0],l=!0,s=0;else if(t>=n[n.length-1].t-this.offsetTime)a=n[n.length-1].s?n[n.length-1].s[0]:n[n.length-2].e[0],l=!0;else{for(var a,o,l,h,c,u,p,d,f,m,g,y,v,b=s,_=n.length-1,k=!0;k&&(m=n[b],!((g=n[b+1]).t-this.offsetTime>t));)b<_-1?b+=1:k=!1;y=this.keyframesMetadata[b]||{},l=1===m.h,s=b,l||(t>=g.t-this.offsetTime?d=1:t<m.t-this.offsetTime?d=0:(y.__fnct?v=y.__fnct:y.__fnct=v=BezierFactory.getBezierEasing(m.o.x,m.o.y,m.i.x,m.i.y).get,d=v((t-(m.t-this.offsetTime))/(g.t-this.offsetTime-(m.t-this.offsetTime)))),o=g.s?g.s[0]:m.e[0]),a=m.s[0]}for(h=0,u=i._length,p=a.i[0].length,r.lastIndex=s;h<u;h+=1)for(c=0;c<p;c+=1)f=l?a.i[h][c]:a.i[h][c]+(o.i[h][c]-a.i[h][c])*d,i.i[h][c]=f,f=l?a.o[h][c]:a.o[h][c]+(o.o[h][c]-a.o[h][c])*d,i.o[h][c]=f,f=l?a.v[h][c]:a.v[h][c]+(o.v[h][c]-a.v[h][c])*d,i.v[h][c]=f}function r(){var i=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==t&&(n<r&&i<r||n>s&&i>s)||(this._caching.lastIndex=n<i?this._caching.lastIndex:0,this.interpolateShape(i,this.pv,this._caching)),this._caching.lastFrame=i,this.pv}function s(){this.paths=this.localShapeCollection}function n(t,i){if(t._length!==i._length||t.c!==i.c)return!1;var r,s=t._length;for(r=0;r<s;r+=1)if(t.v[r][0]!==i.v[r][0]||t.v[r][1]!==i.v[r][1]||t.o[r][0]!==i.o[r][0]||t.o[r][1]!==i.o[r][1]||t.i[r][0]!==i.i[r][0]||t.i[r][1]!==i.i[r][1])return!1;return!0}function a(t){n(this.v,t)||(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function o(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=!1,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var t,i,r=this.effectsSequence.length;for(i=0;i<r;i+=1)t=this.effectsSequence[i](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function l(t,i,r){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=i,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?i.pt.k:i.ks.k;this.v=shapePool.clone(n),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function h(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function c(i,n,a){this.propType="shape",this.comp=i.comp,this.elem=i,this.container=i,this.offsetTime=i.data.st,this.keyframes=3===a?n.pt.k:n.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=s,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[r.bind(this)]}l.prototype.interpolateShape=i,l.prototype.getValue=o,l.prototype.setVValue=a,l.prototype.addEffect=h,c.prototype.getValue=o,c.prototype.interpolateShape=i,c.prototype.setVValue=a,c.prototype.addEffect=h;var u=function(){var t=roundCorner;function i(t,i){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=i.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,i.p,1,0,this),this.s=PropertyFactory.getProp(t,i.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return i.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var i=this.p.v[0],r=this.p.v[1],s=this.s.v[0]/2,n=this.s.v[1]/2,a=3!==this.d,o=this.v;o.v[0][0]=i,o.v[0][1]=r-n,o.v[1][0]=a?i+s:i-s,o.v[1][1]=r,o.v[2][0]=i,o.v[2][1]=r+n,o.v[3][0]=a?i-s:i+s,o.v[3][1]=r,o.i[0][0]=a?i-s*t:i+s*t,o.i[0][1]=r-n,o.i[1][0]=a?i+s:i-s,o.i[1][1]=r-n*t,o.i[2][0]=a?i+s*t:i-s*t,o.i[2][1]=r+n,o.i[3][0]=a?i-s:i+s,o.i[3][1]=r+n*t,o.o[0][0]=a?i+s*t:i-s*t,o.o[0][1]=r-n,o.o[1][0]=a?i+s:i-s,o.o[1][1]=r+n*t,o.o[2][0]=a?i-s*t:i+s*t,o.o[2][1]=r+n,o.o[3][0]=a?i-s:i+s,o.o[3][1]=r-n*t}},extendPrototype([DynamicPropertyContainer],i),i}(),p=function(){function t(t,i){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=i,this.frameId=-1,this.d=i.d,this.initDynamicPropertyContainer(t),1===i.sy?(this.ir=PropertyFactory.getProp(t,i.ir,0,0,this),this.is=PropertyFactory.getProp(t,i.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,i.pt,0,0,this),this.p=PropertyFactory.getProp(t,i.p,1,0,this),this.r=PropertyFactory.getProp(t,i.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,i.or,0,0,this),this.os=PropertyFactory.getProp(t,i.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return t.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t,i,r,s,n=2*Math.floor(this.pt.v),a=2*Math.PI/n,o=!0,l=this.or.v,h=this.ir.v,c=this.os.v,u=this.is.v,p=2*Math.PI*l/(2*n),d=2*Math.PI*h/(2*n),f=-Math.PI/2;f+=this.r.v;var m=3===this.data.d?-1:1;for(t=0,this.v._length=0;t<n;t+=1){i=o?l:h,r=o?c:u,s=o?p:d;var g=i*Math.cos(f),y=i*Math.sin(f),v=0===g&&0===y?0:y/Math.sqrt(g*g+y*y),b=0===g&&0===y?0:-g/Math.sqrt(g*g+y*y);g+=+this.p.v[0],y+=+this.p.v[1],this.v.setTripleAt(g,y,g-v*s*r*m,y-b*s*r*m,g+v*s*r*m,y+b*s*r*m,t,!0),o=!o,f+=a*m}},convertPolygonToPath:function(){var t,i=Math.floor(this.pt.v),r=2*Math.PI/i,s=this.or.v,n=this.os.v,a=2*Math.PI*s/(4*i),o=-(.5*Math.PI),l=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,t=0;t<i;t+=1){var h=s*Math.cos(o),c=s*Math.sin(o),u=0===h&&0===c?0:c/Math.sqrt(h*h+c*c),p=0===h&&0===c?0:-h/Math.sqrt(h*h+c*c);h+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(h,c,h-u*a*n*l,c-p*a*n*l,h+u*a*n*l,c+p*a*n*l,t,!0),o+=r*l}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],t),t}(),d=function(){function t(t,i){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=i.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,i.p,1,0,this),this.s=PropertyFactory.getProp(t,i.s,1,0,this),this.r=PropertyFactory.getProp(t,i.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return t.prototype={convertRectToPath:function(){var t=this.p.v[0],i=this.p.v[1],r=this.s.v[0]/2,s=this.s.v[1]/2,n=bmMin(r,s,this.r.v),a=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+r,i-s+n,t+r,i-s+n,t+r,i-s+a,0,!0),this.v.setTripleAt(t+r,i+s-n,t+r,i+s-a,t+r,i+s-n,1,!0),0!==n?(this.v.setTripleAt(t+r-n,i+s,t+r-n,i+s,t+r-a,i+s,2,!0),this.v.setTripleAt(t-r+n,i+s,t-r+a,i+s,t-r+n,i+s,3,!0),this.v.setTripleAt(t-r,i+s-n,t-r,i+s-n,t-r,i+s-a,4,!0),this.v.setTripleAt(t-r,i-s+n,t-r,i-s+a,t-r,i-s+n,5,!0),this.v.setTripleAt(t-r+n,i-s,t-r+n,i-s,t-r+a,i-s,6,!0),this.v.setTripleAt(t+r-n,i-s,t+r-a,i-s,t+r-n,i-s,7,!0)):(this.v.setTripleAt(t-r,i+s,t-r+a,i+s,t-r,i+s,2),this.v.setTripleAt(t-r,i-s,t-r,i-s+a,t-r,i-s,3))):(this.v.setTripleAt(t+r,i-s+n,t+r,i-s+a,t+r,i-s+n,0,!0),0!==n?(this.v.setTripleAt(t+r-n,i-s,t+r-n,i-s,t+r-a,i-s,1,!0),this.v.setTripleAt(t-r+n,i-s,t-r+a,i-s,t-r+n,i-s,2,!0),this.v.setTripleAt(t-r,i-s+n,t-r,i-s+n,t-r,i-s+a,3,!0),this.v.setTripleAt(t-r,i+s-n,t-r,i+s-a,t-r,i+s-n,4,!0),this.v.setTripleAt(t-r+n,i+s,t-r+n,i+s,t-r+a,i+s,5,!0),this.v.setTripleAt(t+r-n,i+s,t+r-a,i+s,t+r-n,i+s,6,!0),this.v.setTripleAt(t+r,i+s-n,t+r,i+s-n,t+r,i+s-a,7,!0)):(this.v.setTripleAt(t-r,i-s,t-r+a,i-s,t-r,i-s,1,!0),this.v.setTripleAt(t-r,i+s,t-r,i+s-a,t-r,i+s,2,!0),this.v.setTripleAt(t+r,i+s,t+r-a,i+s,t+r,i+s,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],t),t}();function f(){return l}function m(){return c}var g={};return g.getShapeProp=function(t,i,r){var s;return 3===r||4===r?s=(3===r?i.pt:i.ks).k.length?new c(t,i,r):new l(t,i,r):5===r?s=new d(t,i):6===r?s=new u(t,i):7===r&&(s=new p(t,i)),s.k&&t.addDynamicProperty(s),s},g.getConstructorFunction=f,g.getKeyframedConstructorFunction=m,g}(),Matrix=function(){var t=Math.cos,i=Math.sin,r=Math.tan,s=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function a(r){if(0===r)return this;var s=t(r),n=i(r);return this._t(s,-n,0,0,n,s,0,0,0,0,1,0,0,0,0,1)}function o(r){if(0===r)return this;var s=t(r),n=i(r);return this._t(1,0,0,0,0,s,-n,0,0,n,s,0,0,0,0,1)}function l(r){if(0===r)return this;var s=t(r),n=i(r);return this._t(s,0,n,0,0,1,0,0,-n,0,s,0,0,0,0,1)}function h(r){if(0===r)return this;var s=t(r),n=i(r);return this._t(s,-n,0,0,n,s,0,0,0,0,1,0,0,0,0,1)}function c(t,i){return this._t(1,i,t,1,0,0)}function u(t,i){return this.shear(r(t),r(i))}function p(s,n){var a=t(n),o=i(n);return this._t(a,o,0,0,-o,a,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(s),1,0,0,0,0,1,0,0,0,0,1)._t(a,-o,0,0,o,a,0,0,0,0,1,0,0,0,0,1)}function d(t,i,r){return(r||0===r||(r=1),1===t&&1===i&&1===r)?this:this._t(t,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1)}function f(t,i,r,s,n,a,o,l,h,c,u,p,d,f,m,g){return this.props[0]=t,this.props[1]=i,this.props[2]=r,this.props[3]=s,this.props[4]=n,this.props[5]=a,this.props[6]=o,this.props[7]=l,this.props[8]=h,this.props[9]=c,this.props[10]=u,this.props[11]=p,this.props[12]=d,this.props[13]=f,this.props[14]=m,this.props[15]=g,this}function m(t,i,r){return(r=r||0,0!==t||0!==i||0!==r)?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,i,r,1):this}function g(t,i,r,s,n,a,o,l,h,c,u,p,d,f,m,g){var y=this.props;if(1===t&&0===i&&0===r&&0===s&&0===n&&1===a&&0===o&&0===l&&0===h&&0===c&&1===u&&0===p)return y[12]=y[12]*t+y[15]*d,y[13]=y[13]*a+y[15]*f,y[14]=y[14]*u+y[15]*m,y[15]*=g,this._identityCalculated=!1,this;var v=y[0],b=y[1],_=y[2],k=y[3],S=y[4],w=y[5],C=y[6],E=y[7],x=y[8],T=y[9],A=y[10],P=y[11],M=y[12],D=y[13],I=y[14],L=y[15];return y[0]=v*t+b*n+_*h+k*d,y[1]=v*i+b*a+_*c+k*f,y[2]=v*r+b*o+_*u+k*m,y[3]=v*s+b*l+_*p+k*g,y[4]=S*t+w*n+C*h+E*d,y[5]=S*i+w*a+C*c+E*f,y[6]=S*r+w*o+C*u+E*m,y[7]=S*s+w*l+C*p+E*g,y[8]=x*t+T*n+A*h+P*d,y[9]=x*i+T*a+A*c+P*f,y[10]=x*r+T*o+A*u+P*m,y[11]=x*s+T*l+A*p+P*g,y[12]=M*t+D*n+I*h+L*d,y[13]=M*i+D*a+I*c+L*f,y[14]=M*r+D*o+I*u+L*m,y[15]=M*s+D*l+I*p+L*g,this._identityCalculated=!1,this}function y(t){var i=t.props;return this.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15])}function v(){return this._identityCalculated||(this._identity=1===this.props[0]&&0===this.props[1]&&0===this.props[2]&&0===this.props[3]&&0===this.props[4]&&1===this.props[5]&&0===this.props[6]&&0===this.props[7]&&0===this.props[8]&&0===this.props[9]&&1===this.props[10]&&0===this.props[11]&&0===this.props[12]&&0===this.props[13]&&0===this.props[14]&&1===this.props[15],this._identityCalculated=!0),this._identity}function b(t){for(var i=0;i<16;){if(t.props[i]!==this.props[i])return!1;i+=1}return!0}function _(t){var i;for(i=0;i<16;i+=1)t.props[i]=this.props[i];return t}function k(t){var i;for(i=0;i<16;i+=1)this.props[i]=t[i]}function S(t,i,r){return{x:t*this.props[0]+i*this.props[4]+r*this.props[8]+this.props[12],y:t*this.props[1]+i*this.props[5]+r*this.props[9]+this.props[13],z:t*this.props[2]+i*this.props[6]+r*this.props[10]+this.props[14]}}function w(t,i,r){return t*this.props[0]+i*this.props[4]+r*this.props[8]+this.props[12]}function C(t,i,r){return t*this.props[1]+i*this.props[5]+r*this.props[9]+this.props[13]}function E(t,i,r){return t*this.props[2]+i*this.props[6]+r*this.props[10]+this.props[14]}function x(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],i=this.props[5]/t,r=-this.props[1]/t,s=-this.props[4]/t,n=this.props[0]/t,a=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,l=new Matrix;return l.props[0]=i,l.props[1]=r,l.props[4]=s,l.props[5]=n,l.props[12]=a,l.props[13]=o,l}function T(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function A(t){var i,r=t.length,s=[];for(i=0;i<r;i+=1)s[i]=T(t[i]);return s}function P(t,i,r){var s=createTypedArray("float32",6);if(this.isIdentity())s[0]=t[0],s[1]=t[1],s[2]=i[0],s[3]=i[1],s[4]=r[0],s[5]=r[1];else{var n=this.props[0],a=this.props[1],o=this.props[4],l=this.props[5],h=this.props[12],c=this.props[13];s[0]=t[0]*n+t[1]*o+h,s[1]=t[0]*a+t[1]*l+c,s[2]=i[0]*n+i[1]*o+h,s[3]=i[0]*a+i[1]*l+c,s[4]=r[0]*n+r[1]*o+h,s[5]=r[0]*a+r[1]*l+c}return s}function M(t,i,r){var s;return this.isIdentity()?[t,i,r]:[t*this.props[0]+i*this.props[4]+r*this.props[8]+this.props[12],t*this.props[1]+i*this.props[5]+r*this.props[9]+this.props[13],t*this.props[2]+i*this.props[6]+r*this.props[10]+this.props[14]]}function D(t,i){if(this.isIdentity())return t+","+i;var r=this.props;return Math.round((t*r[0]+i*r[4]+r[12])*100)/100+","+Math.round((t*r[1]+i*r[5]+r[13])*100)/100}function I(){for(var t=0,i=this.props,r="matrix3d(",n=1e4;t<16;)r+=s(i[t]*n)/n,r+=15===t?")":",",t+=1;return r}function L(t){var i=1e4;return t<1e-6&&t>0||t>-1e-6&&t<0?s(t*i)/i:t}function O(){var t=this.props;return"matrix("+L(t[0])+","+L(t[1])+","+L(t[4])+","+L(t[5])+","+L(t[12])+","+L(t[13])+")"}return function(){this.reset=n,this.rotate=a,this.rotateX=o,this.rotateY=l,this.rotateZ=h,this.skew=u,this.skewFromAxis=p,this.shear=c,this.scale=d,this.setTransform=f,this.translate=m,this.transform=g,this.multiply=y,this.applyToPoint=S,this.applyToX=w,this.applyToY=C,this.applyToZ=E,this.applyToPointArray=M,this.applyToTriplePoints=P,this.applyToPointStringified=D,this.toCSS=I,this.to2dCSS=O,this.clone=_,this.cloneFromProps=k,this.equals=b,this.inversePoints=A,this.inversePoint=T,this.getInverseMatrix=x,this._t=this.transform,this.isIdentity=v,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var lottie={},standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";function setLocation(t){setLocationHref(t)}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t);getDefaultCurveSegments()>=50?roundValues(!1):roundValues(!0)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,i){"expressions"===t&&setExpressionsPlugin(i)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var i=queryString.split("&"),r=0;r<i.length;r+=1){var s=i[r].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";var queryString="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&__webpack_require__.amdO}catch(err){}var ShapeModifiers=function(){var t={},i={};function r(t,r,s){return new i[t](r,s)}return t.registerModifier=function t(t,r){i[t]||(i[t]=r)},t.getModifier=r,t}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var i={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(i),this.addShapeToModifier(i),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,i){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,i),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,i){this.s=PropertyFactory.getProp(t,i.s,0,.01,this),this.e=PropertyFactory.getProp(t,i.e,0,.01,this),this.o=PropertyFactory.getProp(t,i.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=i.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,i,r,s,n){var a,o,l,h=[];i<=1?h.push({s:t,e:i}):t>=1?h.push({s:t-1,e:i-1}):(h.push({s:t,e:1}),h.push({s:0,e:i-1}));var c=[],u=h.length;for(a=0;a<u;a+=1)(o=h[a]).e*n<s||o.s*n>s+r||(l=o.s*n<=s?0:(o.s*n-s)/r,c.push([l,o.e*n>=s+r?1:(o.e*n-s)/r]));return c.length||c.push([0,0]),c},TrimModifier.prototype.releasePathsData=function(t){var i,r=t.length;for(i=0;i<r;i+=1)segmentsLengthPool.release(t[i]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){if(this._mdf||t){var i=this.o.v%360/360;if(i<0&&(i+=1),(a=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(o=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var r=a;a=o,o=r}a=1e-4*Math.round(1e4*a),o=1e-4*Math.round(1e4*o),this.sValue=a,this.eValue=o}else a=this.sValue,o=this.eValue;var s=this.shapes.length,n=0;if(o===a)for(h=0;h<s;h+=1)this.shapes[h].localShapeCollection.releaseShapes(),this.shapes[h].shape._mdf=!0,this.shapes[h].shape.paths=this.shapes[h].localShapeCollection,this._mdf&&(this.shapes[h].pathsData.length=0);else if((1!==o||0!==a)&&(0!==o||1!==a)){var a,o,l,h,c,u,p,d,f,m,g,y,v=[];for(h=0;h<s;h+=1)if((m=this.shapes[h]).shape._mdf||this._mdf||t||2===this.m){if(u=(l=m.shape.paths)._length,f=0,!m.shape._mdf&&m.pathsData.length)f=m.totalShapeLength;else{for(c=0,p=this.releasePathsData(m.pathsData);c<u;c+=1)d=bez.getSegmentsLength(l.shapes[c]),p.push(d),f+=d.totalLength;m.totalShapeLength=f,m.pathsData=p}n+=f,m.shape._mdf=!0}else m.shape.paths=m.localShapeCollection;var b=a,_=o,k=0;for(h=s-1;h>=0;h-=1)if((m=this.shapes[h]).shape._mdf){for((g=m.localShapeCollection).releaseShapes(),2===this.m&&s>1?(y=this.calculateShapeEdges(a,o,m.totalShapeLength,k,n),k+=m.totalShapeLength):y=[[b,_]],u=y.length,c=0;c<u;c+=1){b=y[c][0],_=y[c][1],v.length=0,_<=1?v.push({s:m.totalShapeLength*b,e:m.totalShapeLength*_}):b>=1?v.push({s:m.totalShapeLength*(b-1),e:m.totalShapeLength*(_-1)}):(v.push({s:m.totalShapeLength*b,e:m.totalShapeLength}),v.push({s:0,e:m.totalShapeLength*(_-1)}));var S=this.addShapes(m,v[0]);if(v[0].s!==v[0].e){if(v.length>1)if(m.shape.paths.shapes[m.shape.paths._length-1].c){var w=S.pop();this.addPaths(S,g),S=this.addShapes(m,v[1],w)}else this.addPaths(S,g),S=this.addShapes(m,v[1]);this.addPaths(S,g)}}m.shape.paths=g}}else if(this._mdf)for(h=0;h<s;h+=1)this.shapes[h].pathsData.length=0,this.shapes[h].shape._mdf=!0},TrimModifier.prototype.addPaths=function(t,i){var r,s=t.length;for(r=0;r<s;r+=1)i.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,i,r,s,n,a,o){n.setXYAt(i[0],i[1],"o",a),n.setXYAt(r[0],r[1],"i",a+1),o&&n.setXYAt(t[0],t[1],"v",a),n.setXYAt(s[0],s[1],"v",a+1)},TrimModifier.prototype.addSegmentFromArray=function(t,i,r,s){i.setXYAt(t[1],t[5],"o",r),i.setXYAt(t[2],t[6],"i",r+1),s&&i.setXYAt(t[0],t[4],"v",r),i.setXYAt(t[3],t[7],"v",r+1)},TrimModifier.prototype.addShapes=function(t,i,r){var s,n,a,o,l,h,c,u,p=t.pathsData,d=t.shape.paths.shapes,f=t.shape.paths._length,m=0,g=[],y=!0;for(r?(l=r._length,u=r._length):(r=shapePool.newElement(),l=0,u=0),g.push(r),s=0;s<f;s+=1){for(n=1,h=p[s].lengths,r.c=d[s].c,a=d[s].c?h.length:h.length+1;n<a;n+=1)if(m+(o=h[n-1]).addedLength<i.s)m+=o.addedLength,r.c=!1;else if(m>i.e){r.c=!1;break}else i.s<=m&&i.e>=m+o.addedLength?(this.addSegment(d[s].v[n-1],d[s].o[n-1],d[s].i[n],d[s].v[n],r,l,y),y=!1):(c=bez.getNewSegment(d[s].v[n-1],d[s].v[n],d[s].o[n-1],d[s].i[n],(i.s-m)/o.addedLength,(i.e-m)/o.addedLength,h[n-1]),this.addSegmentFromArray(c,r,l,y),y=!1,r.c=!1),m+=o.addedLength,l+=1;if(d[s].c&&h.length){if(o=h[n-1],m<=i.e){var v=h[n-1].addedLength;i.s<=m&&i.e>=m+v?(this.addSegment(d[s].v[n-1],d[s].o[n-1],d[s].i[0],d[s].v[0],r,l,y),y=!1):(c=bez.getNewSegment(d[s].v[n-1],d[s].v[0],d[s].o[n-1],d[s].i[0],(i.s-m)/v,(i.e-m)/v,h[n-1]),this.addSegmentFromArray(c,r,l,y),y=!1,r.c=!1)}else r.c=!1;m+=o.addedLength,l+=1}if(r._length&&(r.setXYAt(r.v[u][0],r.v[u][1],"i",u),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),m>i.e)break;s<f-1&&(r=shapePool.newElement(),y=!0,g.push(r),l=0)}return g},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,i){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,i.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,i){var r,s,n,a,o,l,h=i/100,c=[0,0],u=t._length,p=0;for(p=0;p<u;p+=1)c[0]+=t.v[p][0],c[1]+=t.v[p][1];c[0]/=u,c[1]/=u;var d=shapePool.newElement();for(p=0,d.c=t.c;p<u;p+=1)r=t.v[p][0]+(c[0]-t.v[p][0])*h,s=t.v[p][1]+(c[1]-t.v[p][1])*h,n=t.o[p][0]+-((c[0]-t.o[p][0])*h),a=t.o[p][1]+-((c[1]-t.o[p][1])*h),o=t.i[p][0]+-((c[0]-t.i[p][0])*h),l=t.i[p][1]+-((c[1]-t.i[p][1])*h),d.setTripleAt(r,s,n,a,o,l,p);return d},PuckerAndBloatModifier.prototype.processShapes=function(t){var i,r,s,n,a,o,l=this.shapes.length,h=this.amount.v;if(0!==h)for(r=0;r<l;r+=1){if(o=(a=this.shapes[r]).localShapeCollection,!(!a.shape._mdf&&!this._mdf&&!t))for(o.releaseShapes(),a.shape._mdf=!0,i=a.shape.paths.shapes,n=a.shape.paths._length,s=0;s<n;s+=1)o.addShape(this.processPath(i[s],h));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function i(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0}function r(t,i,r){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=i,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||t),i.p&&i.p.s?(this.px=PropertyFactory.getProp(t,i.p.x,0,0,this),this.py=PropertyFactory.getProp(t,i.p.y,0,0,this),i.p.z&&(this.pz=PropertyFactory.getProp(t,i.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,i.p||{k:[0,0,0]},1,0,this),i.rx){if(this.rx=PropertyFactory.getProp(t,i.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,i.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,i.rz,0,degToRads,this),i.or.k[0].ti){var s,n=i.or.k.length;for(s=0;s<n;s+=1)i.or.k[s].to=null,i.or.k[s].ti=null}this.or=PropertyFactory.getProp(t,i.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,i.r||{k:0},0,degToRads,this);i.sk&&(this.sk=PropertyFactory.getProp(t,i.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,i.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,i.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,i.s||{k:[100,100,100]},1,.01,this),i.o?this.o=PropertyFactory.getProp(t,i.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return r.prototype={applyToMatrix:function(t){var i=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||i,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(i){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||i){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(s=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),n=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(s=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),n=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(s=this.p.pv,n=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){var s=[],n=[],a=this.px,o=this.py;a._caching.lastFrame+a.offsetTime<=a.keyframes[0].t?(s[0]=a.getValueAtTime((a.keyframes[0].t+.01)/r,0),s[1]=o.getValueAtTime((o.keyframes[0].t+.01)/r,0),n[0]=a.getValueAtTime(a.keyframes[0].t/r,0),n[1]=o.getValueAtTime(o.keyframes[0].t/r,0)):a._caching.lastFrame+a.offsetTime>=a.keyframes[a.keyframes.length-1].t?(s[0]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/r,0),s[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/r,0),n[0]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/r,0),n[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/r,0)):(s=[a.pv,o.pv],n[0]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/r,a.offsetTime),n[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/r,o.offsetTime))}else s=n=t;this.v.rotate(-Math.atan2(s[1]-n[1],s[0]-n[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length){if(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk)if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;else this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],r),r.prototype.addDynamicProperty=i,r.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,i,s){return new r(t,i,s)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(t,i){return 1e5*Math.abs(t-i)<=Math.min(Math.abs(t),Math.abs(i))}function floatZero(t){return 1e-5>=Math.abs(t)}function lerp(t,i,r){return t*(1-r)+i*r}function lerpPoint(t,i,r){return[lerp(t[0],i[0],r),lerp(t[1],i[1],r)]}function quadRoots(t,i,r){if(0===t)return[];var s=i*i-4*t*r;if(s<0)return[];var n=-i/(2*t);if(0===s)return[n];var a=Math.sqrt(s)/(2*t);return[n-a,n+a]}function polynomialCoefficients(t,i,r,s){return[-t+3*i-3*r+s,3*t-6*i+3*r,-3*t+3*i,t]}function singlePoint(t){return new PolynomialBezier(t,t,t,t,!1)}function PolynomialBezier(t,i,r,s,n){n&&pointEqual(t,i)&&(i=lerpPoint(t,s,1/3)),n&&pointEqual(r,s)&&(r=lerpPoint(t,s,2/3));var a=polynomialCoefficients(t[0],i[0],r[0],s[0]),o=polynomialCoefficients(t[1],i[1],r[1],s[1]);this.a=[a[0],o[0]],this.b=[a[1],o[1]],this.c=[a[2],o[2]],this.d=[a[3],o[3]],this.points=[t,i,r,s]}function extrema(t,i){var r=t.points[0][i],s=t.points[t.points.length-1][i];if(r>s){var n=s;s=r,r=n}for(var a=quadRoots(3*t.a[i],2*t.b[i],t.c[i]),o=0;o<a.length;o+=1)if(a[o]>0&&a[o]<1){var l=t.point(a[o])[i];l<r?r=l:l>s&&(s=l)}return{min:r,max:s}}function intersectData(t,i,r){var s=t.boundingBox();return{cx:s.cx,cy:s.cy,width:s.width,height:s.height,bez:t,t:(i+r)/2,t1:i,t2:r}}function splitData(t){var i=t.bez.split(.5);return[intersectData(i[0],t.t1,t.t),intersectData(i[1],t.t,t.t2)]}function boxIntersect(t,i){return 2*Math.abs(t.cx-i.cx)<t.width+i.width&&2*Math.abs(t.cy-i.cy)<t.height+i.height}function intersectsImpl(t,i,r,s,n,a){if(boxIntersect(t,i)){if(r>=a||t.width<=s&&t.height<=s&&i.width<=s&&i.height<=s)return void n.push([t.t,i.t]);var o=splitData(t),l=splitData(i);intersectsImpl(o[0],l[0],r+1,s,n,a),intersectsImpl(o[0],l[1],r+1,s,n,a),intersectsImpl(o[1],l[0],r+1,s,n,a),intersectsImpl(o[1],l[1],r+1,s,n,a)}}function crossProduct(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function lineIntersection(t,i,r,s){var n=[t[0],t[1],1],a=[i[0],i[1],1],o=[r[0],r[1],1],l=[s[0],s[1],1],h=crossProduct(crossProduct(n,a),crossProduct(o,l));return floatZero(h[2])?null:[h[0]/h[2],h[1]/h[2]]}function polarOffset(t,i,r){return[t[0]+Math.cos(i)*r,t[1]-Math.sin(i)*r]}function pointDistance(t,i){return Math.hypot(t[0]-i[0],t[1]-i[1])}function pointEqual(t,i){return floatEqual(t[0],i[0])&&floatEqual(t[1],i[1])}function ZigZagModifier(){}function setPoint(t,i,r,s,n,a,o){var l=r-Math.PI/2,h=r+Math.PI/2,c=i[0]+Math.cos(r)*s*n,u=i[1]-Math.sin(r)*s*n;t.setTripleAt(c,u,c+Math.cos(l)*a,u-Math.sin(l)*a,c+Math.cos(h)*o,u-Math.sin(h)*o,t.length())}function getPerpendicularVector(t,i){var r=[i[0]-t[0],i[1]-t[1]],s=-(.5*Math.PI);return[Math.cos(s)*r[0]-Math.sin(s)*r[1],Math.sin(s)*r[0]+Math.cos(s)*r[1]]}function getProjectingAngle(t,i){var r=0===i?t.length()-1:i-1,s=(i+1)%t.length(),n=getPerpendicularVector(t.v[r],t.v[s]);return Math.atan2(0,1)-Math.atan2(n[1],n[0])}function zigZagCorner(t,i,r,s,n,a,o){var l=getProjectingAngle(i,r),h=i.v[r%i._length],c=i.v[0===r?i._length-1:r-1],u=i.v[(r+1)%i._length],p=2===a?Math.sqrt(Math.pow(h[0]-c[0],2)+Math.pow(h[1]-c[1],2)):0,d=2===a?Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)):0;setPoint(t,i.v[r%i._length],l,o,s,d/((n+1)*2),p/((n+1)*2),a)}function zigZagSegment(t,i,r,s,n,a){for(var o=0;o<s;o+=1){var l=(o+1)/(s+1),h=2===n?Math.sqrt(Math.pow(i.points[3][0]-i.points[0][0],2)+Math.pow(i.points[3][1]-i.points[0][1],2)):0,c=i.normalAngle(l);setPoint(t,i.point(l),c,a,r,h/((s+1)*2),h/((s+1)*2),n),a=-a}return a}function linearOffset(t,i,r){var s=Math.atan2(i[0]-t[0],i[1]-t[1]);return[polarOffset(t,s,r),polarOffset(i,s,r)]}function offsetSegment(t,i){r=(l=linearOffset(t.points[0],t.points[1],i))[0],s=l[1],n=(l=linearOffset(t.points[1],t.points[2],i))[0],a=l[1],o=(l=linearOffset(t.points[2],t.points[3],i))[0];var r,s,n,a,o,l,h=l[1],c=lineIntersection(r,s,n,a);null===c&&(c=s);var u=lineIntersection(o,h,n,a);return null===u&&(u=o),new PolynomialBezier(r,c,u,h)}function joinLines(t,i,r,s,n){var a=i.points[3],o=r.points[0];if(3===s||pointEqual(a,o))return a;if(2===s){var l=-i.tangentAngle(1),h=-r.tangentAngle(0)+Math.PI,c=lineIntersection(a,polarOffset(a,l+Math.PI/2,100),o,polarOffset(o,l+Math.PI/2,100)),u=c?pointDistance(c,a):pointDistance(a,o)/2,p=polarOffset(a,l,2*u*roundCorner);return t.setXYAt(p[0],p[1],"o",t.length()-1),p=polarOffset(o,h,2*u*roundCorner),t.setTripleAt(o[0],o[1],o[0],o[1],p[0],p[1],t.length()),o}var d=pointEqual(a,i.points[2])?i.points[0]:i.points[2],f=pointEqual(o,r.points[1])?r.points[3]:r.points[1],m=lineIntersection(d,a,o,f);return m&&pointDistance(m,a)<n?(t.setTripleAt(m[0],m[1],m[0],m[1],m[0],m[1],t.length()),m):a}function getIntersection(t,i){var r=t.intersections(i);return(r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length)?r[0]:null}function pruneSegmentIntersection(t,i){var r=t.slice(),s=i.slice(),n=getIntersection(t[t.length-1],i[0]);return(n&&(r[t.length-1]=t[t.length-1].split(n[0])[0],s[0]=i[0].split(n[1])[1]),t.length>1&&i.length>1&&(n=getIntersection(t[0],i[i.length-1])))?[[t[0].split(n[0])[0]],[i[i.length-1].split(n[1])[1]]]:[r,s]}function pruneIntersections(t){for(var i,r=1;r<t.length;r+=1)i=pruneSegmentIntersection(t[r-1],t[r]),t[r-1]=i[0],t[r]=i[1];return t.length>1&&(i=pruneSegmentIntersection(t[t.length-1],t[0]),t[t.length-1]=i[0],t[0]=i[1]),t}function offsetSegmentSplit(t,i){var r,s,n,a,o=t.inflectionPoints();if(0===o.length)return[offsetSegment(t,i)];if(1===o.length||floatEqual(o[1],1))return r=(n=t.split(o[0]))[0],s=n[1],[offsetSegment(r,i),offsetSegment(s,i)];r=(n=t.split(o[0]))[0];var l=(o[1]-o[0])/(1-o[0]);return a=(n=n[1].split(l))[0],s=n[1],[offsetSegment(r,i),offsetSegment(a,i),offsetSegment(s,i)]}function OffsetPathModifier(){}function getFontProperties(t){for(var i=t.fStyle?t.fStyle.split(" "):[],r="normal",s="normal",n=i.length,a=0;a<n;a+=1)switch(i[a].toLowerCase()){case"italic":s="italic";break;case"bold":r="700";break;case"black":r="900";break;case"medium":r="500";break;case"regular":case"normal":r="400";break;case"light":case"thin":r="200"}return{style:s,weight:t.fWeight||r}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,i){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,i.c,0,null,this),this.o=PropertyFactory.getProp(t,i.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,i.tr,this),this.so=PropertyFactory.getProp(t,i.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,i.tr.eo,0,.01,this),this.data=i,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,i,r,s,n,a){var o=a?-1:1,l=s.s.v[0]+(1-s.s.v[0])*(1-n),h=s.s.v[1]+(1-s.s.v[1])*(1-n);t.translate(s.p.v[0]*o*n,s.p.v[1]*o*n,s.p.v[2]),i.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),i.rotate(-s.r.v*o*n),i.translate(s.a.v[0],s.a.v[1],s.a.v[2]),r.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),r.scale(a?1/l:l,a?1/h:h),r.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(t,i,r,s){for(this.elem=t,this.arr=i,this.pos=r,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,i[r]);r>0;)r-=1,this._elements.unshift(i[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var i,r=t.length;for(i=0;i<r;i+=1)t[i]._processed=!1,"gr"===t[i].ty&&this.resetElements(t[i].it)},RepeaterModifier.prototype.cloneElements=function(t){var i=JSON.parse(JSON.stringify(t));return this.resetElements(i),i},RepeaterModifier.prototype.changeGroupRender=function(t,i){var r,s=t.length;for(r=0;r<s;r+=1)t[r]._render=i,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,i)},RepeaterModifier.prototype.processShapes=function(t){var i=!1;if(this._mdf||t){var r,s,n,a,o,l,h,c,u=Math.ceil(this.c.v);if(this._groups.length<u){for(;this._groups.length<u;){var p={it:this.cloneElements(this._elements),ty:"gr"};p.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,p),this._groups.splice(0,0,p),this._currentCopies+=1}this.elem.reloadShapes(),i=!0}for(n=0,o=0;n<=this._groups.length-1;n+=1){if(l=o<u,this._groups[n]._render=l,this.changeGroupRender(this._groups[n].it,l),!l){var d=this.elemsData[n].it,f=d[d.length-1];0!==f.transform.op.v?(f.transform.op._mdf=!0,f.transform.op.v=0):f.transform.op._mdf=!1}o+=1}this._currentCopies=u;var m=this.o.v,g=m%1,y=m>0?Math.floor(m):Math.ceil(m),v=this.pMatrix.props,b=this.rMatrix.props,_=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var k=0;if(m>0){for(;k<y;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),k+=1;g&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,g,!1),k+=g)}else if(m<0){for(;k>y;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),k-=1;g&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-g,!0),k-=g)}for(n=1===this.data.m?0:this._currentCopies-1,a=1===this.data.m?1:-1,o=this._currentCopies;o;){if(c=(s=(r=this.elemsData[n].it)[r.length-1].transform.mProps.v.props).length,r[r.length-1].transform.mProps._mdf=!0,r[r.length-1].transform.op._mdf=!0,r[r.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==k){for((0!==n&&1===a||n!==this._currentCopies-1&&-1===a)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),this.matrix.transform(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14],_[15]),this.matrix.transform(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15]),h=0;h<c;h+=1)s[h]=this.matrix.props[h];this.matrix.reset()}else for(this.matrix.reset(),h=0;h<c;h+=1)s[h]=this.matrix.props[h];k+=1,o-=1,n+=a}}else for(o=this._currentCopies,n=0,a=1;o;)s=(r=this.elemsData[n].it)[r.length-1].transform.mProps.v.props,r[r.length-1].transform.mProps._mdf=!1,r[r.length-1].transform.op._mdf=!1,o-=1,n+=a;return i},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,i){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,i.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,i){var r,s,n,a,o,l,h,c,u,p,d,f,m,g=shapePool.newElement();g.c=t.c;var y=t._length,v=0;for(r=0;r<y;r+=1)s=t.v[r],a=t.o[r],n=t.i[r],s[0]===a[0]&&s[1]===a[1]&&s[0]===n[0]&&s[1]===n[1]?0!==r&&r!==y-1||t.c?(o=0===r?t.v[y-1]:t.v[r-1],h=(l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)))?Math.min(l/2,i)/l:0,c=f=s[0]+(o[0]-s[0])*h,u=m=s[1]-(s[1]-o[1])*h,p=c-(c-s[0])*roundCorner,d=u-(u-s[1])*roundCorner,g.setTripleAt(c,u,p,d,f,m,v),v+=1,o=r===y-1?t.v[0]:t.v[r+1],h=(l=Math.sqrt(Math.pow(s[0]-o[0],2)+Math.pow(s[1]-o[1],2)))?Math.min(l/2,i)/l:0,c=p=s[0]+(o[0]-s[0])*h,u=d=s[1]+(o[1]-s[1])*h,f=c-(c-s[0])*roundCorner,m=u-(u-s[1])*roundCorner,g.setTripleAt(c,u,p,d,f,m,v)):g.setTripleAt(s[0],s[1],a[0],a[1],n[0],n[1],v):g.setTripleAt(t.v[r][0],t.v[r][1],t.o[r][0],t.o[r][1],t.i[r][0],t.i[r][1],v),v+=1;return g},RoundCornersModifier.prototype.processShapes=function(t){var i,r,s,n,a,o,l=this.shapes.length,h=this.rd.v;if(0!==h)for(r=0;r<l;r+=1){if(o=(a=this.shapes[r]).localShapeCollection,!(!a.shape._mdf&&!this._mdf&&!t))for(o.releaseShapes(),a.shape._mdf=!0,i=a.shape.paths.shapes,n=a.shape.paths._length,s=0;s<n;s+=1)o.addShape(this.processPath(i[s],h));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(t){return[((this.a[0]*t+this.b[0])*t+this.c[0])*t+this.d[0],((this.a[1]*t+this.b[1])*t+this.c[1])*t+this.d[1]]},PolynomialBezier.prototype.derivative=function(t){return[(3*t*this.a[0]+2*this.b[0])*t+this.c[0],(3*t*this.a[1]+2*this.b[1])*t+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(t){var i=this.derivative(t);return Math.atan2(i[1],i[0])},PolynomialBezier.prototype.normalAngle=function(t){var i=this.derivative(t);return Math.atan2(i[0],i[1])},PolynomialBezier.prototype.inflectionPoints=function(){var t=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(t))return[];var i=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/t,r=i*i-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/t;if(r<0)return[];var s=Math.sqrt(r);return floatZero(s)?s>0&&s<1?[i]:[]:[i-s,i+s].filter(function(t){return t>0&&t<1})},PolynomialBezier.prototype.split=function(t){if(t<=0)return[singlePoint(this.points[0]),this];if(t>=1)return[this,singlePoint(this.points[this.points.length-1])];var i=lerpPoint(this.points[0],this.points[1],t),r=lerpPoint(this.points[1],this.points[2],t),s=lerpPoint(this.points[2],this.points[3],t),n=lerpPoint(i,r,t),a=lerpPoint(r,s,t),o=lerpPoint(n,a,t);return[new PolynomialBezier(this.points[0],i,n,o,!0),new PolynomialBezier(o,a,s,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var t=this.bounds();return{left:t.x.min,right:t.x.max,top:t.y.min,bottom:t.y.max,width:t.x.max-t.x.min,height:t.y.max-t.y.min,cx:(t.x.max+t.x.min)/2,cy:(t.y.max+t.y.min)/2}},PolynomialBezier.prototype.intersections=function(t,i,r){void 0===i&&(i=2),void 0===r&&(r=7);var s=[];return intersectsImpl(intersectData(this,0,1),intersectData(t,0,1),0,i,s,r),s},PolynomialBezier.shapeSegment=function(t,i){var r=(i+1)%t.length();return new PolynomialBezier(t.v[i],t.o[i],t.i[r],t.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(t,i){var r=(i+1)%t.length();return new PolynomialBezier(t.v[r],t.i[r],t.o[i],t.v[i],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(t,i){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(t,i.s,0,null,this),this.frequency=PropertyFactory.getProp(t,i.r,0,null,this),this.pointsType=PropertyFactory.getProp(t,i.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(t,i,r,s){var n=t._length,a=shapePool.newElement();if(a.c=t.c,t.c||(n-=1),0===n)return a;var o=-1,l=PolynomialBezier.shapeSegment(t,0);zigZagCorner(a,t,0,i,r,s,o);for(var h=0;h<n;h+=1)o=zigZagSegment(a,l,i,r,s,-o),l=h!==n-1||t.c?PolynomialBezier.shapeSegment(t,(h+1)%n):null,zigZagCorner(a,t,h+1,i,r,s,o);return a},ZigZagModifier.prototype.processShapes=function(t){var i,r,s,n,a,o,l=this.shapes.length,h=this.amplitude.v,c=Math.max(0,Math.round(this.frequency.v)),u=this.pointsType.v;if(0!==h)for(r=0;r<l;r+=1){if(o=(a=this.shapes[r]).localShapeCollection,!(!a.shape._mdf&&!this._mdf&&!t))for(o.releaseShapes(),a.shape._mdf=!0,i=a.shape.paths.shapes,n=a.shape.paths._length,s=0;s<n;s+=1)o.addShape(this.processPath(i[s],h,c,u));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(t,i){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,i.a,0,null,this),this.miterLimit=PropertyFactory.getProp(t,i.ml,0,null,this),this.lineJoin=i.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(t,i,r,s){var n,a,o,l=shapePool.newElement();l.c=t.c;var h=t.length();t.c||(h-=1);var c=[];for(n=0;n<h;n+=1)o=PolynomialBezier.shapeSegment(t,n),c.push(offsetSegmentSplit(o,i));if(!t.c)for(n=h-1;n>=0;n-=1)o=PolynomialBezier.shapeSegmentInverted(t,n),c.push(offsetSegmentSplit(o,i));c=pruneIntersections(c);var u=null,p=null;for(n=0;n<c.length;n+=1){var d=c[n];for(p&&(u=joinLines(l,p,d[0],r,s)),p=d[d.length-1],a=0;a<d.length;a+=1)o=d[a],u&&pointEqual(o.points[0],u)?l.setXYAt(o.points[1][0],o.points[1][1],"o",l.length()-1):l.setTripleAt(o.points[0][0],o.points[0][1],o.points[1][0],o.points[1][1],o.points[0][0],o.points[0][1],l.length()),l.setTripleAt(o.points[3][0],o.points[3][1],o.points[3][0],o.points[3][1],o.points[2][0],o.points[2][1],l.length()),u=o.points[3]}return c.length&&joinLines(l,p,c[0][0],r,s),l},OffsetPathModifier.prototype.processShapes=function(t){var i,r,s,n,a,o,l=this.shapes.length,h=this.amount.v,c=this.miterLimit.v,u=this.lineJoin;if(0!==h)for(r=0;r<l;r+=1){if(o=(a=this.shapes[r]).localShapeCollection,!(!a.shape._mdf&&!this._mdf&&!t))for(o.releaseShapes(),a.shape._mdf=!0,i=a.shape.paths.shapes,n=a.shape.paths._length,s=0;s<n;s+=1)o.addShape(this.processPath(i[s],h,u,c));a.shape.paths=a.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var t=5e3,i={w:0,size:0,shapes:[],data:{shapes:[]}},r=[];r=r.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=127988,n=917631,a=917601,o=917626,l=65039,h=8205,c=127462,u=127487,p=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function d(t){var i,r=t.split(","),s=r.length,n=[];for(i=0;i<s;i+=1)"sans-serif"!==r[i]&&"monospace"!==r[i]&&n.push(r[i]);return n.join(",")}function f(t,i){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=i;var s=createTag("span");s.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(s),document.body.appendChild(r);var n=s.offsetWidth;return s.style.fontFamily=d(t)+", "+i,{node:s,w:n,parent:r}}function m(){var i,r,s,n=this.fonts.length,a=n;for(i=0;i<n;i+=1)this.fonts[i].loaded?a-=1:"n"===this.fonts[i].fOrigin||0===this.fonts[i].origin?this.fonts[i].loaded=!0:(r=this.fonts[i].monoCase.node,s=this.fonts[i].monoCase.w,r.offsetWidth!==s?(a-=1,this.fonts[i].loaded=!0):(r=this.fonts[i].sansCase.node,s=this.fonts[i].sansCase.w,r.offsetWidth!==s&&(a-=1,this.fonts[i].loaded=!0)),this.fonts[i].loaded&&(this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent),this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent)));0!==a&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function g(t,i){var r,s=document.body&&i?"svg":"canvas",n=getFontProperties(t);if("svg"===s){var a=createNS("text");a.style.fontSize="100px",a.setAttribute("font-family",t.fFamily),a.setAttribute("font-style",n.style),a.setAttribute("font-weight",n.weight),a.textContent="1",t.fClass?(a.style.fontFamily="inherit",a.setAttribute("class",t.fClass)):a.style.fontFamily=t.fFamily,i.appendChild(a),r=a}else{var o=new OffscreenCanvas(500,500).getContext("2d");o.font=n.style+" "+n.weight+" 100px "+t.fFamily,r=o}return{measureText:function(t){return"svg"===s?(r.textContent=t,r.getComputedTextLength()):r.measureText(t).width}}}function y(t,i){if(!t){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=t.list;return}if(!document.body){this.isLoaded=!0,t.list.forEach(function(t){t.helper=g(t),t.cache={}}),this.fonts=t.list;return}var r=t.list,s=r.length,n=s;for(a=0;a<s;a+=1){var a,o,l,h=!0;if(r[a].loaded=!1,r[a].monoCase=f(r[a].fFamily,"monospace"),r[a].sansCase=f(r[a].fFamily,"sans-serif"),r[a].fPath){if("p"===r[a].fOrigin||3===r[a].origin){if((o=document.querySelectorAll('style[f-forigin="p"][f-family="'+r[a].fFamily+'"], style[f-origin="3"][f-family="'+r[a].fFamily+'"]')).length>0&&(h=!1),h){var c=createTag("style");c.setAttribute("f-forigin",r[a].fOrigin),c.setAttribute("f-origin",r[a].origin),c.setAttribute("f-family",r[a].fFamily),c.type="text/css",c.innerText="@font-face {font-family: "+r[a].fFamily+"; font-style: normal; src: url('"+r[a].fPath+"');}",i.appendChild(c)}}else if("g"===r[a].fOrigin||1===r[a].origin){for(l=0,o=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]');l<o.length;l+=1)-1!==o[l].href.indexOf(r[a].fPath)&&(h=!1);if(h){var u=createTag("link");u.setAttribute("f-forigin",r[a].fOrigin),u.setAttribute("f-origin",r[a].origin),u.type="text/css",u.rel="stylesheet",u.href=r[a].fPath,document.body.appendChild(u)}}else if("t"===r[a].fOrigin||2===r[a].origin){for(l=0,o=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]');l<o.length;l+=1)r[a].fPath===o[l].src&&(h=!1);if(h){var p=createTag("link");p.setAttribute("f-forigin",r[a].fOrigin),p.setAttribute("f-origin",r[a].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",r[a].fPath),i.appendChild(p)}}}else r[a].loaded=!0,n-=1;r[a].helper=g(r[a],i),r[a].cache={},this.fonts.push(r[a])}0===n?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function v(t){if(t){this.chars||(this.chars=[]);var i,r,s,n=t.length,a=this.chars.length;for(i=0;i<n;i+=1){for(r=0,s=!1;r<a;)this.chars[r].style===t[i].style&&this.chars[r].fFamily===t[i].fFamily&&this.chars[r].ch===t[i].ch&&(s=!0),r+=1;s||(this.chars.push(t[i]),a+=1)}}}function b(t,r,s){for(var n=0,a=this.chars.length;n<a;){if(this.chars[n].ch===t&&this.chars[n].style===r&&this.chars[n].fFamily===s)return this.chars[n];n+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,r,s)),i}function _(t,i,r){var s=this.getFontByName(i),n=t;if(!s.cache[n]){var a=s.helper;if(" "===t){var o=a.measureText("|"+t+"|"),l=a.measureText("||");s.cache[n]=(o-l)/100}else s.cache[n]=a.measureText(t)/100}return s.cache[n]*r}function k(t){for(var i=0,r=this.fonts.length;i<r;){if(this.fonts[i].fName===t)return this.fonts[i];i+=1}return this.fonts[0]}function S(t){var i=0,r=t.charCodeAt(0);if(r>=55296&&r<=56319){var s=t.charCodeAt(1);s>=56320&&s<=57343&&(i=(r-55296)*1024+s-56320+65536)}return i}function w(t){return t===h}function C(t){return t===l}function E(t){var i=S(t);return!!(i>=c)&&!!(i<=u)}function x(t){return E(t.substr(0,2))&&E(t.substr(2,2))}function T(t){return -1!==r.indexOf(t)}function A(t,i){var r=S(t.substr(i,2));if(r!==s)return!1;var l=0;for(i+=2;l<5;){if((r=S(t.substr(i,2)))<a||r>o)return!1;l+=1,i+=2}return S(t.substr(i,2))===n}function P(){this.isLoaded=!0}var M=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return M.isModifier=function(t,i){var r=t.toString(16)+i.toString(16);return -1!==p.indexOf(r)},M.isZeroWidthJoiner=w,M.isFlagEmoji=x,M.isRegionalCode=E,M.isCombinedCharacter=T,M.isRegionalFlag=A,M.isVariationSelector=C,M.BLACK_FLAG_CODE_POINT=s,M.prototype={addChars:v,addFonts:y,getCharData:b,getFontByName:k,measureText:_,checkLoadedFonts:m,setIsLoaded:P},M}();function SlotManager(t){this.animationData=t}function slotFactory(t){return new SlotManager(t)}function RenderableElement(){}SlotManager.prototype.getProp=function(t){return this.animationData.slots&&this.animationData.slots[t.sid]?Object.assign(t,this.animationData.slots[t.sid].p):t},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var t,i=this.renderableComponents.length;for(t=0;t<i;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(i){return t[i]||""}}();function SliderEffect(t,i,r){this.p=PropertyFactory.getProp(i,t.v,0,0,r)}function AngleEffect(t,i,r){this.p=PropertyFactory.getProp(i,t.v,0,0,r)}function ColorEffect(t,i,r){this.p=PropertyFactory.getProp(i,t.v,1,0,r)}function PointEffect(t,i,r){this.p=PropertyFactory.getProp(i,t.v,1,0,r)}function LayerIndexEffect(t,i,r){this.p=PropertyFactory.getProp(i,t.v,0,0,r)}function MaskIndexEffect(t,i,r){this.p=PropertyFactory.getProp(i,t.v,0,0,r)}function CheckboxEffect(t,i,r){this.p=PropertyFactory.getProp(i,t.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(t,i){var r,s,n=t.ef||[];this.effectElements=[];var a=n.length;for(r=0;r<a;r+=1)s=new GroupEffect(n[r],i),this.effectElements.push(s)}function GroupEffect(t,i){this.init(t,i)}function BaseElement(){}function FrameElement(){}function FootageElement(t,i,r){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(t.refId),this.footageData=i.imageLoader.getAsset(this.assetData),this.initBaseData(t,i,r)}function AudioElement(t,i,r){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(t.refId),this.initBaseData(t,i,r),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,i.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,t.au&&t.au.lv?t.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,i){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(i);var r,s,n=this.data.ef.length,a=this.data.ef;for(r=0;r<n;r+=1){switch(s=null,a[r].ty){case 0:s=new SliderEffect(a[r],i,this);break;case 1:s=new AngleEffect(a[r],i,this);break;case 2:s=new ColorEffect(a[r],i,this);break;case 3:s=new PointEffect(a[r],i,this);break;case 4:case 7:s=new CheckboxEffect(a[r],i,this);break;case 10:s=new LayerIndexEffect(a[r],i,this);break;case 11:s=new MaskIndexEffect(a[r],i,this);break;case 5:s=new EffectsManager(a[r],i,this);break;default:s=new NoValueEffect(a[r],i,this)}s&&this.effectElements.push(s)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,i=this.data.masksProperties.length;t<i;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){var t=getExpressionInterfaces();if(t){var i=t("layer"),r=t("effects"),s=t("shape"),n=t("text"),a=t("comp");this.layerInterface=i(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var o=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(o),0===this.data.ty||this.data.xt?this.compInterface=a(this):4===this.data.ty?(this.layerInterface.shapeInterface=s(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=n(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,i,r){this.globalData=i,this.comp=r,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,i){var r,s=this.dynamicProperties.length;for(r=0;r<s;r+=1)(i||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var t=getExpressionInterfaces();if(t){var i=t("footage");this.layerInterface=i(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var i=this.tm.v;this._currentTime=i}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this._volumeMultiplier=t,this._previousVolume=t*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(t){var i,r,s=this.layers.length;for(this.completeLayers=!0,i=s-1;i>=0;i-=1)!this.elements[i]&&(r=this.layers[i]).ip-r.st<=t-this.layers[i].st&&r.op-r.st>t-this.layers[i].st&&this.buildItem(i),this.completeLayers=!!this.elements[i]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:default:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t)}},BaseRenderer.prototype.createCamera=function(){throw Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,i=this.layers.length;for(t=0;t<i;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var i,r,s=t.length,n=this.layers.length;for(i=0;i<s;i+=1)for(r=0;r<n;){if(this.layers[r].id===t[i].id){this.layers[r]=t[i];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,i,r){for(var s=this.elements,n=this.layers,a=0,o=n.length;a<o;)n[a].ind==i&&(s[a]&&!0!==s[a]?(r.push(s[a]),s[a].setAsParent(),void 0!==n[a].parent?this.buildElementParenting(t,n[a].parent,r):t.setHierarchy(r)):(this.buildItem(a),this.addPendingElement(t))),a+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var i,r=t.length;for(i=0;i<r;i+=1)if(t[i].xt){var s=this.createComp(t[i]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.getElementById=function(t){var i,r=this.elements.length;for(i=0;i<r;i+=1)if(this.elements[i].data.ind===t)return this.elements[i];return null},BaseRenderer.prototype.getElementByPath=function(t){var i=t.shift();if("number"==typeof i)r=this.elements[i];else{var r,s,n=this.elements.length;for(s=0;s<n;s+=1)if(this.elements[s].data.nm===i){r=this.elements[s];break}}return 0===t.length?r:r.getElementByPath(t)},BaseRenderer.prototype.setupGlobalData=function(t,i){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(t),this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,i),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(t,i,r){this.data=t,this.element=i,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var s=this.globalData.defs,n=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(n),this.solidPath="";var a=this.masksProperties,o=0,l=[],h=createElementID(),c="clipPath",u="clip-path";for(p=0;p<n;p+=1)if(("a"!==a[p].mode&&"n"!==a[p].mode||a[p].inv||100!==a[p].o.k||a[p].o.x)&&(c="mask",u="mask"),("s"===a[p].mode||"i"===a[p].mode)&&0===o?((m=createNS("rect")).setAttribute("fill","#ffffff"),m.setAttribute("width",this.element.comp.data.w||0),m.setAttribute("height",this.element.comp.data.h||0),l.push(m)):m=null,d=createNS("path"),"n"===a[p].mode)this.viewData[p]={op:PropertyFactory.getProp(this.element,a[p].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,a[p],3),elem:d,lastPath:""},s.appendChild(d);else{if(o+=1,d.setAttribute("fill","s"===a[p].mode?"#000000":"#ffffff"),d.setAttribute("clip-rule","nonzero"),0!==a[p].x.k?(c="mask",u="mask",v=PropertyFactory.getProp(this.element,a[p].x,0,null,this.element),b=createElementID(),(g=createNS("filter")).setAttribute("id",b),(y=createNS("feMorphology")).setAttribute("operator","erode"),y.setAttribute("in","SourceGraphic"),y.setAttribute("radius","0"),g.appendChild(y),s.appendChild(g),d.setAttribute("stroke","s"===a[p].mode?"#000000":"#ffffff")):(y=null,v=null),this.storedData[p]={elem:d,x:v,expan:y,lastPath:"",lastOperator:"",filterId:b,lastRadius:0},"i"===a[p].mode){var p,d,f,m,g,y,v,b,_=l.length,k=createNS("g");for(f=0;f<_;f+=1)k.appendChild(l[f]);var S=createNS("mask");S.setAttribute("mask-type","alpha"),S.setAttribute("id",h+"_"+o),S.appendChild(d),s.appendChild(S),k.setAttribute("mask","url("+getLocationHref()+"#"+h+"_"+o+")"),l.length=0,l.push(k)}else l.push(d);a[p].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[p]={elem:d,lastPath:"",op:PropertyFactory.getProp(this.element,a[p].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,a[p],3),invRect:m},this.viewData[p].prop.k||this.drawPath(a[p],this.viewData[p].prop.v,this.viewData[p])}for(p=0,this.maskElement=createNS(c),n=l.length;p<n;p+=1)this.maskElement.appendChild(l[p]);o>0&&(this.maskElement.setAttribute("id",h),this.element.maskedElement.setAttribute(u,"url("+getLocationHref()+"#"+h+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var t=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:t,localMat:t,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,i=this.finalTransform.mat,r=0,s=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<s;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,i.cloneFromProps(t),r=0;r<s;r+=1)i.multiply(this.hierarchy[r].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var t=0,i=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;t<i;)this.localTransforms[t]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[t]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),t+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),t=1;t<i;t+=1){var s=this.localTransforms[t].matrix;r.multiply(s)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var n=this.finalTransform.localOpacity;for(t=0;t<i;t+=1)n*=.01*this.localTransforms[t].opacity;this.finalTransform.localOpacity=n}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var t=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(t.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var i=0,r=t.length;for(i=0;i<r;i+=1)this.localTransforms.push(t[i])}}},globalToLocal:function(t){var i,r,s=[];s.push(this.finalTransform);for(var n=!0,a=this.comp;n;)a.finalTransform?(a.data.hasMask&&s.splice(0,0,a.finalTransform),a=a.comp):n=!1;var o=s.length;for(i=0;i<o;i+=1)r=s[i].mat.applyToPointArray(0,0,0),t=[t[0]-r[0],t[1]-r[1],0];return t},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var i,r=this.element.finalTransform.mat,s=this.masksProperties.length;for(i=0;i<s;i+=1)if((this.viewData[i].prop._mdf||t)&&this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]),(this.viewData[i].op._mdf||t)&&this.viewData[i].elem.setAttribute("fill-opacity",this.viewData[i].op.v),"n"!==this.masksProperties[i].mode&&(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[i].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[i].x&&(this.storedData[i].x._mdf||t))){var n=this.storedData[i].expan;this.storedData[i].x.v<0?("erode"!==this.storedData[i].lastOperator&&(this.storedData[i].lastOperator="erode",this.storedData[i].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[i].filterId+")")),n.setAttribute("radius",-this.storedData[i].x.v)):("dilate"!==this.storedData[i].lastOperator&&(this.storedData[i].lastOperator="dilate",this.storedData[i].elem.setAttribute("filter",null)),this.storedData[i].elem.setAttribute("stroke-width",2*this.storedData[i].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+(" h"+this.globalData.compSize.w+" v"+this.globalData.compSize.h+" h-"+this.globalData.compSize.w+(" v-"+this.globalData.compSize.h)+" ")},MaskElement.prototype.drawPath=function(t,i,r){var s,n,a=" M"+i.v[0][0]+","+i.v[0][1];for(s=1,n=i._length;s<n;s+=1)a+=" C"+i.o[s-1][0]+","+i.o[s-1][1]+" "+i.i[s][0]+","+i.i[s][1]+" "+i.v[s][0]+","+i.v[s][1];if(i.c&&n>1&&(a+=" C"+i.o[s-1][0]+","+i.o[s-1][1]+" "+i.i[0][0]+","+i.i[0][1]+" "+i.v[0][0]+","+i.v[0][1]),r.lastPath!==a){var o="";r.elem&&(i.c&&(o=t.inv?this.solidPath+a:a),r.elem.setAttribute("d",o)),r.lastPath=a}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};function i(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t}return t.createFilter=function t(t,i){var r=createNS("filter");return r.setAttribute("id",t),!0!==i&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},t.createAlphaToLuminanceFilter=i,t}(),featureSupport=function(){var t={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),/firefox/i.test(navigator.userAgent)&&(t.svgLumaHidden=!1),t}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(t){var i,r,s="SourceGraphic",n=t.data.ef?t.data.ef.length:0,a=createElementID(),o=filtersFactory.createFilter(a,!0),l=0;for(i=0,this.filters=[];i<n;i+=1){r=null;var h=t.data.ef[i].ty;registeredEffects$1[h]&&(r=new registeredEffects$1[h].effect(o,t.effectsManager.effectElements[i],t,idPrefix+l,s),s=idPrefix+l,registeredEffects$1[h].countsAsEffect&&(l+=1)),r&&this.filters.push(r)}l&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+a+")")),this.filters.length&&t.addRenderableComponent(this)}function registerEffect$1(t,i,r){registeredEffects$1[t]={effect:i,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(t,i,r){this.assetData=i.getAssetData(t.refId),this.assetData&&this.assetData.sid&&(this.assetData=i.slotManager.getProp(this.assetData)),this.initElement(t,i,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(t,i){this.elem=t,this.pos=i}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(t){var i,r=this.filters.length;for(i=0;i<r;i+=1)this.filters[i].renderFrame(t)},SVGEffects.prototype.getEffects=function(t){var i,r=this.filters.length,s=[];for(i=0;i<r;i+=1)this.filters[i].type===t&&s.push(this.filters[i]);return s},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t=null;if(this.data.td){this.matteMasks={};var i=createNS("g");i.setAttribute("id",this.layerId),i.appendChild(this.layerElement),t=i,this.globalData.defs.appendChild(i)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),t=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var r=createNS("clipPath"),s=createNS("path");s.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var n=createElementID();if(r.setAttribute("id",n),r.appendChild(s),this.globalData.defs.appendChild(r),this.checkMasks()){var a=createNS("g");a.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),a.appendChild(this.layerElement),this.transformedElement=a,t?t.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(t){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[t]){var i,r,s,n,a=this.layerId+"_"+t;if(1===t||3===t){var o=createNS("mask");o.setAttribute("id",a),o.setAttribute("mask-type",3===t?"luminance":"alpha"),(s=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),o.appendChild(s),this.globalData.defs.appendChild(o),featureSupport.maskType||1!==t||(o.setAttribute("mask-type","luminance"),i=createElementID(),r=filtersFactory.createFilter(i),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(s),o.appendChild(n),n.setAttribute("filter","url("+getLocationHref()+"#"+i+")"))}else if(2===t){var l=createNS("mask");l.setAttribute("id",a),l.setAttribute("mask-type","alpha");var h=createNS("g");l.appendChild(h),i=createElementID(),r=filtersFactory.createFilter(i);var c=createNS("feComponentTransfer");c.setAttribute("in","SourceGraphic"),r.appendChild(c);var u=createNS("feFuncA");u.setAttribute("type","table"),u.setAttribute("tableValues","1.0 0.0"),c.appendChild(u),this.globalData.defs.appendChild(r);var p=createNS("rect");p.setAttribute("width",this.comp.data.w),p.setAttribute("height",this.comp.data.h),p.setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("fill","#ffffff"),p.setAttribute("opacity","0"),h.setAttribute("filter","url("+getLocationHref()+"#"+i+")"),h.appendChild(p),(s=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),h.appendChild(s),featureSupport.maskType||(l.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),h.appendChild(p),n.appendChild(this.layerElement),h.appendChild(n)),this.globalData.defs.appendChild(l)}this.matteMasks[t]=a}return this.matteMasks[t]},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+t+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},function(){extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,i,r){this.initFrame(),this.initBaseData(t,i,r),this.initTransform(t,i,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement)}(),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(t){var i,r=this.shapeModifiers.length;for(i=0;i<r;i+=1)this.shapeModifiers[i].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var i=0,r=this.shapeModifiers.length;i<r;)if(this.shapeModifiers[i].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var t,i=this.shapes.length;for(t=0;t<i;t+=1)this.shapes[t].sh.reset();for(i=this.shapeModifiers.length,t=i-1;t>=0&&!this.shapeModifiers[t].processShapes(this._isFirstFrame);t-=1);}},searchProcessedElement:function(t){for(var i=this.processedElements,r=0,s=i.length;r<s;){if(i[r].elem===t)return i[r].pos;r+=1}return 0},addProcessedElement:function(t,i){for(var r=this.processedElements,s=r.length;s;)if(r[s-=1].elem===t){r[s].pos=i;return}r.push(new ProcessedElement(t,i))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,i,r){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=r,this.lvl=i,this._isAnimated=!!r.k;for(var s=0,n=t.length;s<n;){if(t[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}function SVGStyleData(t,i){this.data=t,this.type=t.ty,this.d="",this.lvl=i,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(t,i,r,s){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(i.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",i.length?i.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var n,a,o=i.length||0;for(n=0;n<o;n+=1)a=PropertyFactory.getProp(t,i[n].v,0,0,this),this.k=a.k||this.k,this.dataProps[n]={n:i[n].n,p:a};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(t,i,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,i.o,0,.01,this),this.w=PropertyFactory.getProp(t,i.w,0,null,this),this.d=new DashProperty(t,i.d||{},"svg",this),this.c=PropertyFactory.getProp(t,i.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,i,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,i.o,0,.01,this),this.c=PropertyFactory.getProp(t,i.c,1,255,this),this.style=r}function SVGNoStyleData(t,i,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(t,i,r){this.data=i,this.c=createTypedArray("uint8c",4*i.p);var s=i.k.k[0].s?i.k.k[0].s.length-4*i.p:i.k.k.length-4*i.p;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(t,i.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(t,i,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,i,r)}function SVGGradientStrokeStyleData(t,i,r){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,i.w,0,null,this),this.d=new DashProperty(t,i.d||{},"svg",this),this.initGradientData(t,i,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,i,r){this.transform={mProps:t,op:i,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var i=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),i=0;i<r;i+=1)"o"!==this.dataProps[i].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[i].p.v:this.dashArray[i]=this.dataProps[i].p.v:this.dashoffset[0]=this.dataProps[i].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(t,i){for(var r=0,s=this.o.length/2;r<s;){if(Math.abs(t[4*r]-t[4*i+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,i=this.data.k.k.length;t<i;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var i,r,s,n=4*this.data.p;for(i=0;i<n;i+=1)r=i%4==0?100:255,s=Math.round(this.prop.v[i]*r),this.c[i]!==s&&(this.c[i]=s,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,i=4*this.data.p;i<n;i+=1)r=i%2==0?100:1,s=i%2==0?Math.round(100*this.prop.v[i]):this.prop.v[i],this.o[i-4*this.data.p]!==s&&(this.o[i-4*this.data.p]=s,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(t,i,r){this.o=PropertyFactory.getProp(t,i.o,0,.01,this),this.s=PropertyFactory.getProp(t,i.s,1,null,this),this.e=PropertyFactory.getProp(t,i.e,1,null,this),this.h=PropertyFactory.getProp(t,i.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,i.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,i.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,i),this.setGradientOpacity(i,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,i){var r,s,n,a=createElementID(),o=createNS(1===i.t?"linearGradient":"radialGradient");o.setAttribute("id",a),o.setAttribute("spreadMethod","pad"),o.setAttribute("gradientUnits","userSpaceOnUse");var l=[];for(s=0,n=4*i.g.p;s<n;s+=4)r=createNS("stop"),o.appendChild(r),l.push(r);t.setAttribute("gf"===i.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),this.gf=o,this.cst=l},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,i){if(this.g._hasOpacity&&!this.g._collapsable){var r,s,n,a=createNS("mask"),o=createNS("path");a.appendChild(o);var l=createElementID(),h=createElementID();a.setAttribute("id",h);var c=createNS(1===t.t?"linearGradient":"radialGradient");c.setAttribute("id",l),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),n=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var u=this.stops;for(s=4*t.g.p;s<n;s+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(r),u.push(r);o.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+l+")"),"gs"===t.ty&&(o.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&o.setAttribute("stroke-miterlimit",t.ml)),this.of=c,this.ms=a,this.ost=u,this.maskId=h,i.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(t,i,r,s){if(0===i)return"";var n,a=t.o,o=t.i,l=t.v,h=" M"+s.applyToPointStringified(l[0][0],l[0][1]);for(n=1;n<i;n+=1)h+=" C"+s.applyToPointStringified(a[n-1][0],a[n-1][1])+" "+s.applyToPointStringified(o[n][0],o[n][1])+" "+s.applyToPointStringified(l[n][0],l[n][1]);return r&&i&&(h+=" C"+s.applyToPointStringified(a[n-1][0],a[n-1][1])+" "+s.applyToPointStringified(o[0][0],o[0][1])+" "+s.applyToPointStringified(l[0][0],l[0][1])+"z"),h},SVGElementsRenderer=function(){var t=new Matrix,i=new Matrix;function r(t,i,r){(r||i.transform.op._mdf)&&i.transform.container.setAttribute("opacity",i.transform.op.v),(r||i.transform.mProps._mdf)&&i.transform.container.setAttribute("transform",i.transform.mProps.v.to2dCSS())}function s(){}function n(r,s,n){var a,o,l,h,c,u,p,d,f,m,g=s.styles.length,y=s.lvl;for(u=0;u<g;u+=1){if(h=s.sh._mdf||n,s.styles[u].lvl<y){for(d=i.reset(),f=y-s.styles[u].lvl,m=s.transformers.length-1;!h&&f>0;)h=s.transformers[m].mProps._mdf||h,f-=1,m-=1;if(h)for(f=y-s.styles[u].lvl,m=s.transformers.length-1;f>0;)d.multiply(s.transformers[m].mProps.v),f-=1,m-=1}else d=t;if(o=(p=s.sh.paths)._length,h){for(a=0,l="";a<o;a+=1)(c=p.shapes[a])&&c._length&&(l+=buildShapeString(c,c._length,c.c,d));s.caches[u]=l}else l=s.caches[u];s.styles[u].d+=!0===r.hd?"":l,s.styles[u]._mdf=h||s.styles[u]._mdf}}function a(t,i,r){var s=i.style;(i.c._mdf||r)&&s.pElem.setAttribute("fill","rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||r)&&s.pElem.setAttribute("fill-opacity",i.o.v)}function o(t,i,r){l(t,i,r),h(t,i,r)}function l(t,i,r){var s,n,a,o,l,h=i.gf,c=i.g._hasOpacity,u=i.s.v,p=i.e.v;if(i.o._mdf||r){var d="gf"===t.ty?"fill-opacity":"stroke-opacity";i.style.pElem.setAttribute(d,i.o.v)}if(i.s._mdf||r){var f=1===t.t?"x1":"cx",m="x1"===f?"y1":"cy";h.setAttribute(f,u[0]),h.setAttribute(m,u[1]),c&&!i.g._collapsable&&(i.of.setAttribute(f,u[0]),i.of.setAttribute(m,u[1]))}if(i.g._cmdf||r){s=i.cst;var g=i.g.c;for(n=0,a=s.length;n<a;n+=1)(o=s[n]).setAttribute("offset",g[4*n]+"%"),o.setAttribute("stop-color","rgb("+g[4*n+1]+","+g[4*n+2]+","+g[4*n+3]+")")}if(c&&(i.g._omdf||r)){var y=i.g.o;for(n=0,a=(s=i.g._collapsable?i.cst:i.ost).length;n<a;n+=1)o=s[n],i.g._collapsable||o.setAttribute("offset",y[2*n]+"%"),o.setAttribute("stop-opacity",y[2*n+1])}if(1===t.t)(i.e._mdf||r)&&(h.setAttribute("x2",p[0]),h.setAttribute("y2",p[1]),c&&!i.g._collapsable&&(i.of.setAttribute("x2",p[0]),i.of.setAttribute("y2",p[1])));else if((i.s._mdf||i.e._mdf||r)&&(l=Math.sqrt(Math.pow(u[0]-p[0],2)+Math.pow(u[1]-p[1],2)),h.setAttribute("r",l),c&&!i.g._collapsable&&i.of.setAttribute("r",l)),i.s._mdf||i.e._mdf||i.h._mdf||i.a._mdf||r){l||(l=Math.sqrt(Math.pow(u[0]-p[0],2)+Math.pow(u[1]-p[1],2)));var v=Math.atan2(p[1]-u[1],p[0]-u[0]),b=i.h.v;b>=1?b=.99:b<=-1&&(b=-.99);var _=l*b,k=Math.cos(v+i.a.v)*_+u[0],S=Math.sin(v+i.a.v)*_+u[1];h.setAttribute("fx",k),h.setAttribute("fy",S),c&&!i.g._collapsable&&(i.of.setAttribute("fx",k),i.of.setAttribute("fy",S))}}function h(t,i,r){var s=i.style,n=i.d;n&&(n._mdf||r)&&n.dashStr&&(s.pElem.setAttribute("stroke-dasharray",n.dashStr),s.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),i.c&&(i.c._mdf||r)&&s.pElem.setAttribute("stroke","rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||r)&&s.pElem.setAttribute("stroke-opacity",i.o.v),(i.w._mdf||r)&&(s.pElem.setAttribute("stroke-width",i.w.v),s.msElem&&s.msElem.setAttribute("stroke-width",i.w.v))}return{createRenderFunction:function(t){switch(t.ty){case"fl":return a;case"gf":return l;case"gs":return o;case"st":return h;case"sh":case"el":case"rc":case"sr":return n;case"tr":return r;case"no":return s;default:return null}}}}();function SVGShapeElement(t,i,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,i,r),this.prevViewData=[]}function LetterProps(t,i,r,s,n,a){this.o=t,this.sw=i,this.sc=r,this.fc=s,this.m=n,this.p=a,this._mdf={o:!0,sw:!!i,sc:!!r,fc:!!s,m:!0,p:!0}}function TextProperty(t,i){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,i.d&&i.d.sid&&(i.d=t.globalData.slotManager.getProp(i.d)),this.data=i,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,i,r,s,n=this.shapes.length,a=this.stylesList.length,o=[],l=!1;for(r=0;r<a;r+=1){for(t=0,s=this.stylesList[r],l=!1,o.length=0;t<n;t+=1)-1!==(i=this.shapes[t]).styles.indexOf(s)&&(o.push(i),l=i._isAnimated||l);o.length>1&&l&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var i,r=t.length;for(i=0;i<r;i+=1)t[i].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,i){var r,s=new SVGStyleData(t,i),n=s.pElem;return"st"===t.ty?r=new SVGStrokeStyleData(this,t,s):"fl"===t.ty?r=new SVGFillStyleData(this,t,s):"gf"===t.ty||"gs"===t.ty?(r=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,s),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===t.ty&&(r=new SVGNoStyleData(this,t,s)),("st"===t.ty||"gs"===t.ty)&&(n.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),n.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),n.setAttribute("fill-opacity","0"),1===t.lj&&n.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&n.setAttribute("fill-rule","evenodd"),t.ln&&n.setAttribute("id",t.ln),t.cl&&n.setAttribute("class",t.cl),t.bm&&(n.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(s),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.createGroupElement=function(t){var i=new ShapeGroupData;return t.ln&&i.gr.setAttribute("id",t.ln),t.cl&&i.gr.setAttribute("class",t.cl),t.bm&&(i.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),i},SVGShapeElement.prototype.createTransformElement=function(t,i){var r=TransformPropertyFactory.getTransformProperty(this,t,this),s=new SVGTransformData(r,r.o,i);return this.addToAnimatedContents(t,s),s},SVGShapeElement.prototype.createShapeElement=function(t,i,r){var s=4;"rc"===t.ty?s=5:"el"===t.ty?s=6:"sr"===t.ty&&(s=7);var n=new SVGShapeData(i,r,ShapePropertyFactory.getShapeProp(this,t,s,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,i){for(var r=0,s=this.animatedContents.length;r<s;){if(this.animatedContents[r].element===i)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:i,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var i,r=t.styles,s=this.stylesList.length;for(i=0;i<s;i+=1)-1!==r.indexOf(this.stylesList[i])||this.stylesList[i].closed||r.push(this.stylesList[i])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,i=this.itemsData.length;for(t=0;t<i;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),i=this.dynamicProperties.length,t=0;t<i;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,i,r,s,n,a,o){var l,h,c,u,p,d,f=[].concat(a),m=t.length-1,g=[],y=[];for(l=m;l>=0;l-=1){if((d=this.searchProcessedElement(t[l]))?i[l]=r[d-1]:t[l]._render=o,"fl"===t[l].ty||"st"===t[l].ty||"gf"===t[l].ty||"gs"===t[l].ty||"no"===t[l].ty)d?i[l].style.closed=t[l].hd:i[l]=this.createStyleElement(t[l],n),t[l]._render&&i[l].style.pElem.parentNode!==s&&s.appendChild(i[l].style.pElem),g.push(i[l].style);else if("gr"===t[l].ty){if(d)for(h=0,c=i[l].it.length;h<c;h+=1)i[l].prevViewData[h]=i[l].it[h];else i[l]=this.createGroupElement(t[l]);this.searchShapes(t[l].it,i[l].it,i[l].prevViewData,i[l].gr,n+1,f,o),t[l]._render&&i[l].gr.parentNode!==s&&s.appendChild(i[l].gr)}else"tr"===t[l].ty?(d||(i[l]=this.createTransformElement(t[l],s)),u=i[l].transform,f.push(u)):"sh"===t[l].ty||"rc"===t[l].ty||"el"===t[l].ty||"sr"===t[l].ty?(d||(i[l]=this.createShapeElement(t[l],f,n)),this.setElementStyles(i[l])):"tm"===t[l].ty||"rd"===t[l].ty||"ms"===t[l].ty||"pb"===t[l].ty||"zz"===t[l].ty||"op"===t[l].ty?(d?(p=i[l]).closed=!1:((p=ShapeModifiers.getModifier(t[l].ty)).init(this,t[l]),i[l]=p,this.shapeModifiers.push(p)),y.push(p)):"rp"===t[l].ty&&(d?(p=i[l]).closed=!0:(p=ShapeModifiers.getModifier(t[l].ty),i[l]=p,p.init(this,t,l,i),this.shapeModifiers.push(p),o=!1),y.push(p));this.addProcessedElement(t[l],l+1)}for(l=0,m=g.length;l<m;l+=1)g[l].closed=!0;for(l=0,m=y.length;l<m;l+=1)y[l].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,i=this.stylesList.length;for(t=0;t<i;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<i;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,i,r=this.animatedContents.length;for(t=0;t<r;t+=1)i=this.animatedContents[t],(this._isFirstFrame||i.element._isAnimated)&&!0!==i.data&&i.fn(i.data,i.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(t,i,r,s,n,a){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,o=!0),this.sw!==i&&(this.sw=i,this._mdf.sw=!0,o=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,o=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,o=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,o=!0),a.length&&(this.p[0]!==a[0]||this.p[1]!==a[1]||this.p[4]!==a[4]||this.p[5]!==a[5]||this.p[12]!==a[12]||this.p[13]!==a[13])&&(this.p=a,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var i,r=this.currentData,s=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var n=this.effectsSequence.length,a=t||this.data.d.k[this.keysIndex].s;for(i=0;i<n;i+=1)a=s!==this.keysIndex?this.effectsSequence[i](a,a.t):this.effectsSequence[i](this.currentData,a.t);r!==a&&this.setCurrentData(a),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,i=this.elem.comp.renderedFrame,r=0,s=t.length;r<=s-1&&r!==s-1&&!(t[r+1].t>i);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var i,r,s=[],n=0,a=t.length,o=!1,l=!1,h="";n<a;)o=l,l=!1,i=t.charCodeAt(n),h=t.charAt(n),FontManager.isCombinedCharacter(i)?o=!0:i>=55296&&i<=56319?FontManager.isRegionalFlag(t,n)?h=t.substr(n,14):(r=t.charCodeAt(n+1))>=56320&&r<=57343&&(FontManager.isModifier(i,r)?(h=t.substr(n,2),o=!0):h=FontManager.isFlagEmoji(t.substr(n,4))?t.substr(n,4):t.substr(n,2)):i>56319?(r=t.charCodeAt(n+1),FontManager.isVariationSelector(i)&&(o=!0)):FontManager.isZeroWidthJoiner(i)&&(o=!0,l=!0),o?(s[s.length-1]+=h,o=!1):s.push(h),n+=h.length;return s},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var i=this.elem.globalData.fontManager,r=this.data,s=[],n=0,a=r.m.g,o=0,l=0,h=0,c=[],u=0,p=0,d=i.getFontByName(t.f),f=0,m=getFontProperties(d);t.fWeight=m.weight,t.fStyle=m.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),v=t.finalText.length,t.finalLineHeight=t.lh;var g=t.tr/1e3*t.finalSize;if(t.sz)for(var y,v,b,_,k,S,w,C,E,x,T=!0,A=t.sz[0],P=t.sz[1];T;){x=this.buildFinalText(t.t),E=0,u=0,v=x.length,g=t.tr/1e3*t.finalSize;var M=-1;for(y=0;y<v;y+=1)C=x[y].charCodeAt(0),b=!1," "===x[y]?M=y:(13===C||3===C)&&(u=0,b=!0,E+=t.finalLineHeight||1.2*t.finalSize),i.chars?(w=i.getCharData(x[y],d.fStyle,d.fFamily),f=b?0:w.w*t.finalSize/100):f=i.measureText(x[y],t.f,t.finalSize),u+f>A&&" "!==x[y]?(-1===M?v+=1:y=M,E+=t.finalLineHeight||1.2*t.finalSize,x.splice(y,+(M===y),"\r"),M=-1,u=0):(u+=f,u+=g);E+=d.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&P<E?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=x,v=t.finalText.length,T=!1)}u=-g,f=0;var D=0;for(y=0;y<v;y+=1)if(b=!1,13===(C=(O=t.finalText[y]).charCodeAt(0))||3===C?(D=0,c.push(u),p=u>p?u:p,u=-2*g,_="",b=!0,h+=1):_=O,i.chars?(w=i.getCharData(O,d.fStyle,i.getFontByName(t.f).fFamily),f=b?0:w.w*t.finalSize/100):f=i.measureText(_,t.f,t.finalSize)," "===O?D+=f+g:(u+=f+g+D,D=0),s.push({l:f,an:f,add:o,n:b,anIndexes:[],val:_,line:h,animatorJustifyOffset:0}),2==a){if(o+=f,""===_||" "===_||y===v-1){for((""===_||" "===_)&&(o-=f);l<=y;)s[l].an=o,s[l].ind=n,s[l].extra=f,l+=1;n+=1,o=0}}else if(3==a){if(o+=f,""===_||y===v-1){for(""===_&&(o-=f);l<=y;)s[l].an=o,s[l].ind=n,s[l].extra=f,l+=1;o=0,n+=1}}else s[n].ind=n,s[n].extra=0,n+=1;if(t.l=s,p=u>p?u:p,c.push(u),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=p,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=c;var I=r.a;S=I.length;var L=[];for(k=0;k<S;k+=1){for((F=I[k]).a.sc&&(t.strokeColorAnim=!0),F.a.sw&&(t.strokeWidthAnim=!0),(F.a.fc||F.a.fh||F.a.fs||F.a.fb)&&(t.fillColorAnim=!0),N=0,j=F.s.b,y=0;y<v;y+=1)(R=s[y]).anIndexes[k]=N,(1==j&&""!==R.val||2==j&&""!==R.val&&" "!==R.val||3==j&&(R.n||" "==R.val||y==v-1)||4==j&&(R.n||y==v-1))&&(1===F.s.rn&&L.push(N),N+=1);r.a[k].s.totalChars=N;var O,F,R,j,N,V,B=-1;if(1===F.s.rn)for(y=0;y<v;y+=1)B!=(R=s[y]).anIndexes[k]&&(B=R.anIndexes[k],V=L.splice(Math.floor(Math.random()*L.length),1)[0]),R.anIndexes[k]=V}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=d.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,i){i=void 0===i?this.keysIndex:i;var r=this.copyData({},this.data.d.k[i].s);r=this.copyData(r,t),this.data.d.k[i].s=r,this.recalculate(i),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var i=this.data.d.k[t].s;i.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(i)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,i=Math.min,r=Math.floor;function s(t,i){this._currentTextLength=-1,this.k=!1,this.data=i,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,i.s||{k:0},0,0,this),"e"in i?this.e=PropertyFactory.getProp(t,i.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(t,i.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,i.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,i.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,i.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,i.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return s.prototype={getMult:function(s){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=0,a=0,o=1,l=1;this.ne.v>0?n=this.ne.v/100:a=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:l=1+this.xe.v/100;var h=BezierFactory.getBezierEasing(n,a,o,l).get,c=0,u=this.finalS,p=this.finalE,d=this.data.sh;if(2===d)c=h(c=p===u?+(s>=p):t(0,i(.5/(p-u)+(s-u)/(p-u),1)));else if(3===d)c=h(c=p===u?s>=p?0:1:1-t(0,i(.5/(p-u)+(s-u)/(p-u),1)));else if(4===d)p===u?c=0:(c=t(0,i(.5/(p-u)+(s-u)/(p-u),1)))<.5?c*=2:c=1-2*(c-.5),c=h(c);else if(5===d){if(p===u)c=0;else{var f=p-u,m=-f/2+(s=i(t(0,s+.5-u),p-u)),g=f/2;c=Math.sqrt(1-m*m/(g*g))}c=h(c)}else 6===d?c=h(c=p===u?0:(1+Math.cos(Math.PI+2*Math.PI*(s=i(t(0,s+.5-u),p-u))/(p-u)))/2):(s>=r(u)&&(c=s-u<0?t(0,i(i(p,1)-(u-s),1)):t(0,i(p-s,1))),c=h(c));if(100!==this.sm.v){var y=.01*this.sm.v;0===y&&(y=1e-8);var v=.5-.5*y;c<v?c=0:(c=(c-v)/y)>1&&(c=1)}return c*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var i=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/i,s=this.s.v/i+r,n=this.e.v/i+r;if(s>n){var a=s;s=n,n=a}this.finalS=s,this.finalE=n}},extendPrototype([DynamicPropertyContainer],s),{getTextSelectorProp:function(t,i,r){return new s(t,i,r)}}}();function TextAnimatorDataProperty(t,i,r){var s={propType:!1},n=PropertyFactory.getProp,a=i.a;this.a={r:a.r?n(t,a.r,0,degToRads,r):s,rx:a.rx?n(t,a.rx,0,degToRads,r):s,ry:a.ry?n(t,a.ry,0,degToRads,r):s,sk:a.sk?n(t,a.sk,0,degToRads,r):s,sa:a.sa?n(t,a.sa,0,degToRads,r):s,s:a.s?n(t,a.s,1,.01,r):s,a:a.a?n(t,a.a,1,0,r):s,o:a.o?n(t,a.o,0,.01,r):s,p:a.p?n(t,a.p,1,0,r):s,sw:a.sw?n(t,a.sw,0,0,r):s,sc:a.sc?n(t,a.sc,1,0,r):s,fc:a.fc?n(t,a.fc,1,0,r):s,fh:a.fh?n(t,a.fh,0,0,r):s,fs:a.fs?n(t,a.fs,0,.01,r):s,fb:a.fb?n(t,a.fb,0,.01,r):s,t:a.t?n(t,a.t,0,0,r):s},this.s=TextSelectorProp.getTextSelectorProp(t,i.s,r),this.s.t=i.s.t}function TextAnimatorProperty(t,i,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=i,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var t,i,r=this._textData.a.length,s=PropertyFactory.getProp;for(t=0;t<r;t+=1)i=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,i,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,i){if(this.lettersChangedFlag=i,this._mdf||this._isFirstFrame||i||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,s,n,a,o,l,h,c,u,p,d,f,m,g,y,v,b,_,k=this._moreOptions.alignment.v,S=this._animatorsData,w=this._textData,C=this.mHelper,E=this._renderType,x=this.renderedLetters.length,T=t.l;if(this._hasMaskedPath){if($=this._pathData.m,!this._pathData.n||this._pathData._mdf){var A,P,M,D,I,L,O,F,R,j,N,V,B,q,z,G,U,J,$,W,Y=$.v;for(this._pathData.r.v&&(Y=Y.reverse()),I={tLength:0,segments:[]},D=Y._length-1,G=0,M=0;M<D;M+=1)W=bez.buildBezierData(Y.v[M],Y.v[M+1],[Y.o[M][0]-Y.v[M][0],Y.o[M][1]-Y.v[M][1]],[Y.i[M+1][0]-Y.v[M+1][0],Y.i[M+1][1]-Y.v[M+1][1]]),I.tLength+=W.segmentLength,I.segments.push(W),G+=W.segmentLength;M=D,$.v.c&&(W=bez.buildBezierData(Y.v[M],Y.v[0],[Y.o[M][0]-Y.v[M][0],Y.o[M][1]-Y.v[M][1]],[Y.i[0][0]-Y.v[0][0],Y.i[0][1]-Y.v[0][1]]),I.tLength+=W.segmentLength,I.segments.push(W),G+=W.segmentLength),this._pathData.pi=I}if(I=this._pathData.pi,L=this._pathData.f.v,N=0,j=1,F=0,R=!0,q=I.segments,L<0&&$.v.c)for(I.tLength<Math.abs(L)&&(L=-Math.abs(L)%I.tLength),N=q.length-1,j=(B=q[N].points).length-1;L<0;)L+=B[j].partialLength,(j-=1)<0&&(N-=1,j=(B=q[N].points).length-1);V=(B=q[N].points)[j-1],z=(O=B[j]).partialLength}D=T.length,A=0,P=0;var H=1.2*t.finalSize*.714,K=!0;a=S.length;var Q=-1,X=L,Z=N,tt=j,te=-1,ti="",tr=this.defaultPropsArray;if(2===t.j||1===t.j){var ts=0,tn=0,ta=2===t.j?-.5:-1,to=0,tl=!0;for(M=0;M<D;M+=1)if(T[M].n){for(ts&&(ts+=tn);to<M;)T[to].animatorJustifyOffset=ts,to+=1;ts=0,tl=!0}else{for(n=0;n<a;n+=1)(r=S[n].a).t.propType&&(tl&&2===t.j&&(tn+=r.t.v*ta),(l=(s=S[n].s).getMult(T[M].anIndexes[n],w.a[n].s.totalChars)).length?ts+=r.t.v*l[0]*ta:ts+=r.t.v*l*ta);tl=!1}for(ts&&(ts+=tn);to<M;)T[to].animatorJustifyOffset=ts,to+=1}for(M=0;M<D;M+=1){if(C.reset(),p=1,T[M].n)A=0,P+=t.yOffset,P+=+!!K,L=X,K=!1,this._hasMaskedPath&&(N=Z,j=tt,V=(B=q[N].points)[j-1],z=(O=B[j]).partialLength,F=0),ti="",b="",y="",_="",tr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(te!==T[M].line){switch(t.j){case 1:L+=G-t.lineWidths[T[M].line];break;case 2:L+=(G-t.lineWidths[T[M].line])/2}te=T[M].line}Q!==T[M].ind&&(T[Q]&&(L+=T[Q].extra),L+=T[M].an/2,Q=T[M].ind),L+=k[0]*T[M].an*.005;var th=0;for(n=0;n<a;n+=1)(r=S[n].a).p.propType&&((l=(s=S[n].s).getMult(T[M].anIndexes[n],w.a[n].s.totalChars)).length?th+=r.p.v[0]*l[0]:th+=r.p.v[0]*l),r.a.propType&&((l=(s=S[n].s).getMult(T[M].anIndexes[n],w.a[n].s.totalChars)).length?th+=r.a.v[0]*l[0]:th+=r.a.v[0]*l);for(R=!0,this._pathData.a.v&&(L=.5*T[0].an+(G-this._pathData.f.v-.5*T[0].an-.5*T[T.length-1].an)*Q/(D-1)+this._pathData.f.v);R;)F+z>=L+th||!B?(U=(L+th-F)/O.partialLength,c=V.point[0]+(O.point[0]-V.point[0])*U,u=V.point[1]+(O.point[1]-V.point[1])*U,C.translate(-k[0]*T[M].an*.005,-(.01*(k[1]*H))),R=!1):B&&(F+=O.partialLength,(j+=1)>=B.length&&(j=0,q[N+=1]?B=q[N].points:$.v.c?(j=0,B=q[N=0].points):(F-=O.partialLength,B=null)),B&&(V=O,z=(O=B[j]).partialLength));h=T[M].an/2-T[M].add,C.translate(-h,0,0)}else h=T[M].an/2-T[M].add,C.translate(-h,0,0),C.translate(-k[0]*T[M].an*.005,-k[1]*H*.01,0);for(n=0;n<a;n+=1)(r=S[n].a).t.propType&&(l=(s=S[n].s).getMult(T[M].anIndexes[n],w.a[n].s.totalChars),(0!==A||0!==t.j)&&(this._hasMaskedPath?l.length?L+=r.t.v*l[0]:L+=r.t.v*l:l.length?A+=r.t.v*l[0]:A+=r.t.v*l));for(t.strokeWidthAnim&&(f=t.sw||0),t.strokeColorAnim&&(d=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(m=[t.fc[0],t.fc[1],t.fc[2]]),n=0;n<a;n+=1)(r=S[n].a).a.propType&&((l=(s=S[n].s).getMult(T[M].anIndexes[n],w.a[n].s.totalChars)).length?C.translate(-r.a.v[0]*l[0],-r.a.v[1]*l[1],r.a.v[2]*l[2]):C.translate(-r.a.v[0]*l,-r.a.v[1]*l,r.a.v[2]*l));for(n=0;n<a;n+=1)(r=S[n].a).s.propType&&((l=(s=S[n].s).getMult(T[M].anIndexes[n],w.a[n].s.totalChars)).length?C.scale(1+(r.s.v[0]-1)*l[0],1+(r.s.v[1]-1)*l[1],1):C.scale(1+(r.s.v[0]-1)*l,1+(r.s.v[1]-1)*l,1));for(n=0;n<a;n+=1){if(r=S[n].a,l=(s=S[n].s).getMult(T[M].anIndexes[n],w.a[n].s.totalChars),r.sk.propType&&(l.length?C.skewFromAxis(-r.sk.v*l[0],r.sa.v*l[1]):C.skewFromAxis(-r.sk.v*l,r.sa.v*l)),r.r.propType&&(l.length?C.rotateZ(-r.r.v*l[2]):C.rotateZ(-r.r.v*l)),r.ry.propType&&(l.length?C.rotateY(r.ry.v*l[1]):C.rotateY(r.ry.v*l)),r.rx.propType&&(l.length?C.rotateX(r.rx.v*l[0]):C.rotateX(r.rx.v*l)),r.o.propType&&(l.length?p+=(r.o.v*l[0]-p)*l[0]:p+=(r.o.v*l-p)*l),t.strokeWidthAnim&&r.sw.propType&&(l.length?f+=r.sw.v*l[0]:f+=r.sw.v*l),t.strokeColorAnim&&r.sc.propType)for(g=0;g<3;g+=1)l.length?d[g]+=(r.sc.v[g]-d[g])*l[0]:d[g]+=(r.sc.v[g]-d[g])*l;if(t.fillColorAnim&&t.fc){if(r.fc.propType)for(g=0;g<3;g+=1)l.length?m[g]+=(r.fc.v[g]-m[g])*l[0]:m[g]+=(r.fc.v[g]-m[g])*l;r.fh.propType&&(m=l.length?addHueToRGB(m,r.fh.v*l[0]):addHueToRGB(m,r.fh.v*l)),r.fs.propType&&(m=l.length?addSaturationToRGB(m,r.fs.v*l[0]):addSaturationToRGB(m,r.fs.v*l)),r.fb.propType&&(m=l.length?addBrightnessToRGB(m,r.fb.v*l[0]):addBrightnessToRGB(m,r.fb.v*l))}}for(n=0;n<a;n+=1)(r=S[n].a).p.propType&&(l=(s=S[n].s).getMult(T[M].anIndexes[n],w.a[n].s.totalChars),this._hasMaskedPath?l.length?C.translate(0,r.p.v[1]*l[0],-r.p.v[2]*l[1]):C.translate(0,r.p.v[1]*l,-r.p.v[2]*l):l.length?C.translate(r.p.v[0]*l[0],r.p.v[1]*l[1],-r.p.v[2]*l[2]):C.translate(r.p.v[0]*l,r.p.v[1]*l,-r.p.v[2]*l));if(t.strokeWidthAnim&&(y=f<0?0:f),t.strokeColorAnim&&(v="rgb("+Math.round(255*d[0])+","+Math.round(255*d[1])+","+Math.round(255*d[2])+")"),t.fillColorAnim&&t.fc&&(b="rgb("+Math.round(255*m[0])+","+Math.round(255*m[1])+","+Math.round(255*m[2])+")"),this._hasMaskedPath){if(C.translate(0,-t.ls),C.translate(0,k[1]*H*.01+P,0),this._pathData.p.v){var tc=180*Math.atan(J=(O.point[1]-V.point[1])/(O.point[0]-V.point[0]))/Math.PI;O.point[0]<V.point[0]&&(tc+=180),C.rotate(-tc*Math.PI/180)}C.translate(c,u,0),L-=k[0]*T[M].an*.005,T[M+1]&&Q!==T[M+1].ind&&(L+=T[M].an/2,L+=.001*t.tr*t.finalSize)}else{switch(C.translate(A,P,0),t.ps&&C.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:C.translate(T[M].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[M].line]),0,0);break;case 2:C.translate(T[M].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[M].line])/2,0,0)}C.translate(0,-t.ls),C.translate(h,0,0),C.translate(k[0]*T[M].an*.005,k[1]*H*.01,0),A+=T[M].l+.001*t.tr*t.finalSize}"html"===E?ti=C.toCSS():"svg"===E?ti=C.to2dCSS():tr=[C.props[0],C.props[1],C.props[2],C.props[3],C.props[4],C.props[5],C.props[6],C.props[7],C.props[8],C.props[9],C.props[10],C.props[11],C.props[12],C.props[13],C.props[14],C.props[15]],_=p}x<=M?(o=new LetterProps(_,y,v,b,ti,tr),this.renderedLetters.push(o),x+=1,this.lettersChangedFlag=!0):(o=this.renderedLetters[M],this.lettersChangedFlag=o.update(_,y,v,b,ti,tr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(t,i,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,i,r),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,i,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)},ITextElement.prototype.createPathShape=function(t,i){var r,s,n=i.length,a="";for(r=0;r<n;r+=1)"sh"===i[r].ty&&(a+=buildShapeString(s=i[r].ks.k,s.i.length,!0,t));return a},ITextElement.prototype.updateDocumentData=function(t,i){this.textProperty.updateDocumentData(t,i)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,i,r,s,n){switch(t.ps&&i.translate(t.ps[0],t.ps[1]+t.ascent,0),i.translate(0,-t.ls,0),t.j){case 1:i.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r]),0,0);break;case 2:i.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[r])/2,0,0)}i.translate(s,n,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,i,r){this.textSpans=[],this.renderType="svg",this.initElement(t,i,r)}function ISolidElement(t,i,r){this.initElement(t,i,r)}function NullElement(t,i,r){this.initFrame(),this.initBaseData(t,i,r),this.initFrame(),this.initTransform(t,i,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(t,i,r){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,i,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,i.frameRate,this):{_placeholder:!0}}function SVGRenderer(t,i){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(i&&i.title){var s=createNS("title"),n=createElementID();s.setAttribute("id",n),s.textContent=i.title,this.svgElement.appendChild(s),r+=n}if(i&&i.description){var a=createNS("desc"),o=createElementID();a.setAttribute("id",o),a.textContent=i.description,this.svgElement.appendChild(a),r+=" "+o}r&&this.svgElement.setAttribute("aria-labelledby",r);var l=createNS("defs");this.svgElement.appendChild(l);var h=createNS("g");this.svgElement.appendChild(h),this.layerElement=h,this.renderConfig={preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",progressiveLoad:i&&i.progressiveLoad||!1,hideOnTransparent:!(i&&!1===i.hideOnTransparent),viewBoxOnly:i&&i.viewBoxOnly||!1,viewBoxSize:i&&i.viewBoxSize||!1,className:i&&i.className||"",id:i&&i.id||"",focusable:i&&i.focusable,filterSize:{width:i&&i.filterSize&&i.filterSize.width||"100%",height:i&&i.filterSize&&i.filterSize.height||"100%",x:i&&i.filterSize&&i.filterSize.x||"0%",y:i&&i.filterSize&&i.filterSize.y||"0%"},width:i&&i.width,height:i&&i.height,runExpressions:!i||void 0===i.runExpressions||i.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:l,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var i=0,r=t.length,s=[],n="";i<r;)"\r"===t[i]||"\x03"===t[i]?(s.push(n),n=""):n+=t[i],i+=1;return s.push(n),s},SVGTextLottieElement.prototype.buildShapeData=function(t,i){if(t.shapes&&t.shapes.length){var r=t.shapes[0];if(r.it){var s=r.it[r.it.length-1];s.s&&(s.s.k[0]=i,s.s.k[1]=i)}}return t},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t?t.l.length:0),t.fc?this.layerElement.setAttribute("fill",this.buildColor(t.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),t.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(t.sc)),this.layerElement.setAttribute("stroke-width",t.sw)),this.layerElement.setAttribute("font-size",t.finalSize);var i=this.globalData.fontManager.getFontByName(t.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var r=t.fWeight,s=t.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",r)}this.layerElement.setAttribute("aria-label",t.t);var n=t.l||[],a=!!this.globalData.fontManager.chars;y=n.length;var o=this.mHelper,l="",h=this.data.singleShape,c=0,u=0,p=!0,d=.001*t.tr*t.finalSize;if(!h||a||t.sz){var f=this.textSpans.length;for(g=0;g<y;g+=1){if(this.textSpans[g]||(this.textSpans[g]={span:null,childSpan:null,glyph:null}),!a||!h||0===g){if(v=f>g?this.textSpans[g].span:createNS(a?"g":"text"),f<=g){if(v.setAttribute("stroke-linecap","butt"),v.setAttribute("stroke-linejoin","round"),v.setAttribute("stroke-miterlimit","4"),this.textSpans[g].span=v,a){var m=createNS("g");v.appendChild(m),this.textSpans[g].childSpan=m}this.textSpans[g].span=v,this.layerElement.appendChild(v)}v.style.display="inherit"}if(o.reset(),h&&(n[g].n&&(c=-d,u+=t.yOffset,u+=+!!p,p=!1),this.applyTextPropertiesToMatrix(t,o,n[g].line,c,u),c+=n[g].l||0,c+=d),a){if(1===(b=this.globalData.fontManager.getCharData(t.finalText[g],i.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily)).t)_=new SVGCompElement(b.data,this.globalData,this);else{var g,y,v,b,_,k=emptyShapeData;b.data&&b.data.shapes&&(k=this.buildShapeData(b.data,t.finalSize)),_=new SVGShapeElement(k,this.globalData,this)}if(this.textSpans[g].glyph){var S=this.textSpans[g].glyph;this.textSpans[g].childSpan.removeChild(S.layerElement),S.destroy()}this.textSpans[g].glyph=_,_._debug=!0,_.prepareFrame(0),_.renderFrame(),this.textSpans[g].childSpan.appendChild(_.layerElement),1===b.t&&this.textSpans[g].childSpan.setAttribute("transform","scale("+t.finalSize/100+","+t.finalSize/100+")")}else h&&v.setAttribute("transform","translate("+o.props[12]+","+o.props[13]+")"),v.textContent=n[g].val,v.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}h&&v&&v.setAttribute("d",l)}else{var w=this.textContainer,C="start";switch(t.j){case 1:C="end";break;case 2:C="middle";break;default:C="start"}w.setAttribute("text-anchor",C),w.setAttribute("letter-spacing",d);var E=this.buildTextContents(t.finalText);for(g=0,y=E.length,u=t.ps?t.ps[1]+t.ascent:0;g<y;g+=1)(v=this.textSpans[g].span||createNS("tspan")).textContent=E[g],v.setAttribute("x",0),v.setAttribute("y",u),v.style.display="inherit",w.appendChild(v),this.textSpans[g]||(this.textSpans[g]={span:null,glyph:null}),this.textSpans[g].span=v,u+=t.finalLineHeight;this.layerElement.appendChild(w)}for(;g<this.textSpans.length;)this.textSpans[g].span.style.display="none",g+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,i,r=this.textSpans.length;for(t=0,this.renderedFrame=this.comp.renderedFrame;t<r;t+=1)(i=this.textSpans[t].glyph)&&(i.prepareFrame(this.comp.renderedFrame-this.data.st),i._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,i,r,s,n,a=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(t=0,i=o.length;t<i;t+=1)!o[t].n&&(r=a[t],s=this.textSpans[t].span,(n=this.textSpans[t].glyph)&&n.renderFrame(),r._mdf.m&&s.setAttribute("transform",r.m),r._mdf.o&&s.setAttribute("opacity",r.o),r._mdf.sw&&s.setAttribute("stroke-width",r.sw),r._mdf.sc&&s.setAttribute("stroke",r.sc),r._mdf.fc&&s.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var i=this.globalData.defs;this.setupGlobalData(t,i),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var r=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",t.w),s.setAttribute("height",t.h),s.setAttribute("x",0),s.setAttribute("y",0);var n=createElementID();r.setAttribute("id",n),r.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),i.appendChild(r),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,i=this.layers?this.layers.length:0;for(t=0;t<i;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(t){var i=0,r=this.layers.length;for(i=0;i<r;i+=1)if(this.layers[i].ind===t)return i;return -1},SVGRendererBase.prototype.buildItem=function(t){var i=this.elements;if(!i[t]&&99!==this.layers[t].ty){i[t]=!0;var r=this.createItem(this.layers[t]);if(i[t]=r,getExpressionsPlugin()&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,t),this.layers[t].tt){var s="tp"in this.layers[t]?this.findIndexByInd(this.layers[t].tp):t-1;if(-1===s)return;if(this.elements[s]&&!0!==this.elements[s]){var n=i[s].getMatte(this.layers[t].tt);r.setMatte(n)}else this.buildItem(s),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var i=0,r=this.elements.length;i<r;){if(this.elements[i]===t){var s="tp"in t.data?this.findIndexByInd(t.data.tp):i-1,n=this.elements[s].getMatte(this.layers[i].tt);t.setMatte(n);break}i+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var i,r=this.layers.length;for(this.completeLayers||this.checkLayers(t),i=r-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(t-this.layers[i].st);if(this.globalData._mdf)for(i=0;i<r;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,i){var r,s=t.getBaseElement();if(s){for(var n=0;n<i;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(s,r):this.layerElement.appendChild(s)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,i,r){this.initFrame(),this.initBaseData(t,i,r),this.initTransform(t,i,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!i.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var i,r=this.tm.v;r===this.data.op&&(r=this.data.op-1),this.renderedFrame=r}var s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),i=s-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&(this.elements[i].prepareFrame(this.renderedFrame-this.layers[i].st),this.elements[i]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,i=this.layers.length;for(t=0;t<i;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,i=this.layers.length;for(t=0;t<i;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(t){var i,r=t.length,s="_";for(i=0;i<r;i+=1)s+=t[i].transform.key+"_";var n=this.sequences[s];return n||(n={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[s]=n,this.sequenceList.push(n)),n},processSequence:function(t,i){for(var r=0,s=t.transforms.length,n=i;r<s&&!i;){if(t.transforms[r].transform.mProps._mdf){n=!0;break}r+=1}if(n)for(t.finalTransform.reset(),r=s-1;r>=0;r-=1)t.finalTransform.multiply(t.transforms[r].transform.mProps.v);t._mdf=n},processSequences:function(t){var i,r=this.sequenceList.length;for(i=0;i<r;i+=1)this.processSequence(this.sequenceList[i],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var t="__lottie_element_luma_buffer",i=null,r=null,s=null;function n(){var i=createNS("svg"),r=createNS("filter"),s=createNS("feColorMatrix");return r.setAttribute("id",t),s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),r.appendChild(s),i.appendChild(r),i.setAttribute("id",t+"_svg"),featureSupport.svgLumaHidden&&(i.style.display="none"),i}function a(){i||(s=n(),document.body.appendChild(s),(r=(i=createTag("canvas")).getContext("2d")).filter="url(#"+t+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}function o(s){return i||a(),i.width=s.width,i.height=s.height,r.filter="url(#"+t+")",i}return{load:a,get:o}};function createCanvas(t,i){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(t,i);var r=createTag("canvas");return r.width=t,r.height=i,r}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas}}(),registeredEffects={};function CVEffects(t){var i,r,s=t.data.ef?t.data.ef.length:0;for(i=0,this.filters=[];i<s;i+=1){r=null;var n=t.data.ef[i].ty;registeredEffects[n]&&(r=new registeredEffects[n].effect(t.effectsManager.effectElements[i],t)),r&&this.filters.push(r)}this.filters.length&&t.addRenderableComponent(this)}function registerEffect(t,i){registeredEffects[t]={effect:i}}function CVMaskElement(t,i){this.data=t,this.element=i,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,s=this.masksProperties.length,n=!1;for(r=0;r<s;r+=1)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(t){var i,r=this.filters.length;for(i=0;i<r;i+=1)this.filters[i].renderFrame(t)},CVEffects.prototype.getEffects=function(t){var i,r=this.filters.length,s=[];for(i=0;i<r;i+=1)this.filters[i].type===t&&s.push(this.filters[i]);return s},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t=this.element.finalTransform.mat,i=this.element.canvasContext,r=this.masksProperties.length;for(i.beginPath(),s=0;s<r;s+=1)if("n"!==this.masksProperties[s].mode){this.masksProperties[s].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),o=this.viewData[s].v,n=t.applyToPointArray(o.v[0][0],o.v[0][1],0),i.moveTo(n[0],n[1]);var s,n,a,o,l,h=o._length;for(l=1;l<h;l+=1)a=t.applyToTriplePoints(o.o[l-1],o.i[l],o.v[l]),i.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);a=t.applyToTriplePoints(o.o[l-1],o.i[0],o.v[0]),i.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(t,i,r,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n,a,o=4;"rc"===i.ty?o=5:"el"===i.ty?o=6:"sr"===i.ty&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,i,o,t);var l=r.length;for(n=0;n<l;n+=1)r[n].closed||(a={transforms:s.addTransformSequence(r[n].transforms),trNodes:[]},this.styledShapes.push(a),r[n].elements.push(a))}function CVShapeElement(t,i,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,i,r)}function CVTextElement(t,i,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,i,r)}function CVImageElement(t,i,r){this.assetData=i.getAssetData(t.refId),this.img=i.imageLoader.getAsset(this.assetData),this.initElement(t,i,r)}function CVSolidElement(t,i,r){this.initElement(t,i,r)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var t,i=15;for(t=0;t<i;t+=1){var r=new CanvasContext;this.stack[t]=r}this._length=i,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(t,i,r){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,i,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,i.frameRate,this):{_placeholder:!0}}function CanvasRenderer(t,i){this.animationItem=t,this.renderConfig={clearCanvas:!i||void 0===i.clearCanvas||i.clearCanvas,context:i&&i.context||null,progressiveLoad:i&&i.progressiveLoad||!1,preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",className:i&&i.className||"",id:i&&i.id||"",runExpressions:!i||void 0===i.runExpressions||i.runExpressions},this.renderConfig.dpr=i&&i.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=i&&i.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(t,i,r){this.initElement(t,i,r)}function HShapeElement(t,i,r){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,i,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,i,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,i,r)}function HCameraElement(t,i,r){this.initFrame(),this.initBaseData(t,i,r),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,t.pe,0,0,this),t.ks.p.s?(this.px=s(this,t.ks.p.x,1,0,this),this.py=s(this,t.ks.p.y,1,0,this),this.pz=s(this,t.ks.p.z,1,0,this)):this.p=s(this,t.ks.p,1,0,this),t.ks.a&&(this.a=s(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var n,a=t.ks.or.k.length;for(n=0;n<a;n+=1)t.ks.or.k[n].to=null,t.ks.or.k[n].ti=null}this.or=s(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,t.ks.rx,0,degToRads,this),this.ry=s(this,t.ks.ry,0,degToRads,this),this.rz=s(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(t,i,r){this.assetData=i.getAssetData(t.refId),this.initElement(t,i,r)}function HybridRendererBase(t,i){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&!1===i.hideOnTransparent),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(t,i,r){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,i,r),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,i.frameRate,this):{_placeholder:!0}}function HybridRenderer(t,i){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&!1===i.hideOnTransparent),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"},runExpressions:!i||void 0===i.runExpressions||i.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var t=this.globalData.canvasContext,i=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(i);var r=assetLoader.createCanvas(t.canvas.width,t.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var t=this.globalData;if(t.blendMode!==this.data.bm){t.blendMode=this.data.bm;var i=getBlendMode(this.data.bm);t.canvasContext.globalCompositeOperation=i}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(t){t.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var t=this.buffers[0].getContext("2d");this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var t=this.buffers[1],i=t.getContext("2d");if(this.clearCanvas(i),i.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas);r.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(t,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(t){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||t)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var i=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(i),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(i),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,i){var r={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(i),transforms:[],elements:[],closed:!0===t.hd},s={};return"fl"===t.ty||"st"===t.ty?(s.c=PropertyFactory.getProp(this,t.c,1,255,this),s.c.k||(r.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):("gf"===t.ty||"gs"===t.ty)&&(s.s=PropertyFactory.getProp(this,t.s,1,null,this),s.e=PropertyFactory.getProp(this,t.e,1,null,this),s.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,t.g,this)),s.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty?(r.lc=lineCapEnum[t.lc||2],r.lj=lineJoinEnum[t.lj||2],1==t.lj&&(r.ml=t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,this),s.w.k||(r.wi=s.w.v),t.d&&(s.d=new DashProperty(this,t.d,"canvas",this),s.d.k||(r.da=s.d.dashArray,r.do=s.d.dashoffset[0]))):r.r=2===t.r?"evenodd":"nonzero",this.stylesList.push(r),s.style=r,s},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){var i=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(i),this.addShapeToModifiers(i),i},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,i=this.itemsData.length;for(t=0;t<i;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),i=this.dynamicProperties.length,t=0;t<i;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var i,r=this.stylesList.length;for(i=0;i<r;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,i=this.stylesList.length;for(t=0;t<i;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var i,r=t.length;for(i=0;i<r;i+=1)t[i].closed=!0},CVShapeElement.prototype.searchShapes=function(t,i,r,s,n){var a,o,l,h,c,u,p=t.length-1,d=[],f=[],m=[].concat(n);for(a=p;a>=0;a-=1){if((h=this.searchProcessedElement(t[a]))?i[a]=r[h-1]:t[a]._shouldRender=s,"fl"===t[a].ty||"st"===t[a].ty||"gf"===t[a].ty||"gs"===t[a].ty)h?i[a].style.closed=!1:i[a]=this.createStyleElement(t[a],m),d.push(i[a].style);else if("gr"===t[a].ty){if(h)for(o=0,l=i[a].it.length;o<l;o+=1)i[a].prevViewData[o]=i[a].it[o];else i[a]=this.createGroupElement(t[a]);this.searchShapes(t[a].it,i[a].it,i[a].prevViewData,s,m)}else"tr"===t[a].ty?(h||(u=this.createTransformElement(t[a]),i[a]=u),m.push(i[a]),this.addTransformToStyleList(i[a])):"sh"===t[a].ty||"rc"===t[a].ty||"el"===t[a].ty||"sr"===t[a].ty?h||(i[a]=this.createShapeElement(t[a])):"tm"===t[a].ty||"rd"===t[a].ty||"pb"===t[a].ty||"zz"===t[a].ty||"op"===t[a].ty?(h?(c=i[a]).closed=!1:((c=ShapeModifiers.getModifier(t[a].ty)).init(this,t[a]),i[a]=c,this.shapeModifiers.push(c)),f.push(c)):"rp"===t[a].ty&&(h?(c=i[a]).closed=!0:(c=ShapeModifiers.getModifier(t[a].ty),i[a]=c,c.init(this,t,a,i),this.shapeModifiers.push(c),s=!1),f.push(c));this.addProcessedElement(t[a],a+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),p=f.length,a=0;a<p;a+=1)f[a].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,i){(t._opMdf||i.op._mdf||this._isFirstFrame)&&(i.opacity=t.opacity,i.opacity*=i.op.v,i._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,i,r,s,n,a,o,l,h,c=this.stylesList.length,u=this.globalData.renderer,p=this.globalData.canvasContext;for(t=0;t<c;t+=1)if(!(("st"===(l=(h=this.stylesList[t]).type)||"gs"===l)&&0===h.wi||!h.data._shouldRender||0===h.coOp||0===this.globalData.currentGlobalAlpha)){for(u.save(),a=h.elements,"st"===l||"gs"===l?(u.ctxStrokeStyle("st"===l?h.co:h.grd),u.ctxLineWidth(h.wi),u.ctxLineCap(h.lc),u.ctxLineJoin(h.lj),u.ctxMiterLimit(h.ml||0)):u.ctxFillStyle("fl"===l?h.co:h.grd),u.ctxOpacity(h.coOp),"st"!==l&&"gs"!==l&&p.beginPath(),u.ctxTransform(h.preTransforms.finalTransform.props),r=a.length,i=0;i<r;i+=1){for(("st"===l||"gs"===l)&&(p.beginPath(),h.da&&(p.setLineDash(h.da),p.lineDashOffset=h.do)),n=(o=a[i].trNodes).length,s=0;s<n;s+=1)"m"===o[s].t?p.moveTo(o[s].p[0],o[s].p[1]):"c"===o[s].t?p.bezierCurveTo(o[s].pts[0],o[s].pts[1],o[s].pts[2],o[s].pts[3],o[s].pts[4],o[s].pts[5]):p.closePath();("st"===l||"gs"===l)&&(u.ctxStroke(),h.da&&p.setLineDash(this.dashResetter))}"st"!==l&&"gs"!==l&&this.globalData.renderer.ctxFill(h.r),u.restore()}},CVShapeElement.prototype.renderShape=function(t,i,r,s){var n,a,o=i.length-1;for(a=t,n=o;n>=0;n-=1)"tr"===i[n].ty?(a=r[n].transform,this.renderShapeTransform(t,a)):"sh"===i[n].ty||"el"===i[n].ty||"rc"===i[n].ty||"sr"===i[n].ty?this.renderPath(i[n],r[n]):"fl"===i[n].ty?this.renderFill(i[n],r[n],a):"st"===i[n].ty?this.renderStroke(i[n],r[n],a):"gf"===i[n].ty||"gs"===i[n].ty?this.renderGradientFill(i[n],r[n],a):"gr"===i[n].ty?this.renderShape(a,i[n].it,r[n].it):i[n].ty;s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,i){if(this._isFirstFrame||i._mdf||t.transforms._mdf){var r,s,n,a=t.trNodes,o=i.paths,l=o._length;a.length=0;var h=t.transforms.finalTransform;for(n=0;n<l;n+=1){var c=o.shapes[n];if(c&&c.v){for(r=1,s=c._length;r<s;r+=1)1===r&&a.push({t:"m",p:h.applyToPointArray(c.v[0][0],c.v[0][1],0)}),a.push({t:"c",pts:h.applyToTriplePoints(c.o[r-1],c.i[r],c.v[r])});1===s&&a.push({t:"m",p:h.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&s&&(a.push({t:"c",pts:h.applyToTriplePoints(c.o[r-1],c.i[0],c.v[0])}),a.push({t:"z"}))}}t.trNodes=a}},CVShapeElement.prototype.renderPath=function(t,i){if(!0!==t.hd&&t._shouldRender){var r,s=i.styledShapes.length;for(r=0;r<s;r+=1)this.renderStyledShape(i.styledShapes[r],i.sh)}},CVShapeElement.prototype.renderFill=function(t,i,r){var s=i.style;(i.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=i.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,i,r){var s=i.style;if(!s.grd||i.g._mdf||i.s._mdf||i.e._mdf||1!==t.t&&(i.h._mdf||i.a._mdf)){var n,a,o=this.globalData.canvasContext,l=i.s.v,h=i.e.v;if(1===t.t)n=o.createLinearGradient(l[0],l[1],h[0],h[1]);else{var c=Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)),u=Math.atan2(h[1]-l[1],h[0]-l[0]),p=i.h.v;p>=1?p=.99:p<=-1&&(p=-.99);var d=c*p,f=Math.cos(u+i.a.v)*d+l[0],m=Math.sin(u+i.a.v)*d+l[1];n=o.createRadialGradient(f,m,0,l[0],l[1],c)}var g=t.g.p,y=i.g.c,v=1;for(a=0;a<g;a+=1)i.g._hasOpacity&&i.g._collapsable&&(v=i.g.o[2*a+1]),n.addColorStop(y[4*a]/100,"rgba("+y[4*a+1]+","+y[4*a+2]+","+y[4*a+3]+","+v+")");s.grd=n}s.coOp=i.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(t,i,r){var s=i.style,n=i.d;n&&(n._mdf||this._isFirstFrame)&&(s.da=n.dashArray,s.do=n.dashoffset[0]),(i.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||r._opMdf||this._isFirstFrame)&&(s.coOp=i.o.v*r.opacity),(i.w._mdf||this._isFirstFrame)&&(s.wi=i.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t,i,r,s,n,a,o,l,h,c,u,p,d=this.textProperty.currentData;this.renderedLetters=createSizedArray(d.l?d.l.length:0);var f=!1;d.fc?(f=!0,this.values.fill=this.buildColor(d.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=f;var m=!1;d.sc&&(m=!0,this.values.stroke=this.buildColor(d.sc),this.values.sWidth=d.sw);var g=this.globalData.fontManager.getFontByName(d.f),y=d.l,v=this.mHelper;this.stroke=m,this.values.fValue=d.finalSize+"px "+this.globalData.fontManager.getFontByName(d.f).fFamily,i=d.finalText.length;var b=this.data.singleShape,_=.001*d.tr*d.finalSize,k=0,S=0,w=!0,C=0;for(t=0;t<i;t+=1){s=(r=this.globalData.fontManager.getCharData(d.finalText[t],g.fStyle,this.globalData.fontManager.getFontByName(d.f).fFamily))&&r.data||{},v.reset(),b&&y[t].n&&(k=-_,S+=d.yOffset,S+=+!!w,w=!1),h=(o=s.shapes?s.shapes[0].it:[]).length,v.scale(d.finalSize/100,d.finalSize/100),b&&this.applyTextPropertiesToMatrix(d,v,y[t].line,k,S),u=createSizedArray(h-1);var E=0;for(l=0;l<h;l+=1)if("sh"===o[l].ty){for(n=1,a=o[l].ks.k.i.length,c=o[l].ks.k,p=[];n<a;n+=1)1===n&&p.push(v.applyToX(c.v[0][0],c.v[0][1],0),v.applyToY(c.v[0][0],c.v[0][1],0)),p.push(v.applyToX(c.o[n-1][0],c.o[n-1][1],0),v.applyToY(c.o[n-1][0],c.o[n-1][1],0),v.applyToX(c.i[n][0],c.i[n][1],0),v.applyToY(c.i[n][0],c.i[n][1],0),v.applyToX(c.v[n][0],c.v[n][1],0),v.applyToY(c.v[n][0],c.v[n][1],0));p.push(v.applyToX(c.o[n-1][0],c.o[n-1][1],0),v.applyToY(c.o[n-1][0],c.o[n-1][1],0),v.applyToX(c.i[0][0],c.i[0][1],0),v.applyToY(c.i[0][0],c.i[0][1],0),v.applyToX(c.v[0][0],c.v[0][1],0),v.applyToY(c.v[0][0],c.v[0][1],0)),u[E]=p,E+=1}b&&(k+=y[t].l,k+=_),this.textSpans[C]?this.textSpans[C].elem=u:this.textSpans[C]={elem:u},C+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var t,i,r,s,n,a,o,l,h,c=this.textAnimator.renderedLetters,u=this.textProperty.currentData.l;i=u.length;var p=null,d=null,f=null,m=this.globalData.renderer;for(t=0;t<i;t+=1)if(!u[t].n){if((o=c[t])&&(m.save(),m.ctxTransform(o.p),m.ctxOpacity(o.o)),this.fill){for(o&&o.fc?p!==o.fc&&(m.ctxFillStyle(o.fc),p=o.fc):p!==this.values.fill&&(p=this.values.fill,m.ctxFillStyle(this.values.fill)),s=(l=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(a=(h=l[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(h[n],h[n+1],h[n+2],h[n+3],h[n+4],h[n+5]);this.globalData.canvasContext.closePath(),m.ctxFill()}if(this.stroke){for(o&&o.sw?f!==o.sw&&(f=o.sw,m.ctxLineWidth(o.sw)):f!==this.values.sWidth&&(f=this.values.sWidth,m.ctxLineWidth(this.values.sWidth)),o&&o.sc?d!==o.sc&&(d=o.sc,m.ctxStrokeStyle(o.sc)):d!==this.values.stroke&&(d=this.values.stroke,m.ctxStrokeStyle(this.values.stroke)),s=(l=this.textSpans[t].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<s;r+=1)for(a=(h=l[r]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),n=2;n<a;n+=6)this.globalData.canvasContext.bezierCurveTo(h[n],h[n+1],h[n+2],h[n+3],h[n+4],h[n+5]);this.globalData.canvasContext.closePath(),m.ctxStroke()}o&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t,i,r=createTag("canvas");r.width=this.assetData.w,r.height=this.assetData.h;var s=r.getContext("2d"),n=this.img.width,a=this.img.height,o=n/a,l=this.assetData.w/this.assetData.h,h=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>l&&"xMidYMid slice"===h||o<l&&"xMidYMid slice"!==h?t=(i=a)*l:i=(t=n)/l,s.drawImage(this.img,(n-t)/2,(a-i)/2,t,i,0,0,this.assetData.w,this.assetData.h),this.img=r}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){(1!==t[0]||0!==t[1]||0!==t[4]||1!==t[5]||0!==t[12]||0!==t[13])&&this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13])},CanvasRendererBase.prototype.ctxOpacity=function(t){this.canvasContext.globalAlpha*=t<0?0:t},CanvasRendererBase.prototype.ctxFillStyle=function(t){this.canvasContext.fillStyle=t},CanvasRendererBase.prototype.ctxStrokeStyle=function(t){this.canvasContext.strokeStyle=t},CanvasRendererBase.prototype.ctxLineWidth=function(t){this.canvasContext.lineWidth=t},CanvasRendererBase.prototype.ctxLineCap=function(t){this.canvasContext.lineCap=t},CanvasRendererBase.prototype.ctxLineJoin=function(t){this.canvasContext.lineJoin=t},CanvasRendererBase.prototype.ctxMiterLimit=function(t){this.canvasContext.miterLimit=t},CanvasRendererBase.prototype.ctxFill=function(t){this.canvasContext.fill(t)},CanvasRendererBase.prototype.ctxFillRect=function(t,i,r,s){this.canvasContext.fillRect(t,i,r,s)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas)return void this.canvasContext.restore();t&&(this.globalData.blendMode="source-over"),this.contextData.restore(t)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var i=this.animationItem.container.style;i.width="100%",i.height="100%";var r="0px 0px 0px";i.transformOrigin=r,i.mozTransformOrigin=r,i.webkitTransformOrigin=r,i["-webkit-transform"]=r,i.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(t,i){if(this.reset(),t?(r=t,s=i,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=s):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,s=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=s*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var r,s,n,a,o=this.renderConfig.preserveAspectRatio.split(" "),l=o[1]||"meet",h=o[0]||"xMidYMid",c=h.substr(0,4),u=h.substr(4);n=r/s,(a=this.transformCanvas.w/this.transformCanvas.h)>n&&"meet"===l||a<n&&"slice"===l?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=s/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)),"xMid"===c&&(a<n&&"meet"===l||a>n&&"slice"===l)?this.transformCanvas.tx=(r-this.transformCanvas.w*(s/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===c&&(a<n&&"meet"===l||a>n&&"slice"===l)?this.transformCanvas.tx=(r-this.transformCanvas.w*(s/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,"YMid"===u&&(a>n&&"meet"===l||a<n&&"slice"===l)?this.transformCanvas.ty=(s-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===u&&(a>n&&"meet"===l||a<n&&"slice"===l)?this.transformCanvas.ty=(s-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0;this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var t;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),t=(this.layers?this.layers.length:0)-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,i){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||i)&&!this.destroyed&&-1!==t){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||i,this.globalData.projectInterface.currentFrame=t;var r,s=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=s-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var i=this.elements;if(!i[t]&&99!==this.layers[t].ty){var r=this.createItem(this.layers[t],this,this.globalData);i[t]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var t=2*this._length,i=0;for(i=this._length;i<t;i+=1)this.stack[i]=new CanvasContext;this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(t){this.cArrPos-=1;var i,r=this.stack[this.cArrPos],s=r.transform,n=this.cTr.props;for(i=0;i<16;i+=1)n[i]=s[i];if(t){this.nativeContext.restore();var a=this.stack[this.cArrPos+1];this.appliedFillStyle=a.fillStyle,this.appliedStrokeStyle=a.strokeStyle,this.appliedLineWidth=a.lineWidth,this.appliedLineCap=a.lineCap,this.appliedLineJoin=a.lineJoin,this.appliedMiterLimit=a.miterLimit}this.nativeContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13]),(t||-1!==r.opacity&&this.currentOpacity!==r.opacity)&&(this.nativeContext.globalAlpha=r.opacity,this.currentOpacity=r.opacity),this.currentFillStyle=r.fillStyle,this.currentStrokeStyle=r.strokeStyle,this.currentLineWidth=r.lineWidth,this.currentLineCap=r.lineCap,this.currentLineJoin=r.lineJoin,this.currentMiterLimit=r.miterLimit},CVContextData.prototype.save=function(t){t&&this.nativeContext.save();var i,r=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var s=this.stack[this.cArrPos];for(i=0;i<16;i+=1)s.transform[i]=r[i];this.cArrPos+=1;var n=this.stack[this.cArrPos];n.opacity=s.opacity,n.fillStyle=s.fillStyle,n.strokeStyle=s.strokeStyle,n.lineWidth=s.lineWidth,n.lineCap=s.lineCap,n.lineJoin=s.lineJoin,n.miterLimit=s.miterLimit},CVContextData.prototype.setOpacity=function(t){this.stack[this.cArrPos].opacity=t},CVContextData.prototype.setContext=function(t){this.nativeContext=t},CVContextData.prototype.fillStyle=function(t){this.stack[this.cArrPos].fillStyle!==t&&(this.currentFillStyle=t,this.stack[this.cArrPos].fillStyle=t)},CVContextData.prototype.strokeStyle=function(t){this.stack[this.cArrPos].strokeStyle!==t&&(this.currentStrokeStyle=t,this.stack[this.cArrPos].strokeStyle=t)},CVContextData.prototype.lineWidth=function(t){this.stack[this.cArrPos].lineWidth!==t&&(this.currentLineWidth=t,this.stack[this.cArrPos].lineWidth=t)},CVContextData.prototype.lineCap=function(t){this.stack[this.cArrPos].lineCap!==t&&(this.currentLineCap=t,this.stack[this.cArrPos].lineCap=t)},CVContextData.prototype.lineJoin=function(t){this.stack[this.cArrPos].lineJoin!==t&&(this.currentLineJoin=t,this.stack[this.cArrPos].lineJoin=t)},CVContextData.prototype.miterLimit=function(t){this.stack[this.cArrPos].miterLimit!==t&&(this.currentMiterLimit=t,this.stack[this.cArrPos].miterLimit=t)},CVContextData.prototype.transform=function(t){this.transformMat.cloneFromProps(t);var i=this.cTr;this.transformMat.multiply(i),i.cloneFromProps(this.transformMat.props);var r=i.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(t){var i=this.stack[this.cArrPos].opacity;i*=t<0?0:t,this.stack[this.cArrPos].opacity!==i&&(this.currentOpacity!==t&&(this.nativeContext.globalAlpha=t,this.currentOpacity=t),this.stack[this.cArrPos].opacity=i)},CVContextData.prototype.fill=function(t){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(t)},CVContextData.prototype.fillRect=function(t,i,r,s){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(t,i,r,s)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t,i=this.canvasContext;for(i.beginPath(),i.moveTo(0,0),i.lineTo(this.data.w,0),i.lineTo(this.data.w,this.data.h),i.lineTo(0,this.data.h),i.lineTo(0,0),i.clip(),t=this.layers.length-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},CVCompElement.prototype.destroy=function(){var t;for(t=this.layers.length-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var i=this.finalTransform.mat.toCSS();t.transform=i,t.webkitTransform=i}this.finalTransform._opMdf&&(t.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var i=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",i.w),t.setAttribute("height",i.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,i){var r,s=t.length;for(r=0;r<s;r+=1)i=t[r].mProps.v.applyToPointArray(i[0],i[1],0);return i},HShapeElement.prototype.calculateShapeBoundingBox=function(t,i){var r,s,n,a,o,l=t.sh.v,h=t.transformers,c=l._length;if(!(c<=1)){for(r=0;r<c-1;r+=1)s=this.getTransformedPoint(h,l.v[r]),n=this.getTransformedPoint(h,l.o[r]),a=this.getTransformedPoint(h,l.i[r+1]),o=this.getTransformedPoint(h,l.v[r+1]),this.checkBounds(s,n,a,o,i);l.c&&(s=this.getTransformedPoint(h,l.v[r]),n=this.getTransformedPoint(h,l.o[r]),a=this.getTransformedPoint(h,l.i[0]),o=this.getTransformedPoint(h,l.v[0]),this.checkBounds(s,n,a,o,i))}},HShapeElement.prototype.checkBounds=function(t,i,r,s,n){this.getBoundsOfCurve(t,i,r,s);var a=this.shapeBoundingBox;n.x=bmMin(a.left,n.x),n.xMax=bmMax(a.right,n.xMax),n.y=bmMin(a.top,n.y),n.yMax=bmMax(a.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,i,r,s){for(var n,a,o,l,h,c,u,p=[[t[0],s[0]],[t[1],s[1]]],d=0;d<2;++d)a=6*t[d]-12*i[d]+6*r[d],n=-3*t[d]+9*i[d]-9*r[d]+3*s[d],o=3*i[d]-3*t[d],a|=0,o|=0,0==(n|=0)&&0===a||(0===n?(l=-o/a)>0&&l<1&&p[d].push(this.calculateF(l,t,i,r,s,d)):(h=a*a-4*o*n)>=0&&((c=(-a+bmSqrt(h))/(2*n))>0&&c<1&&p[d].push(this.calculateF(c,t,i,r,s,d)),(u=(-a-bmSqrt(h))/(2*n))>0&&u<1&&p[d].push(this.calculateF(u,t,i,r,s,d))));this.shapeBoundingBox.left=bmMin.apply(null,p[0]),this.shapeBoundingBox.top=bmMin.apply(null,p[1]),this.shapeBoundingBox.right=bmMax.apply(null,p[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,p[1])},HShapeElement.prototype.calculateF=function(t,i,r,s,n,a){return bmPow(1-t,3)*i[a]+3*bmPow(1-t,2)*t*r[a]+3*(1-t)*bmPow(t,2)*s[a]+bmPow(t,3)*n[a]},HShapeElement.prototype.calculateBoundingBox=function(t,i){var r,s=t.length;for(r=0;r<s;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],i):t[r]&&t[r].it?this.calculateBoundingBox(t[r].it,i):t[r]&&t[r].style&&t[r].w&&this.expandStrokeBoundingBox(t[r].w,i)},HShapeElement.prototype.expandStrokeBoundingBox=function(t,i){var r=0;if(t.keyframes){for(var s=0;s<t.keyframes.length;s+=1){var n=t.keyframes[s].s;n>r&&(r=n)}r*=t.mult}else r=t.v*t.mult;i.x-=r,i.xMax+=r,i.y-=r,i.yMax+=r},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,i=999999;if(t.x=999999,t.xMax=-i,t.y=i,t.yMax=-i,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,!this.currentBoxContains(t)){var r=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),r=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),r=!0),r||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,n="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=n,s.webkitTransform=n}}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var i=this.innerElem.style,r=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";i.fill=r,i.color=r,t.sc&&(i.stroke=this.buildColor(t.sc),i.strokeWidth=t.sw+"px");var s=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(i.fontSize=t.finalSize+"px",i.lineHeight=t.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{i.fontFamily=s.fFamily;var n=t.fWeight;i.fontStyle=t.fStyle,i.fontWeight=n}var a=t.l;u=a.length;var o=this.mHelper,l="",h=0;for(c=0;c<u;c+=1){if(this.globalData.fontManager.chars?(this.textPaths[h]?p=this.textPaths[h]:((p=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),p.setAttribute("stroke-linejoin",lineJoinEnum[2]),p.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[h]?f=(d=this.textSpans[h]).children[0]:((d=createTag("div")).style.lineHeight=0,(f=createNS("svg")).appendChild(p),styleDiv(d)))):this.isMasked?p=this.textPaths[h]?this.textPaths[h]:createNS("text"):this.textSpans[h]?(d=this.textSpans[h],p=this.textPaths[h]):(styleDiv(d=createTag("span")),styleDiv(p=createTag("span")),d.appendChild(p)),this.globalData.fontManager.chars){var c,u,p,d,f,m,g,y=this.globalData.fontManager.getCharData(t.finalText[c],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily);if(g=y?y.data:null,o.reset(),g&&g.shapes&&g.shapes.length&&(m=g.shapes[0].it,o.scale(t.finalSize/100,t.finalSize/100),l=this.createPathShape(o,m),p.setAttribute("d",l)),this.isMasked)this.innerElem.appendChild(p);else{if(this.innerElem.appendChild(d),g&&g.shapes){document.body.appendChild(f);var v=f.getBBox();f.setAttribute("width",v.width+2),f.setAttribute("height",v.height+2),f.setAttribute("viewBox",v.x-1+" "+(v.y-1)+" "+(v.width+2)+" "+(v.height+2));var b=f.style,_="translate("+(v.x-1)+"px,"+(v.y-1)+"px)";b.transform=_,b.webkitTransform=_,a[c].yOffset=v.y-1}else f.setAttribute("width",1),f.setAttribute("height",1);d.appendChild(f)}}else if(p.textContent=a[c].val,p.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(p);else{this.innerElem.appendChild(d);var k=p.style,S="translate3d(0,"+-t.finalSize/1.2+"px,0)";k.transform=S,k.webkitTransform=S}this.isMasked?this.textSpans[h]=p:this.textSpans[h]=d,this.textSpans[h].style.display="block",this.textPaths[h]=p,h+=1}for(;h<this.textSpans.length;)this.textSpans[h].style.display="none",h+=1},HTextElement.prototype.renderInnerContent=function(){if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH);var t,i,r,s,n,a=this.svgElement.style,o="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";a.transform=o,a.webkitTransform=o}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var l=0,h=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;for(t=0,i=c.length;t<i;t+=1)c[t].n?l+=1:(s=this.textSpans[t],n=this.textPaths[t],r=h[l],l+=1,r._mdf.m&&(this.isMasked?s.setAttribute("transform",r.m):(s.style.webkitTransform=r.m,s.style.transform=r.m)),s.style.opacity=r.o,r.sw&&r._mdf.sw&&n.setAttribute("stroke-width",r.sw),r.sc&&r._mdf.sc&&n.setAttribute("stroke",r.sc),r.fc&&r._mdf.fc&&(n.setAttribute("fill",r.fc),n.style.color=r.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var u=this.innerElem.getBBox();this.currentBBox.w!==u.width&&(this.currentBBox.w=u.width,this.svgElement.setAttribute("width",u.width)),this.currentBBox.h!==u.height&&(this.currentBBox.h=u.height,this.svgElement.setAttribute("height",u.height));var p=1;if(this.currentBBox.w!==u.width+2*p||this.currentBBox.h!==u.height+2*p||this.currentBBox.x!==u.x-p||this.currentBBox.y!==u.y-p){this.currentBBox.w=u.width+2*p,this.currentBBox.h=u.height+2*p,this.currentBBox.x=u.x-p,this.currentBBox.y=u.y-p,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),a=this.svgElement.style;var d="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";a.transform=d,a.webkitTransform=d}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,i,r,s,n=this.comp.threeDElements.length;for(t=0;t<n;t+=1)if("3d"===(i=this.comp.threeDElements[t]).type){r=i.perspectiveElem.style,s=i.container.style;var a=this.pe.v+"px",o="0px 0px 0px",l="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=a,r.webkitPerspective=a,s.transformOrigin=o,s.mozTransformOrigin=o,s.webkitTransformOrigin=o,r.transform=l,r.webkitTransform=l}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame;if(this.hierarchy)for(r=0,s=this.hierarchy.length;r<s;r+=1)t=this.hierarchy[r].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(r=s=this.hierarchy.length-1;r>=0;r-=1){var i=this.hierarchy[r].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var r,s,n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]],a=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),o=[n[0]/a,n[1]/a,n[2]/a],l=Math.sqrt(o[2]*o[2]+o[0]*o[0]),h=Math.atan2(o[1],l),c=Math.atan2(o[0],-o[2]);this.mat.rotateY(c).rotateX(-h)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){for(r=0,s=this.comp.threeDElements.length;r<s;r+=1)if("3d"===(p=this.comp.threeDElements[r]).type){if(u){var p,d,f,m=this.mat.toCSS();(f=p.container.style).transform=m,f.webkitTransform=m}this.pe._mdf&&((d=p.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),i=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(i),i.crossOrigin="anonymous",i.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(t,i){var r=t.getBaseElement();if(r){var s=this.layers[i];if(s.ddd&&this.supports3d)this.addTo3dContainer(r,i);else if(this.threeDElements)this.addTo3dContainer(r,i);else{for(var n,a,o=0;o<i;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(a=this.elements[o],n=(this.layers[o].ddd?this.getThreeDContainerByPos(o):a.getBaseElement())||n),o+=1;n?s.ddd&&this.supports3d||this.layerElement.insertBefore(r,n):s.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var i=0,r=this.threeDElements.length;i<r;){if(this.threeDElements[i].startPos<=t&&this.threeDElements[i].endPos>=t)return this.threeDElements[i].perspectiveElem;i+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,i){var r,s,n=createTag("div");styleDiv(n);var a=createTag("div");if(styleDiv(a),"3d"===i){(r=n.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var o="50% 50%";r.webkitTransformOrigin=o,r.mozTransformOrigin=o,r.transformOrigin=o;var l="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(s=a.style).transform=l,s.webkitTransform=l}n.appendChild(a);var h={container:a,perspectiveElem:n,startPos:t,endPos:t,type:i};return this.threeDElements.push(h),h},HybridRendererBase.prototype.build3dContainers=function(){var t,i,r=this.layers.length,s="";for(t=0;t<r;t+=1)this.layers[t].ddd&&3!==this.layers[t].ty?"3d"!==s&&(s="3d",i=this.createThreeDContainer(t,"3d")):"2d"!==s&&(s="2d",i=this.createThreeDContainer(t,"2d")),i.endPos=Math.max(i.endPos,t);for(t=(r=this.threeDElements.length)-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,i){for(var r=0,s=this.threeDElements.length;r<s;){if(i<=this.threeDElements[r].endPos){for(var n,a=this.threeDElements[r].startPos;a<i;)this.elements[a]&&this.elements[a].getBaseElement&&(n=this.elements[a].getBaseElement()),a+=1;n?this.threeDElements[r].container.insertBefore(t,n):this.threeDElements[r].container.appendChild(t);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(t){var i=createTag("div"),r=this.animationItem.wrapper,s=i.style;s.width=t.w+"px",s.height=t.h+"px",this.resizerElem=i,styleDiv(i),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&i.setAttribute("class",this.renderConfig.className),r.appendChild(i),s.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var a=createNS("defs");n.appendChild(a),this.data=t,this.setupGlobalData(t,n),this.globalData.defs=a,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,i=this.layers?this.layers.length:0;for(t=0;t<i;t+=1)this.elements[t]&&this.elements[t].destroy&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t,i,r,s,n=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight,o=n/a;this.globalData.compSize.w/this.globalData.compSize.h>o?(t=n/this.globalData.compSize.w,i=n/this.globalData.compSize.w,r=0,s=(a-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(t=a/this.globalData.compSize.h,i=a/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(a/this.globalData.compSize.h))/2,s=0);var l=this.resizerElem.style;l.webkitTransform="matrix3d("+t+",0,0,0,0,"+i+",0,0,0,0,1,0,"+r+","+s+",0,1)",l.transform=l.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t,i=this.globalData.compSize.w,r=this.globalData.compSize.h,s=this.threeDElements.length;for(t=0;t<s;t+=1){var n=this.threeDElements[t].perspectiveElem.style;n.webkitPerspective=Math.sqrt(Math.pow(i,2)+Math.pow(r,2))+"px",n.perspective=n.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var i,r=t.length,s=createTag("div");for(i=0;i<r;i+=1)if(t[i].xt){var n=this.createComp(t[i],s,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,i){for(var r,s=0;s<i;)this.elements[s]&&this.elements[s].getBaseElement&&(r=this.elements[s].getBaseElement()),s+=1;r?this.layerElement.insertBefore(t,r):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var CompExpressionInterface=function(){return function(t){function i(i){for(var r=0,s=t.layers.length;r<s;){if(t.layers[r].nm===i||t.layers[r].ind===i)return t.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(i,"_name",{value:t.data.nm}),i.layer=i,i.pixelAspect=1,i.height=t.data.h||t.globalData.compSize.h,i.width=t.data.w||t.globalData.compSize.w,i.pixelAspect=1,i.frameDuration=1/t.globalData.frameRate,i.displayStartTime=0,i.numLayers=t.layers.length,i}}();function _typeof$2(t){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function seedRandom(t,i){var r,s=this,n=256,a=6,o=52,l="random",h=i.pow(n,a),c=i.pow(2,o),u=2*c,p=n-1;function d(r,s,o){var p=[],d=y(g((s=!0===s?{entropy:!0}:s||{}).entropy?[r,b(t)]:null===r?v():r,3),p),_=new f(p),k=function(){for(var t=_.g(a),i=h,r=0;t<c;)t=(t+r)*n,i*=n,r=_.g(1);for(;t>=u;)t/=2,i/=2,r>>>=1;return(t+r)/i};return k.int32=function(){return 0|_.g(4)},k.quick=function(){return _.g(4)/0x100000000},k.double=k,y(b(_.S),t),(s.pass||o||function(t,r,s,n){return(n&&(n.S&&m(n,_),t.state=function(){return m(_,{})}),s)?(i[l]=t,r):t})(k,d,"global"in s?s.global:this==i,s.state)}function f(t){var i,r=t.length,s=this,a=0,o=s.i=s.j=0,l=s.S=[];for(r||(t=[r++]);a<n;)l[a]=a++;for(a=0;a<n;a++)l[a]=l[o=p&o+t[a%r]+(i=l[a])],l[o]=i;s.g=function(t){for(var i,r=0,a=s.i,o=s.j,l=s.S;t--;)i=l[a=p&a+1],r=r*n+l[p&(l[a]=l[o=p&o+i])+(l[o]=i)];return s.i=a,s.j=o,r}}function m(t,i){return i.i=t.i,i.j=t.j,i.S=t.S.slice(),i}function g(t,i){var r,s=[],n=_typeof$2(t);if(i&&"object"==n)for(r in t)try{s.push(g(t[r],i-1))}catch(t){}return s.length?s:"string"==n?t:t+"\0"}function y(t,i){for(var r,s=t+"",n=0;n<s.length;)i[p&n]=p&(r^=19*i[p&n])+s.charCodeAt(n++);return b(i)}function v(){try{if(r)return b(r.randomBytes(n));var i=new Uint8Array(n);return(s.crypto||s.msCrypto).getRandomValues(i),b(i)}catch(i){var a=s.navigator,o=a&&a.plugins;return[+new Date,s,o,s.screen,b(t)]}}function b(t){return String.fromCharCode.apply(0,t)}i["seed"+l]=d,y(i.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof$1(t){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,i){return"number"===t||i instanceof Number||"boolean"===t||"string"===t}function $bm_neg(t){var i=_typeof$1(t);if("number"===i||t instanceof Number||"boolean"===i)return-t;if($bm_isInstanceOfArray(t)){var r,s=t.length,n=[];for(r=0;r<s;r+=1)n[r]=-t[r];return n}return t.propType?t.v:-t}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,i){var r=_typeof$1(t),s=_typeof$1(i);if(isNumerable(r,t)&&isNumerable(s,i)||"string"===r||"string"===s)return t+i;if($bm_isInstanceOfArray(t)&&isNumerable(s,i))return t=t.slice(0),t[0]+=i,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(i))return(i=i.slice(0))[0]=t+i[0],i;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(i)){for(var n=0,a=t.length,o=i.length,l=[];n<a||n<o;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof i[n]||i[n]instanceof Number)?l[n]=t[n]+i[n]:l[n]=void 0===i[n]?t[n]:t[n]||i[n],n+=1;return l}return 0}var add=sum;function sub(t,i){var r=_typeof$1(t),s=_typeof$1(i);if(isNumerable(r,t)&&isNumerable(s,i))return"string"===r&&(t=parseInt(t,10)),"string"===s&&(i=parseInt(i,10)),t-i;if($bm_isInstanceOfArray(t)&&isNumerable(s,i))return t=t.slice(0),t[0]-=i,t;if(isNumerable(r,t)&&$bm_isInstanceOfArray(i))return(i=i.slice(0))[0]=t-i[0],i;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(i)){for(var n=0,a=t.length,o=i.length,l=[];n<a||n<o;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof i[n]||i[n]instanceof Number)?l[n]=t[n]-i[n]:l[n]=void 0===i[n]?t[n]:t[n]||i[n],n+=1;return l}return 0}function mul(t,i){var r,s,n,a=_typeof$1(t),o=_typeof$1(i);if(isNumerable(a,t)&&isNumerable(o,i))return t*i;if($bm_isInstanceOfArray(t)&&isNumerable(o,i)){for(s=0,r=createTypedArray("float32",n=t.length);s<n;s+=1)r[s]=t[s]*i;return r}if(isNumerable(a,t)&&$bm_isInstanceOfArray(i)){for(s=0,r=createTypedArray("float32",n=i.length);s<n;s+=1)r[s]=t*i[s];return r}return 0}function div(t,i){var r,s,n,a=_typeof$1(t),o=_typeof$1(i);if(isNumerable(a,t)&&isNumerable(o,i))return t/i;if($bm_isInstanceOfArray(t)&&isNumerable(o,i)){for(s=0,r=createTypedArray("float32",n=t.length);s<n;s+=1)r[s]=t[s]/i;return r}if(isNumerable(a,t)&&$bm_isInstanceOfArray(i)){for(s=0,r=createTypedArray("float32",n=i.length);s<n;s+=1)r[s]=t/i[s];return r}return 0}function mod(t,i){return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof i&&(i=parseInt(i,10)),t%i}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,i,r){if(i>r){var s=r;r=i,i=s}return Math.min(Math.max(t,i),r)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,i){if("number"==typeof t||t instanceof Number)return i=i||0,Math.abs(t-i);i||(i=helperLengthArray);var r,s=Math.min(t.length,i.length),n=0;for(r=0;r<s;r+=1)n+=Math.pow(i[r]-t[r],2);return Math.sqrt(n)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var i,r,s=t[0],n=t[1],a=t[2],o=Math.max(s,n,a),l=Math.min(s,n,a),h=(o+l)/2;if(o===l)i=0,r=0;else{var c=o-l;switch(r=h>.5?c/(2-o-l):c/(o+l),o){case s:i=(n-a)/c+6*(n<a);break;case n:i=(a-s)/c+2;break;case a:i=(s-n)/c+4}i/=6}return[i,r,h,t[3]]}function hue2rgb(t,i,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(i-t)*6*r:r<.5?i:r<2/3?t+(i-t)*(2/3-r)*6:t}function hslToRgb(t){var i,r,s,n=t[0],a=t[1],o=t[2];if(0===a)i=o,s=o,r=o;else{var l=o<.5?o*(1+a):o+a-o*a,h=2*o-l;i=hue2rgb(h,l,n+1/3),r=hue2rgb(h,l,n),s=hue2rgb(h,l,n-1/3)}return[i,r,s,t[3]]}function linear(t,i,r,s,n){if((void 0===s||void 0===n)&&(s=i,n=r,i=0,r=1),r<i){var a,o=r;r=i,i=o}if(t<=i)return s;if(t>=r)return n;var l=r===i?0:(t-i)/(r-i);if(!s.length)return s+(n-s)*l;var h=s.length,c=createTypedArray("float32",h);for(a=0;a<h;a+=1)c[a]=s[a]+(n[a]-s[a])*l;return c}function random(t,i){if(void 0===i&&(void 0===t?(t=0,i=1):(i=t,t=void 0)),i.length){var r,s=i.length;t||(t=createTypedArray("float32",s));var n=createTypedArray("float32",s),a=BMMath.random();for(r=0;r<s;r+=1)n[r]=t[r]+a*(i[r]-t[r]);return n}return void 0===t&&(t=0),t+BMMath.random()*(i-t)}function createPath(t,i,r,s){var n,a,o,l=t.length,h=shapePool.newElement();h.setPathData(!!s,l);var c=[0,0];for(n=0;n<l;n+=1)a=i&&i[n]?i[n]:c,o=r&&r[n]?r[n]:c,h.setTripleAt(t[n][0],t[n][1],o[0]+t[n][0],o[1]+t[n][1],a[0]+t[n][0],a[1]+t[n][1],n,!0);return h}function initiateExpression(elem,data,property){function noOp(t){return t}if(!elem.globalData.renderConfig.runExpressions)return noOp;var transform,$bm_transform,content,effect,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,time,velocity,value,text,textIndex,textTotal,selectorValue,parent,val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=(function(t,i){var r,s,n=this.pv.length?this.pv.length:1,a=createTypedArray("float32",n);t=5;var o=Math.floor(time*t);for(r=0,s=0;r<o;){for(s=0;s<n;s+=1)a[s]+=-i+2*i*BMMath.random();r+=1}var l=time*t,h=l-Math.floor(l),c=createTypedArray("float32",n);if(n>1){for(s=0;s<n;s+=1)c[s]=this.pv[s]+a[s]+(-i+2*i*BMMath.random())*h;return c}return this.pv+a[0]+(-i+2*i*BMMath.random())*h}).bind(this);function loopInDuration(t,i){return loopIn(t,i,!0)}function loopOutDuration(t,i){return loopOut(t,i,!0)}thisProperty.loopIn&&(loop_in=loopIn=thisProperty.loopIn.bind(thisProperty)),thisProperty.loopOut&&(loop_out=loopOut=thisProperty.loopOut.bind(thisProperty)),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,i){var r=[i[0]-t[0],i[1]-t[1],i[2]-t[2]],s=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,s,0]}function easeOut(t,i,r,s,n){return applyEase(easeOutBez,t,i,r,s,n)}function easeIn(t,i,r,s,n){return applyEase(easeInBez,t,i,r,s,n)}function ease(t,i,r,s,n){return applyEase(easeInOutBez,t,i,r,s,n)}function applyEase(t,i,r,s,n,a){void 0===n?(n=r,a=s):i=(i-r)/(s-r),i>1?i=1:i<0&&(i=0);var o=t(i);if($bm_isInstanceOfArray(n)){var l,h=n.length,c=createTypedArray("float32",h);for(l=0;l<h;l+=1)c[l]=(a[l]-n[l])*o+n[l];return c}return(a-n)*o+n}function nearestKey(t){var i,r,s,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,s=data.k[0].t;else{for(i=0;i<n-1;i+=1)if(t===data.k[i].t){r=i+1,s=data.k[i].t;break}else if(t>data.k[i].t&&t<data.k[i+1].t){t-data.k[i].t>data.k[i+1].t-t?(r=i+2,s=data.k[i+1].t):(r=i+1,s=data.k[i].t);break}-1===r&&(r=i+1,s=data.k[i].t)}else r=0,s=0;var a={};return a.index=r,a.time=s/elem.comp.globalData.frameRate,a}function key(t){if(!data.k.length||"number"==typeof data.k[0])throw Error("The property has no keyframe at index "+t);t-=1;var i,r,s={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]},n=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(i=0,r=n.length;i<r;i+=1)s[i]=n[i],s.value[i]=n[i];return s}function framesToTime(t,i){return i||(i=elem.comp.globalData.frameRate),t/i}function timeToFrames(t,i){return t||0===t||(t=time),i||(i=elem.comp.globalData.frameRate),t*i}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,i){return"string"==typeof value?void 0===i?value.substring(t):value.substring(t,i):""}function substr(t,i){return"string"==typeof value?void 0===i?value.substr(t):value.substr(t,i):""}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return(value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType)?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),!transform&&($bm_transform=transform=elem.layerInterface("ADBE Transform Group"),transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!!(elem.hierarchy&&elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var t={};return t.initExpressions=function t(t){var i=0,r=[];function s(){i+=1}function n(){0==(i-=1)&&o()}function a(t){-1===r.indexOf(t)&&r.push(t)}function o(){var t,i=r.length;for(t=0;t<i;t+=1)r[t].release();r.length=0}t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=s,t.renderer.globalData.popExpression=n,t.renderer.globalData.registerExpressionProperty=a},t.resetFrame=ExpressionManager.resetFrame,t}(),MaskManagerInterface=function(){function t(t,i){this._mask=t,this._data=i}return Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(i){var r,s=createSizedArray(i.viewData.length),n=i.viewData.length;for(r=0;r<n;r+=1)s[r]=new t(i.viewData[r],i.masksProperties[r]);return function(t){for(r=0;r<n;){if(i.masksProperties[r].nm===t)return s[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},i={pv:[0,0,0],v:[0,0,0],mult:1};function r(t,i,r){Object.defineProperty(t,"velocity",{get:function(){return i.getVelocityAtTime(i.comp.currentFrame)}}),t.numKeys=i.keyframes?i.keyframes.length:0,t.key=function(s){if(!t.numKeys)return 0;var n="";n="s"in i.keyframes[s-1]?i.keyframes[s-1].s:"e"in i.keyframes[s-2]?i.keyframes[s-2].e:i.keyframes[s-2].s;var a="unidimensional"===r?new Number(n):Object.assign({},n);return a.time=i.keyframes[s-1].t/i.elem.comp.globalData.frameRate,a.value="unidimensional"===r?n[0]:n,a},t.valueAtTime=i.getValueAtTime,t.speedAtTime=i.getSpeedAtTime,t.velocityAtTime=i.getVelocityAtTime,t.propertyGroup=i.propertyGroup}function s(i){i&&"pv"in i||(i=t);var s=1/i.mult,n=i.pv*s,a=new Number(n);return a.value=n,r(a,i,"unidimensional"),function(){return i.k&&i.getValue(),n=i.v*s,a.value!==n&&((a=new Number(n)).value=n,a[0]=n,r(a,i,"unidimensional")),a}}function n(t){t&&"pv"in t||(t=i);var s=1/t.mult,n=t.data&&t.data.l||t.pv.length,a=createTypedArray("float32",n),o=createTypedArray("float32",n);return a.value=o,r(a,t,"multidimensional"),function(){t.k&&t.getValue();for(var i=0;i<n;i+=1)o[i]=t.v[i]*s,a[i]=o[i];return a}}function a(){return t}return function(t){return t?"unidimensional"===t.propType?s(t):n(t):a}}(),TransformExpressionInterface=function(){return function(t){var i,r,s,n;function a(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return a.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return a.rotation;case"ADBE Rotate X":return a.xRotation;case"ADBE Rotate Y":return a.yRotation;case"position":case"Position":case"ADBE Position":case 2:return a.position;case"ADBE Position_0":return a.xPosition;case"ADBE Position_1":return a.yPosition;case"ADBE Position_2":return a.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return a.anchorPoint;case"opacity":case"Opacity":case 11:return a.opacity;default:return null}}return Object.defineProperty(a,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(a,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(a,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(a,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(a,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?n=ExpressionPropertyInterface(t.p):(i=ExpressionPropertyInterface(t.px),r=ExpressionPropertyInterface(t.py),t.pz&&(s=ExpressionPropertyInterface(t.pz))),Object.defineProperty(a,"position",{get:function(){return t.p?n():[i(),r(),s?s():0]}}),Object.defineProperty(a,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(a,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(a,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(a,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(a,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(a,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(a,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(a,"orientation",{get:ExpressionPropertyInterface(t.or)}),a}}(),LayerExpressionInterface=function(){function t(t){var i=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(i):this._elem.finalTransform.mProp.applyToMatrix(i),i}function i(t,i){var r=this.getMatrix(i);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,t)}function r(t,i){var r=this.getMatrix(i);return this.applyPoint(r,t)}function s(t,i){var r=this.getMatrix(i);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,t)}function n(t,i){var r=this.getMatrix(i);return this.invertPoint(r,t)}function a(t,i){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;r<s;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.applyToPointArray(i[0],i[1],i[2]||0)}function o(t,i){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;r<s;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t)}return t.inversePoint(i)}function l(t){var i=new Matrix;if(i.reset(),this._elem.finalTransform.mProp.applyToMatrix(i),this._elem.hierarchy&&this._elem.hierarchy.length){var r,s=this._elem.hierarchy.length;for(r=0;r<s;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(i)}return i.inversePoint(t)}function h(){return[1,1,1,1]}return function(c){function u(t){d.mask=new MaskManagerInterface(t,c)}function p(t){d.effect=t}function d(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return d.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return f;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return d.effect;case"ADBE Text Properties":return d.textInterface;default:return null}}d.getMatrix=t,d.invertPoint=o,d.applyPoint=a,d.toWorld=r,d.toWorldVec=i,d.fromWorld=n,d.fromWorldVec=s,d.toComp=r,d.fromComp=l,d.sampleImage=h,d.sourceRectAtTime=c.sourceRectAtTime.bind(c),d._elem=c;var f=TransformExpressionInterface(c.finalTransform.mProp),m=getDescriptor(f,"anchorPoint");return Object.defineProperties(d,{hasParent:{get:function(){return c.hierarchy.length}},parent:{get:function(){return c.hierarchy[0].layerInterface}},rotation:getDescriptor(f,"rotation"),scale:getDescriptor(f,"scale"),position:getDescriptor(f,"position"),opacity:getDescriptor(f,"opacity"),anchorPoint:m,anchor_point:m,transform:{get:function(){return f}},active:{get:function(){return c.isInRange}}}),d.startTime=c.data.st,d.index=c.data.ind,d.source=c.data.refId,d.height=0===c.data.ty?c.data.h:100,d.width=0===c.data.ty?c.data.w:100,d.inPoint=c.data.ip/c.comp.globalData.frameRate,d.outPoint=c.data.op/c.comp.globalData.frameRate,d._name=c.data.nm,d.registerMaskInterface=u,d.registerEffectsInterface=p,d}}(),propertyGroupFactory=function(){return function(t,i){return function(r){return(r=void 0===r?1:r)<=0?t:i(r-1)}}}(),PropertyInterface=function(){return function(t,i){var r={_name:t};return function(t){return(t=void 0===t?1:t)<=0?r:i(t-1)}}}(),EffectsExpressionInterface=function(){function t(r,s,n,a){function o(t){for(var i=r.ef,s=0,n=i.length;s<n;){if(t===i[s].nm||t===i[s].mn||t===i[s].ix){if(5===i[s].ty)return c[s];return c[s]()}s+=1}throw Error()}var l,h=propertyGroupFactory(o,n),c=[],u=r.ef.length;for(l=0;l<u;l+=1)5===r.ef[l].ty?c.push(t(r.ef[l],s.effectElements[l],s.effectElements[l].propertyGroup,a)):c.push(i(s.effectElements[l],r.ef[l].ty,a,h));return"ADBE Color Control"===r.mn&&Object.defineProperty(o,"color",{get:function(){return c[0]()}}),Object.defineProperties(o,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:h}}),o.enabled=0!==r.en,o.active=o.enabled,o}function i(t,i,r,s){var n=ExpressionPropertyInterface(t.p);function a(){return 10===i?r.comp.compInterface(t.p.v):n()}return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",s)),a}return{createEffectsInterface:function(i,r){if(i.effectsManager){var s,n=[],a=i.data.ef,o=i.effectsManager.effectElements.length;for(s=0;s<o;s+=1)n.push(t(a[s],i.effectsManager.effectElements[s],r,i));var l=i.data.ef||[],h=function(t){for(s=0,o=l.length;s<o;){if(t===l[s].nm||t===l[s].mn||t===l[s].ix)return n[s];s+=1}return null};return Object.defineProperty(h,"numProperties",{get:function(){return l.length}}),h}return null}}}(),ShapePathInterface=function(){return function(t,i,r){var s=i.sh;function n(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?n.path:null}var a=propertyGroupFactory(n,r);return s.setGroupProperty(PropertyInterface("Path",a)),Object.defineProperties(n,{path:{get:function(){return s.k&&s.getValue(),s}},shape:{get:function(){return s.k&&s.getValue(),s}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:r}}),n}}(),ShapeExpressionInterface=function(){function t(t,i,h){var m,g=[],y=t?t.length:0;for(m=0;m<y;m+=1)"gr"===t[m].ty?g.push(r(t[m],i[m],h)):"fl"===t[m].ty?g.push(s(t[m],i[m],h)):"st"===t[m].ty?g.push(o(t[m],i[m],h)):"tm"===t[m].ty?g.push(l(t[m],i[m],h)):"tr"===t[m].ty||("el"===t[m].ty?g.push(c(t[m],i[m],h)):"sr"===t[m].ty?g.push(u(t[m],i[m],h)):"sh"===t[m].ty?g.push(ShapePathInterface(t[m],i[m],h)):"rc"===t[m].ty?g.push(p(t[m],i[m],h)):"rd"===t[m].ty?g.push(d(t[m],i[m],h)):"rp"===t[m].ty?g.push(f(t[m],i[m],h)):"gf"===t[m].ty?g.push(n(t[m],i[m],h)):g.push(a(t[m],i[m],h)));return g}function i(i,r,s){var n,a=function(t){for(var i=0,r=n.length;i<r;){if(n[i]._name===t||n[i].mn===t||n[i].propertyIndex===t||n[i].ix===t||n[i].ind===t)return n[i];i+=1}return"number"==typeof t?n[t-1]:null};a.propertyGroup=propertyGroupFactory(a,s),n=t(i.it,r.it,a.propertyGroup),a.numProperties=n.length;var o=h(i.it[i.it.length-1],r.it[r.it.length-1],a.propertyGroup);return a.transform=o,a.propertyIndex=i.cix,a._name=i.nm,a}function r(t,r,s){var n=function(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=propertyGroupFactory(n,s);var a=i(t,r,n.propertyGroup),o=h(t.it[t.it.length-1],r.it[r.it.length-1],n.propertyGroup);return n.content=a,n.transform=o,Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.numProperties=t.np,n.propertyIndex=t.ix,n.nm=t.nm,n.mn=t.mn,n}function s(t,i,r){function s(t){return"Color"===t||"color"===t?s.color:"Opacity"===t||"opacity"===t?s.opacity:null}return Object.defineProperties(s,{color:{get:ExpressionPropertyInterface(i.c)},opacity:{get:ExpressionPropertyInterface(i.o)},_name:{value:t.nm},mn:{value:t.mn}}),i.c.setGroupProperty(PropertyInterface("Color",r)),i.o.setGroupProperty(PropertyInterface("Opacity",r)),s}function n(t,i,r){function s(t){return"Start Point"===t||"start point"===t?s.startPoint:"End Point"===t||"end point"===t?s.endPoint:"Opacity"===t||"opacity"===t?s.opacity:null}return Object.defineProperties(s,{startPoint:{get:ExpressionPropertyInterface(i.s)},endPoint:{get:ExpressionPropertyInterface(i.e)},opacity:{get:ExpressionPropertyInterface(i.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),i.s.setGroupProperty(PropertyInterface("Start Point",r)),i.e.setGroupProperty(PropertyInterface("End Point",r)),i.o.setGroupProperty(PropertyInterface("Opacity",r)),s}function a(){return function(){return null}}function o(t,i,r){var s,n=propertyGroupFactory(c,r),a=propertyGroupFactory(h,n);function o(r){Object.defineProperty(h,t.d[r].nm,{get:ExpressionPropertyInterface(i.d.dataProps[r].p)})}var l=t.d?t.d.length:0,h={};for(s=0;s<l;s+=1)o(s),i.d.dataProps[s].p.setGroupProperty(a);function c(t){return"Color"===t||"color"===t?c.color:"Opacity"===t||"opacity"===t?c.opacity:"Stroke Width"===t||"stroke width"===t?c.strokeWidth:null}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(i.c)},opacity:{get:ExpressionPropertyInterface(i.o)},strokeWidth:{get:ExpressionPropertyInterface(i.w)},dash:{get:function(){return h}},_name:{value:t.nm},mn:{value:t.mn}}),i.c.setGroupProperty(PropertyInterface("Color",n)),i.o.setGroupProperty(PropertyInterface("Opacity",n)),i.w.setGroupProperty(PropertyInterface("Stroke Width",n)),c}function l(t,i,r){function s(i){return i===t.e.ix||"End"===i||"end"===i?s.end:i===t.s.ix?s.start:i===t.o.ix?s.offset:null}var n=propertyGroupFactory(s,r);return s.propertyIndex=t.ix,i.s.setGroupProperty(PropertyInterface("Start",n)),i.e.setGroupProperty(PropertyInterface("End",n)),i.o.setGroupProperty(PropertyInterface("Offset",n)),s.propertyIndex=t.ix,s.propertyGroup=r,Object.defineProperties(s,{start:{get:ExpressionPropertyInterface(i.s)},end:{get:ExpressionPropertyInterface(i.e)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:t.nm}}),s.mn=t.mn,s}function h(t,i,r){function s(i){return t.a.ix===i||"Anchor Point"===i?s.anchorPoint:t.o.ix===i||"Opacity"===i?s.opacity:t.p.ix===i||"Position"===i?s.position:t.r.ix===i||"Rotation"===i||"ADBE Vector Rotation"===i?s.rotation:t.s.ix===i||"Scale"===i?s.scale:t.sk&&t.sk.ix===i||"Skew"===i?s.skew:t.sa&&t.sa.ix===i||"Skew Axis"===i?s.skewAxis:null}var n=propertyGroupFactory(s,r);return i.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",n)),i.transform.mProps.p.setGroupProperty(PropertyInterface("Position",n)),i.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",n)),i.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",n)),i.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",n)),i.transform.mProps.sk&&(i.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",n)),i.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",n))),i.transform.op.setGroupProperty(PropertyInterface("Opacity",n)),Object.defineProperties(s,{opacity:{get:ExpressionPropertyInterface(i.transform.mProps.o)},position:{get:ExpressionPropertyInterface(i.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(i.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(i.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(i.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(i.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(i.transform.mProps.sa)},_name:{value:t.nm}}),s.ty="tr",s.mn=t.mn,s.propertyGroup=r,s}function c(t,i,r){function s(i){return t.p.ix===i?s.position:t.s.ix===i?s.size:null}var n=propertyGroupFactory(s,r);s.propertyIndex=t.ix;var a="tm"===i.sh.ty?i.sh.prop:i.sh;return a.s.setGroupProperty(PropertyInterface("Size",n)),a.p.setGroupProperty(PropertyInterface("Position",n)),Object.defineProperties(s,{size:{get:ExpressionPropertyInterface(a.s)},position:{get:ExpressionPropertyInterface(a.p)},_name:{value:t.nm}}),s.mn=t.mn,s}function u(t,i,r){function s(i){return t.p.ix===i?s.position:t.r.ix===i?s.rotation:t.pt.ix===i?s.points:t.or.ix===i||"ADBE Vector Star Outer Radius"===i?s.outerRadius:t.os.ix===i?s.outerRoundness:t.ir&&(t.ir.ix===i||"ADBE Vector Star Inner Radius"===i)?s.innerRadius:t.is&&t.is.ix===i?s.innerRoundness:null}var n=propertyGroupFactory(s,r),a="tm"===i.sh.ty?i.sh.prop:i.sh;return s.propertyIndex=t.ix,a.or.setGroupProperty(PropertyInterface("Outer Radius",n)),a.os.setGroupProperty(PropertyInterface("Outer Roundness",n)),a.pt.setGroupProperty(PropertyInterface("Points",n)),a.p.setGroupProperty(PropertyInterface("Position",n)),a.r.setGroupProperty(PropertyInterface("Rotation",n)),t.ir&&(a.ir.setGroupProperty(PropertyInterface("Inner Radius",n)),a.is.setGroupProperty(PropertyInterface("Inner Roundness",n))),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(a.p)},rotation:{get:ExpressionPropertyInterface(a.r)},points:{get:ExpressionPropertyInterface(a.pt)},outerRadius:{get:ExpressionPropertyInterface(a.or)},outerRoundness:{get:ExpressionPropertyInterface(a.os)},innerRadius:{get:ExpressionPropertyInterface(a.ir)},innerRoundness:{get:ExpressionPropertyInterface(a.is)},_name:{value:t.nm}}),s.mn=t.mn,s}function p(t,i,r){function s(i){return t.p.ix===i?s.position:t.r.ix===i?s.roundness:t.s.ix===i||"Size"===i||"ADBE Vector Rect Size"===i?s.size:null}var n=propertyGroupFactory(s,r),a="tm"===i.sh.ty?i.sh.prop:i.sh;return s.propertyIndex=t.ix,a.p.setGroupProperty(PropertyInterface("Position",n)),a.s.setGroupProperty(PropertyInterface("Size",n)),a.r.setGroupProperty(PropertyInterface("Rotation",n)),Object.defineProperties(s,{position:{get:ExpressionPropertyInterface(a.p)},roundness:{get:ExpressionPropertyInterface(a.r)},size:{get:ExpressionPropertyInterface(a.s)},_name:{value:t.nm}}),s.mn=t.mn,s}function d(t,i,r){function s(i){return t.r.ix===i||"Round Corners 1"===i?s.radius:null}var n=propertyGroupFactory(s,r),a=i;return s.propertyIndex=t.ix,a.rd.setGroupProperty(PropertyInterface("Radius",n)),Object.defineProperties(s,{radius:{get:ExpressionPropertyInterface(a.rd)},_name:{value:t.nm}}),s.mn=t.mn,s}function f(t,i,r){function s(i){return t.c.ix===i||"Copies"===i?s.copies:t.o.ix===i||"Offset"===i?s.offset:null}var n=propertyGroupFactory(s,r),a=i;return s.propertyIndex=t.ix,a.c.setGroupProperty(PropertyInterface("Copies",n)),a.o.setGroupProperty(PropertyInterface("Offset",n)),Object.defineProperties(s,{copies:{get:ExpressionPropertyInterface(a.c)},offset:{get:ExpressionPropertyInterface(a.o)},_name:{value:t.nm}}),s.mn=t.mn,s}return function(i,r,s){var n;function a(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?s:n[t-1];for(var i=0,r=n.length;i<r;){if(n[i]._name===t)return n[i];i+=1}return null}return a.propertyGroup=propertyGroupFactory(a,function(){return s}),n=t(i,r,a.propertyGroup),a.numProperties=n.length,a._name="Contents",a}}(),TextExpressionInterface=function(){return function(t){var i;function r(t){return"ADBE Text Document"===t?r.sourceText:null}return Object.defineProperty(r,"sourceText",{get:function(){t.textProperty.getValue();var r=t.textProperty.currentData.t;return i&&r===i.value||((i=new String(r)).value=r||new String(r),Object.defineProperty(i,"style",{get:function(){return{fillColor:t.textProperty.currentData.fc}}})),i}}),r}}();function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var FootageInterface=function(){var t=function(t){var i="",r=t.getFootageData();function s(t){if(r[t])return(i=t,r=r[t],"object"===_typeof(r))?s:r;var n=t.indexOf(i);return -1!==n?(r=r[parseInt(t.substr(n+i.length),10)],"object"===_typeof(r))?s:r:""}return function(){return i="",r=t.getFootageData(),s}},i=function(i){function r(t){return"Outline"===t?r.outlineInterface():null}return r._name="Outline",r.outlineInterface=t(i),r};return function(t){function r(t){return"Data"===t?r.dataInterface:null}return r._name="Data",r.dataInterface=i(t),r}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(t){return interfaces[t]||null}var expressionHelpers=function(){return{searchExpressions:function(t,i,r){i.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(t,i,r).bind(r)))},getSpeedAtTime:function(t){var i,r=-.01,s=this.getValueAtTime(t),n=this.getValueAtTime(t+r),a=0;if(s.length){for(i=0;i<s.length;i+=1)a+=Math.pow(n[i]-s[i],2);a=100*Math.sqrt(a)}else a=0;return a},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var i,r,s=-.001,n=this.getValueAtTime(t),a=this.getValueAtTime(t+s);if(n.length)for(r=0,i=createTypedArray("float32",n.length);r<n.length;r+=1)i[r]=(a[r]-n[r])/s;else i=(a-n)/s;return i},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}}}();function addPropertyDecorator(){function t(t,i,r){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var s,n,a,o,l,h=this.comp.renderedFrame,c=this.keyframes,u=c[c.length-1].t;if(h<=u)return this.pv;if(r?(s=i?Math.abs(u-this.elem.comp.globalData.frameRate*i):Math.max(0,u-this.elem.data.ip),n=u-s):((!i||i>c.length-1)&&(i=c.length-1),s=u-(n=c[c.length-1-i].t)),"pingpong"===t){if(Math.floor((h-n)/s)%2!=0)return this.getValueAtTime((s-(h-n)%s+n)/this.comp.globalData.frameRate,0)}else if("offset"===t){var p=this.getValueAtTime(n/this.comp.globalData.frameRate,0),d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),f=this.getValueAtTime(((h-n)%s+n)/this.comp.globalData.frameRate,0),m=Math.floor((h-n)/s);if(this.pv.length){for(a=0,o=(l=Array(p.length)).length;a<o;a+=1)l[a]=(d[a]-p[a])*m+f[a];return l}return(d-p)*m+f}else if("continue"===t){var g=this.getValueAtTime(u/this.comp.globalData.frameRate,0),y=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=0,o=(l=Array(g.length)).length;a<o;a+=1)l[a]=g[a]+(g[a]-y[a])*((h-u)/this.comp.globalData.frameRate)/5e-4;return l}return g+(h-u)/.001*(g-y)}return this.getValueAtTime(((h-n)%s+n)/this.comp.globalData.frameRate,0)}function i(t,i,r){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var s,n,a,o,l,h=this.comp.renderedFrame,c=this.keyframes,u=c[0].t;if(h>=u)return this.pv;if(r?(s=i?Math.abs(this.elem.comp.globalData.frameRate*i):Math.max(0,this.elem.data.op-u),n=u+s):((!i||i>c.length-1)&&(i=c.length-1),s=(n=c[i].t)-u),"pingpong"===t){if(Math.floor((u-h)/s)%2==0)return this.getValueAtTime(((u-h)%s+u)/this.comp.globalData.frameRate,0)}else if("offset"===t){var p=this.getValueAtTime(u/this.comp.globalData.frameRate,0),d=this.getValueAtTime(n/this.comp.globalData.frameRate,0),f=this.getValueAtTime((s-(u-h)%s+u)/this.comp.globalData.frameRate,0),m=Math.floor((u-h)/s)+1;if(this.pv.length){for(a=0,o=(l=Array(p.length)).length;a<o;a+=1)l[a]=f[a]-(d[a]-p[a])*m;return l}return f-(d-p)*m}else if("continue"===t){var g=this.getValueAtTime(u/this.comp.globalData.frameRate,0),y=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=0,o=(l=Array(g.length)).length;a<o;a+=1)l[a]=g[a]+(g[a]-y[a])*(u-h)/.001;return l}return g+(g-y)*(u-h)/.001}return this.getValueAtTime((s-((u-h)%s+u))/this.comp.globalData.frameRate,0)}function r(t,i){if(!this.k||(t=.5*(t||.4),(i=Math.floor(i||5))<=1))return this.pv;var r,s,n=this.comp.renderedFrame/this.comp.globalData.frameRate,a=n-t,o=n+t,l=i>1?(o-a)/(i-1):1,h=0,c=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;h<i;){if(s=this.getValueAtTime(a+h*l),this.pv.length)for(c=0;c<this.pv.length;c+=1)r[c]+=s[c];else r+=s;h+=1}if(this.pv.length)for(c=0;c<this.pv.length;c+=1)r[c]/=i;else r/=i;return r}function s(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var i=this._transformCachingAtTime.v;if(i.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(t);i.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var s=this.s.getValueAtTime(t);i.scale(s[0]*this.s.mult,s[1]*this.s.mult,s[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var n=this.sk.getValueAtTime(t),a=this.sa.getValueAtTime(t);i.skewFromAxis(-n*this.sk.mult,a*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var o=this.r.getValueAtTime(t);i.rotate(-o*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var l=this.rz.getValueAtTime(t),h=this.ry.getValueAtTime(t),c=this.rx.getValueAtTime(t),u=this.or.getValueAtTime(t);i.rotateZ(-l*this.rz.mult).rotateY(h*this.ry.mult).rotateX(c*this.rx.mult).rotateZ(-u[2]*this.or.mult).rotateY(u[1]*this.or.mult).rotateX(u[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var p=this.px.getValueAtTime(t),d=this.py.getValueAtTime(t);if(this.data.p.z){var f=this.pz.getValueAtTime(t);i.translate(p*this.px.mult,d*this.py.mult,-f*this.pz.mult)}else i.translate(p*this.px.mult,d*this.py.mult,0)}else{var m=this.p.getValueAtTime(t);i.translate(m[0]*this.p.mult,m[1]*this.p.mult,-m[2]*this.p.mult)}return i}function n(){return this.v.clone(new Matrix)}var a=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,i,r){var o=a(t,i,r);return o.dynamicProperties.length?o.getValueAtTime=s.bind(o):o.getValueAtTime=n.bind(o),o.setGroupProperty=expressionHelpers.setGroupProperty,o};var o=PropertyFactory.getProp;function l(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}PropertyFactory.getProp=function(s,n,a,l,h){var c=o(s,n,a,l,h);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=t,c.loopIn=i,c.smooth=r,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===n.a?n.k.length:0,c.propertyIndex=n.ix;var u=0;return 0!==a&&(u=createTypedArray("float32",1===n.a?n.k[0].s.length:n.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(s,n,c),c.k&&h.addDynamicProperty(c),c};var h=ShapePropertyFactory.getConstructorFunction(),c=ShapePropertyFactory.getKeyframedConstructorFunction();function u(){}u.prototype={vertices:function(t,i){this.k&&this.getValue();var r,s=this.v;void 0!==i&&(s=this.getValueAtTime(i,0));var n=s._length,a=s[t],o=s.v,l=createSizedArray(n);for(r=0;r<n;r+=1)"i"===t||"o"===t?l[r]=[a[r][0]-o[r][0],a[r][1]-o[r][1]]:l[r]=[a[r][0],a[r][1]];return l},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,i){var r,s=this.v;void 0!==i&&(s=this.getValueAtTime(i,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(s));for(var n=this._segmentsLength,a=n.lengths,o=n.totalLength*t,l=0,h=a.length,c=0;l<h;){if(c+a[l].addedLength>o){var u=l,p=s.c&&l===h-1?0:l+1,d=(o-c)/a[l].addedLength;r=bez.getPointInSegment(s.v[u],s.v[p],s.o[u],s.i[p],d,a[l]);break}c+=a[l].addedLength,l+=1}return r||(r=s.c?[s.v[0][0],s.v[0][1]]:[s.v[s._length-1][0],s.v[s._length-1][1]]),r},vectorOnPath:function(t,i,r){1==t?t=this.v.c:0==t&&(t=.999);var s=this.pointOnPath(t,i),n=this.pointOnPath(t+.001,i),a=n[0]-s[0],o=n[1]-s[1],l=Math.sqrt(Math.pow(a,2)+Math.pow(o,2));return 0===l?[0,0]:"tangent"===r?[a/l,o/l]:[-o/l,a/l]},tangentOnPath:function(t,i){return this.vectorOnPath(t,i,"tangent")},normalOnPath:function(t,i){return this.vectorOnPath(t,i,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([u],h),extendPrototype([u],c),c.prototype.getValueAtTime=l,c.prototype.initiateExpression=ExpressionManager.initiateExpression;var p=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,i,r,s,n){var a=p(t,i,r,s,n);return a.propertyIndex=i.ix,a.lock=!1,3===r?expressionHelpers.searchExpressions(t,i.pt,a):4===r&&expressionHelpers.searchExpressions(t,i.ks,a),a.k&&t.addDynamicProperty(a),a}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(t,i){var r=this.calculateExpression(i);if(t.t!==r){var s={};return this.copyData(s,t),s.t=r.toString(),s.__complete=!1,s}return t},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),i=this.searchExpressions();return this.kf=t||i,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(t,i){var r,s,n=createNS("feMerge");for(n.setAttribute("result",t),s=0;s<i.length;s+=1)(r=createNS("feMergeNode")).setAttribute("in",i[s]),n.appendChild(r),n.appendChild(r);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(t,i,r,s,n){this.filterManager=i;var a=createNS("feColorMatrix");a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","linearRGB"),a.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=a,a.setAttribute("result",s+"_tint_1"),t.appendChild(a),(a=createNS("feColorMatrix")).setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),a.setAttribute("result",s+"_tint_2"),t.appendChild(a),this.matrixFilter=a;var o=this.createMergeNode(s,[n,s+"_tint_1",s+"_tint_2"]);t.appendChild(o)}function SVGFillFilter(t,i,r,s){this.filterManager=i;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result",s),t.appendChild(n),this.matrixFilter=n}function SVGStrokeEffect(t,i,r){this.initialized=!1,this.filterManager=i,this.elem=r,this.paths=[]}function SVGTritoneFilter(t,i,r,s){this.filterManager=i;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),t.appendChild(n);var a=createNS("feComponentTransfer");a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",s),this.matrixFilter=a;var o=createNS("feFuncR");o.setAttribute("type","table"),a.appendChild(o),this.feFuncR=o;var l=createNS("feFuncG");l.setAttribute("type","table"),a.appendChild(l),this.feFuncG=l;var h=createNS("feFuncB");h.setAttribute("type","table"),a.appendChild(h),this.feFuncB=h,t.appendChild(a)}function SVGProLevelsFilter(t,i,r,s){this.filterManager=i;var n=this.filterManager.effectElements,a=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",a)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",a)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",a)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",a)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(a.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(a)),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&((a=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("result",s),t.appendChild(a),this.feFuncRComposed=this.createFeFunc("feFuncR",a),this.feFuncGComposed=this.createFeFunc("feFuncG",a),this.feFuncBComposed=this.createFeFunc("feFuncB",a))}function SVGDropShadowEffect(t,i,r,s,n){var a=i.container.globalData.renderConfig.filterSize,o=i.data.fs||a;t.setAttribute("x",o.x||a.x),t.setAttribute("y",o.y||a.y),t.setAttribute("width",o.width||a.width),t.setAttribute("height",o.height||a.height),this.filterManager=i;var l=createNS("feGaussianBlur");l.setAttribute("in","SourceAlpha"),l.setAttribute("result",s+"_drop_shadow_1"),l.setAttribute("stdDeviation","0"),this.feGaussianBlur=l,t.appendChild(l);var h=createNS("feOffset");h.setAttribute("dx","25"),h.setAttribute("dy","0"),h.setAttribute("in",s+"_drop_shadow_1"),h.setAttribute("result",s+"_drop_shadow_2"),this.feOffset=h,t.appendChild(h);var c=createNS("feFlood");c.setAttribute("flood-color","#00ff00"),c.setAttribute("flood-opacity","1"),c.setAttribute("result",s+"_drop_shadow_3"),this.feFlood=c,t.appendChild(c);var u=createNS("feComposite");u.setAttribute("in",s+"_drop_shadow_3"),u.setAttribute("in2",s+"_drop_shadow_2"),u.setAttribute("operator","in"),u.setAttribute("result",s+"_drop_shadow_4"),t.appendChild(u);var p=this.createMergeNode(s,[s+"_drop_shadow_4",n]);t.appendChild(p)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+s+" 0"),this.matrixFilter.setAttribute("values",r[0]-i[0]+" 0 0 0 "+i[0]+" "+(r[1]-i[1])+" 0 0 0 "+i[1]+" "+(r[2]-i[2])+" 0 0 0 "+i[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var i=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+i[0]+" 0 0 0 0 "+i[1]+" 0 0 0 0 "+i[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var t,i,r,s,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(s=this.elem.maskManager.masksProperties.length,r=0):s=(r=this.filterManager.effectElements[0].p.v-1)+1,(i=createNS("g")).setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-dashoffset",1);r<s;r+=1)t=createNS("path"),i.appendChild(t),this.paths.push({p:t,m:r});if(3===this.filterManager.effectElements[10].p.v){var a=createNS("mask"),o=createElementID();a.setAttribute("id",o),a.setAttribute("mask-type","alpha"),a.appendChild(i),this.elem.globalData.defs.appendChild(a);var l=createNS("g");for(l.setAttribute("mask","url("+getLocationHref()+"#"+o+")");n[0];)l.appendChild(n[0]);this.elem.layerElement.appendChild(l),this.masker=a,i.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(i),this.elem.layerElement.removeAttribute("mask"),i.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=i},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var i=this.paths.length;for(r=0;r<i;r+=1)if(-1!==this.paths[r].m&&(s=this.elem.maskManager.viewData[this.paths[r].m],n=this.paths[r].p,(t||this.filterManager._mdf||s.prop._mdf)&&n.setAttribute("d",s.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var r,s,n,a,o,l=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),h=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),c=n.getTotalLength();a="0 0 0 "+c*l+" ";var u=Math.floor(c*(h-l)/(1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01));for(o=0;o<u;o+=1)a+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";a+="0 "+10*c+" 0 0"}else a="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;n.setAttribute("stroke-dasharray",a)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(t||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,n=s[0]+" "+r[0]+" "+i[0],a=s[1]+" "+r[1]+" "+i[1],o=s[2]+" "+r[2]+" "+i[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",a),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(t,i){var r=createNS(t);return r.setAttribute("type","table"),i.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(t,i,r,s,n){for(var a,o,l=0,h=256,c=Math.min(t,i),u=Math.max(t,i),p=Array.call(null,{length:256}),d=0,f=n-s,m=i-t;l<=256;)o=(a=l/256)<=c?m<0?n:s:a>=u?m<0?s:n:s+f*Math.pow((a-t)/m,1/r),p[d]=o,d+=1,l+=256/(h-1);return p.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var i,r=this.filterManager.effectElements;this.feFuncRComposed&&(t||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(i=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",i),this.feFuncGComposed.setAttribute("tableValues",i),this.feFuncBComposed.setAttribute("tableValues",i)),this.feFuncR&&(t||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(i=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",i)),this.feFuncG&&(t||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(i=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",i)),this.feFuncB&&(t||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(i=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",i)),this.feFuncA&&(t||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(i=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",i))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var i=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*i[0]),Math.round(255*i[1]),Math.round(255*i[2])))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(s),a=r*Math.sin(s);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",a)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,i,r){this.initialized=!1,this.filterManager=i,this.filterElem=t,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(t,i,r,s){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=i;var n=createNS("feGaussianBlur");n.setAttribute("result",s),t.appendChild(n),this.feGaussianBlur=n}function TransformEffect(){}function SVGTransformEffect(t,i){this.init(i)}function CVTransformEffect(t){this.init(t)}return SVGMatte3Effect.prototype.findSymbol=function(t){for(var i=0,r=_svgMatteSymbols.length;i<r;){if(_svgMatteSymbols[i]===t)return _svgMatteSymbols[i];i+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,i){var r,s=t.layerElement.parentNode;if(s){for(var n=s.children,a=0,o=n.length;a<o&&n[a]!==t.layerElement;)a+=1;a<=o-2&&(r=n[a+1]);var l=createNS("use");l.setAttribute("href","#"+i),r?s.insertBefore(l,r):s.appendChild(l)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,i){if(!this.findSymbol(i)){var r=createElementID(),s=createNS("mask");s.setAttribute("id",i.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(i);var n=t.globalData.defs;n.appendChild(s);var a=createNS("symbol");a.setAttribute("id",r),this.replaceInParent(i,r),a.appendChild(i.layerElement),n.appendChild(a);var o=createNS("use");o.setAttribute("href","#"+r),s.appendChild(o),i.data.hd=!1,i.show()}t.setMatte(i.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,i=this.elem.comp.elements,r=0,s=i.length;r<s;)i[r]&&i[r].data.ind===t&&this.setElementAsMask(this.elem,i[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var i=.3,r=this.filterManager.effectElements[0].p.v*i,s=this.filterManager.effectElements[1].p.v,n=3==s?0:r,a=2==s?0:r;this.feGaussianBlur.setAttribute("stdDeviation",n+" "+a);var o=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",o)}},TransformEffect.prototype.init=function(t){this.effectsManager=t,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(t){if(this._opMdf=!1,this._mdf=!1,t||this.effectsManager._mdf){var i=this.effectsManager.effectElements,r=i[0].p.v,s=i[1].p.v,n=1===i[2].p.v,a=i[3].p.v,o=n?a:i[4].p.v,l=i[5].p.v,h=i[6].p.v,c=i[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(.01*o,.01*a,1),this.matrix.rotate(-c*degToRads),this.matrix.skewFromAxis(-l*degToRads,(h+90)*degToRads),this.matrix.translate(s[0],s[1],0),this._mdf=!0,this.opacity!==i[8].p.v&&(this.opacity=i[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})},21820:t=>{"use strict";t.exports=require("os")},22483:(t,i,r)=>{Promise.resolve().then(r.bind(r,35302)),Promise.resolve().then(r.t.bind(r,95190,23))},27910:t=>{"use strict";t.exports=require("stream")},28354:t=>{"use strict";t.exports=require("util")},29021:t=>{"use strict";t.exports=require("fs")},29294:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:t=>{"use strict";t.exports=require("node:child_process")},33873:t=>{"use strict";t.exports=require("path")},34631:t=>{"use strict";t.exports=require("tls")},35302:(t,i,r)=>{"use strict";r.d(i,{default:()=>s});let s=(0,r(60948).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/neha/lms-app/components/CompanionComponent.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/neha/lms-app/components/CompanionComponent.tsx","default")},36686:t=>{"use strict";t.exports=require("diagnostics_channel")},37067:t=>{"use strict";t.exports=require("node:http")},38522:t=>{"use strict";t.exports=require("node:zlib")},41692:t=>{"use strict";t.exports=require("node:tls")},44708:t=>{"use strict";t.exports=require("node:https")},46055:(t,i,r)=>{"use strict";r.r(i),r.d(i,{default:()=>n});var s=r(53377);let n=async t=>{let i={type:"image/x-icon",sizes:"32x31"},r=(0,s.fillMetadataSegment)(".",await t.params,"favicon.ico");return[{...i,url:r+""}]}},48161:t=>{"use strict";t.exports=require("node:os")},48253:(t,i,r)=>{"use strict";r.d(i,{N:()=>p});var s=r(6208),n=r(16501),a=r(95448),o=r(42148);let l=new(require("node:async_hooks")).AsyncLocalStorage;var h=r(43348);let c=async()=>{var t,i;let r;try{let t=await (0,n.TG)(),i=(0,o._b)(t,s.AA.Headers.ClerkRequestData);r=(0,h.Kk)(i)}catch(t){if(t&&(0,n.Sz)(t))throw t}let c=null!=(i=null==(t=l.getStore())?void 0:t.get("requestData"))?i:r;return(null==c?void 0:c.secretKey)||(null==c?void 0:c.publishableKey)?(0,a.n)(c):(0,a.n)({})};var u=r(10579);async function p(){r(4023);let{userId:t}=await (0,u.j)();return t?(await c()).users.getUser(t):null}},52746:(t,i)=>{"use strict";var r;Object.defineProperty(i,"__esModule",{value:!0}),i.Api=i.HttpClient=i.ContentType=void 0,function(t){t.Json="application/json",t.FormData="multipart/form-data",t.UrlEncoded="application/x-www-form-urlencoded",t.Text="text/plain"}(r||(i.ContentType=r={}));class s{baseUrl="https://api.vapi.ai";securityData=null;securityWorker;abortControllers=new Map;customFetch=(...t)=>fetch(...t);baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};constructor(t={}){Object.assign(this,t)}setSecurityData=t=>{this.securityData=t};encodeQueryParam(t,i){let r=encodeURIComponent(t);return`${r}=${encodeURIComponent("number"==typeof i?i:`${i}`)}`}addQueryParam(t,i){return this.encodeQueryParam(i,t[i])}addArrayQueryParam(t,i){return t[i].map(t=>this.encodeQueryParam(i,t)).join("&")}toQueryString(t){let i=t||{};return Object.keys(i).filter(t=>void 0!==i[t]).map(t=>Array.isArray(i[t])?this.addArrayQueryParam(i,t):this.addQueryParam(i,t)).join("&")}addQueryParams(t){let i=this.toQueryString(t);return i?`?${i}`:""}contentFormatters={[r.Json]:t=>null!==t&&("object"==typeof t||"string"==typeof t)?JSON.stringify(t):t,[r.Text]:t=>null!==t&&"string"!=typeof t?JSON.stringify(t):t,[r.FormData]:t=>Object.keys(t||{}).reduce((i,r)=>{let s=t[r];return i.append(r,s instanceof Blob?s:"object"==typeof s&&null!==s?JSON.stringify(s):`${s}`),i},new FormData),[r.UrlEncoded]:t=>this.toQueryString(t)};mergeRequestParams(t,i){return{...this.baseApiParams,...t,...i||{},headers:{...this.baseApiParams.headers||{},...t.headers||{},...i&&i.headers||{}}}}createAbortSignal=t=>{if(this.abortControllers.has(t)){let i=this.abortControllers.get(t);return i?i.signal:void 0}let i=new AbortController;return this.abortControllers.set(t,i),i.signal};abortRequest=t=>{let i=this.abortControllers.get(t);i&&(i.abort(),this.abortControllers.delete(t))};request=async({body:t,secure:i,path:s,type:n,query:a,format:o,baseUrl:l,cancelToken:h,...c})=>{let u=("boolean"==typeof i?i:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},p=this.mergeRequestParams(c,u),d=a&&this.toQueryString(a),f=this.contentFormatters[n||r.Json],m=o||p.format;return this.customFetch(`${l||this.baseUrl||""}${s}${d?`?${d}`:""}`,{...p,headers:{...p.headers||{},...n&&n!==r.FormData?{"Content-Type":n}:{}},signal:(h?this.createAbortSignal(h):p.signal)||null,body:null==t?null:f(t)}).then(async t=>{let i=t;i.data=null,i.error=null;let r=m?await t[m]().then(t=>(i.ok?i.data=t:i.error=t,i)).catch(t=>(i.error=t,i)):i;if(h&&this.abortControllers.delete(h),!t.ok)throw r;return r})}}i.HttpClient=s;class n extends s{call={callControllerCreate:(t,i={})=>this.request({path:"/call",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),callControllerFindAll:(t,i={})=>this.request({path:"/call",method:"GET",query:t,secure:!0,format:"json",...i}),callControllerFindOne:(t,i={})=>this.request({path:`/call/${t}`,method:"GET",secure:!0,format:"json",...i}),callControllerUpdate:(t,i,s={})=>this.request({path:`/call/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),callControllerDeleteCallData:(t,i={})=>this.request({path:`/call/${t}`,method:"DELETE",secure:!0,format:"json",...i}),callControllerCreatePhoneCall:(t,i={})=>this.request({path:"/call/phone",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),callControllerCreateWebCall:(t,i={})=>this.request({path:"/call/web",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i})};v2={callControllerFindAllPaginated:(t,i={})=>this.request({path:"/v2/call",method:"GET",query:t,secure:!0,format:"json",...i}),callControllerFindAllMetadataPaginated:(t,i={})=>this.request({path:"/v2/call/metadata",method:"GET",query:t,secure:!0,format:"json",...i}),assistantControllerFindAllPaginated:(t,i={})=>this.request({path:"/v2/assistant",method:"GET",query:t,secure:!0,format:"json",...i}),phoneNumberControllerFindAllPaginated:(t,i={})=>this.request({path:"/v2/phone-number",method:"GET",query:t,secure:!0,format:"json",...i})};chat={chatController:(t={})=>this.request({path:"/chat",method:"POST",secure:!0,format:"json",...t}),chatControllerChatCompletions:(t,i={})=>this.request({path:"/chat/completions",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i})};assistant={assistantControllerCreate:(t,i={})=>this.request({path:"/assistant",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),assistantControllerFindAll:(t,i={})=>this.request({path:"/assistant",method:"GET",query:t,secure:!0,format:"json",...i}),assistantControllerFindOne:(t,i={})=>this.request({path:`/assistant/${t}`,method:"GET",secure:!0,format:"json",...i}),assistantControllerUpdate:(t,i,s={})=>this.request({path:`/assistant/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),assistantControllerReplace:(t,i,s={})=>this.request({path:`/assistant/${t}`,method:"PUT",body:i,secure:!0,type:r.Json,format:"json",...s}),assistantControllerRemove:(t,i={})=>this.request({path:`/assistant/${t}`,method:"DELETE",secure:!0,format:"json",...i}),assistantControllerFindVersions:(t,i,r={})=>this.request({path:`/assistant/${t}/version`,method:"GET",query:i,secure:!0,format:"json",...r})};phoneNumber={phoneNumberControllerImportTwilio:(t,i={})=>this.request({path:"/phone-number/import/twilio",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),phoneNumberControllerImportVonage:(t,i={})=>this.request({path:"/phone-number/import/vonage",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),phoneNumberControllerCreate:(t,i={})=>this.request({path:"/phone-number",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),phoneNumberControllerFindAll:(t,i={})=>this.request({path:"/phone-number",method:"GET",query:t,secure:!0,format:"json",...i}),phoneNumberControllerFindOne:(t,i={})=>this.request({path:`/phone-number/${t}`,method:"GET",secure:!0,format:"json",...i}),phoneNumberControllerUpdate:(t,i,s={})=>this.request({path:`/phone-number/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),phoneNumberControllerRemove:(t,i={})=>this.request({path:`/phone-number/${t}`,method:"DELETE",secure:!0,format:"json",...i})};tool={toolControllerCreate:(t,i={})=>this.request({path:"/tool",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),toolControllerFindAll:(t,i={})=>this.request({path:"/tool",method:"GET",query:t,secure:!0,format:"json",...i}),toolControllerFindOne:(t,i={})=>this.request({path:`/tool/${t}`,method:"GET",secure:!0,format:"json",...i}),toolControllerUpdate:(t,i,s={})=>this.request({path:`/tool/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),toolControllerRemove:(t,i={})=>this.request({path:`/tool/${t}`,method:"DELETE",secure:!0,format:"json",...i})};file={fileControllerCreateDeprecated:(t,i={})=>this.request({path:"/file/upload",method:"POST",body:t,secure:!0,type:r.FormData,format:"json",...i}),fileControllerCreate:(t,i={})=>this.request({path:"/file",method:"POST",body:t,secure:!0,type:r.FormData,format:"json",...i}),fileControllerFindAll:(t={})=>this.request({path:"/file",method:"GET",secure:!0,format:"json",...t}),fileControllerFindOne:(t,i={})=>this.request({path:`/file/${t}`,method:"GET",secure:!0,format:"json",...i}),fileControllerUpdate:(t,i,s={})=>this.request({path:`/file/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),fileControllerRemove:(t,i={})=>this.request({path:`/file/${t}`,method:"DELETE",secure:!0,format:"json",...i})};knowledgeBase={knowledgeBaseControllerCreate:(t,i={})=>this.request({path:"/knowledge-base",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),knowledgeBaseControllerFindAll:(t,i={})=>this.request({path:"/knowledge-base",method:"GET",query:t,secure:!0,format:"json",...i}),knowledgeBaseControllerFindOne:(t,i={})=>this.request({path:`/knowledge-base/${t}`,method:"GET",secure:!0,format:"json",...i}),knowledgeBaseControllerUpdate:(t,i,s={})=>this.request({path:`/knowledge-base/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),knowledgeBaseControllerRemove:(t,i={})=>this.request({path:`/knowledge-base/${t}`,method:"DELETE",secure:!0,format:"json",...i})};workflow={workflowControllerFindAll:(t={})=>this.request({path:"/workflow",method:"GET",secure:!0,format:"json",...t}),workflowControllerCreate:(t,i={})=>this.request({path:"/workflow",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),workflowControllerFindOne:(t,i={})=>this.request({path:`/workflow/${t}`,method:"GET",secure:!0,format:"json",...i}),workflowControllerDelete:(t,i={})=>this.request({path:`/workflow/${t}`,method:"DELETE",secure:!0,format:"json",...i}),workflowControllerUpdate:(t,i,s={})=>this.request({path:`/workflow/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s})};squad={squadControllerCreate:(t,i={})=>this.request({path:"/squad",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),squadControllerFindAll:(t,i={})=>this.request({path:"/squad",method:"GET",query:t,secure:!0,format:"json",...i}),squadControllerFindOne:(t,i={})=>this.request({path:`/squad/${t}`,method:"GET",secure:!0,format:"json",...i}),squadControllerUpdate:(t,i,s={})=>this.request({path:`/squad/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),squadControllerRemove:(t,i={})=>this.request({path:`/squad/${t}`,method:"DELETE",secure:!0,format:"json",...i})};testSuite={testSuiteControllerFindAllPaginated:(t,i={})=>this.request({path:"/test-suite",method:"GET",query:t,secure:!0,format:"json",...i}),testSuiteControllerCreate:(t,i={})=>this.request({path:"/test-suite",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),testSuiteControllerFindOne:(t,i={})=>this.request({path:`/test-suite/${t}`,method:"GET",secure:!0,format:"json",...i}),testSuiteControllerUpdate:(t,i,s={})=>this.request({path:`/test-suite/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),testSuiteControllerRemove:(t,i={})=>this.request({path:`/test-suite/${t}`,method:"DELETE",secure:!0,format:"json",...i}),testSuiteTestControllerFindAllPaginated:(t,i,r={})=>this.request({path:`/test-suite/${t}/test`,method:"GET",query:i,secure:!0,format:"json",...r}),testSuiteTestControllerCreate:(t,i,s={})=>this.request({path:`/test-suite/${t}/test`,method:"POST",body:i,secure:!0,type:r.Json,format:"json",...s}),testSuiteTestControllerFindOne:(t,i,r={})=>this.request({path:`/test-suite/${t}/test/${i}`,method:"GET",secure:!0,format:"json",...r}),testSuiteTestControllerUpdate:(t,i,s,n={})=>this.request({path:`/test-suite/${t}/test/${i}`,method:"PATCH",body:s,secure:!0,type:r.Json,format:"json",...n}),testSuiteTestControllerRemove:(t,i,r={})=>this.request({path:`/test-suite/${t}/test/${i}`,method:"DELETE",secure:!0,format:"json",...r}),testSuiteRunControllerFindAllPaginated:(t,i,r={})=>this.request({path:`/test-suite/${t}/run`,method:"GET",query:i,secure:!0,format:"json",...r}),testSuiteRunControllerCreate:(t,i,s={})=>this.request({path:`/test-suite/${t}/run`,method:"POST",body:i,secure:!0,type:r.Json,format:"json",...s}),testSuiteRunControllerFindOne:(t,i,r={})=>this.request({path:`/test-suite/${t}/run/${i}`,method:"GET",secure:!0,format:"json",...r}),testSuiteRunControllerUpdate:(t,i,s,n={})=>this.request({path:`/test-suite/${t}/run/${i}`,method:"PATCH",body:s,secure:!0,type:r.Json,format:"json",...n}),testSuiteRunControllerRemove:(t,i,r={})=>this.request({path:`/test-suite/${t}/run/${i}`,method:"DELETE",secure:!0,format:"json",...r})};metrics={analyticsControllerFindAllDeprecated:(t,i={})=>this.request({path:"/metrics",method:"GET",query:t,secure:!0,format:"json",...i})};analytics={analyticsControllerQuery:(t,i={})=>this.request({path:"/analytics",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i})};log={loggingControllerCallLogsQuery:(t,i={})=>this.request({path:"/log",method:"GET",query:t,secure:!0,format:"json",...i}),loggingControllerCallLogsDeleteQuery:(t,i={})=>this.request({path:"/log",method:"DELETE",query:t,secure:!0,...i})};logs={loggingControllerLogsQuery:(t,i={})=>this.request({path:"/logs",method:"GET",query:t,secure:!0,format:"json",...i}),loggingControllerLogsDeleteQuery:(t,i={})=>this.request({path:"/logs",method:"DELETE",query:t,secure:!0,...i})};org={orgControllerCreate:(t,i={})=>this.request({path:"/org",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),orgControllerFindAll:(t={})=>this.request({path:"/org",method:"GET",secure:!0,format:"json",...t}),orgControllerFindOne:(t,i={})=>this.request({path:`/org/${t}`,method:"GET",secure:!0,format:"json",...i}),orgControllerUpdate:(t,i,s={})=>this.request({path:`/org/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),orgControllerDeleteOrg:(t,i={})=>this.request({path:`/org/${t}`,method:"DELETE",secure:!0,...i}),orgControllerFindAllUsers:(t,i={})=>this.request({path:`/org/${t}/user`,method:"GET",secure:!0,format:"json",...i}),orgControllerOrgLeave:(t,i={})=>this.request({path:`/org/${t}/leave`,method:"DELETE",secure:!0,...i}),orgControllerOrgRemoveUser:(t,i,r={})=>this.request({path:`/org/${t}/member/${i}/leave`,method:"DELETE",secure:!0,...r}),orgControllerUsersInvite:(t,i,s={})=>this.request({path:`/org/${t}/invite`,method:"POST",body:i,secure:!0,type:r.Json,...s}),orgControllerUserUpdate:(t,i,s={})=>this.request({path:`/org/${t}/role`,method:"PATCH",body:i,secure:!0,type:r.Json,...s}),orgControllerOrgToken:(t,i={})=>this.request({path:`/org/${t}/auth`,method:"GET",secure:!0,format:"json",...i})};token={tokenControllerCreate:(t,i={})=>this.request({path:"/token",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),tokenControllerFindAll:(t,i={})=>this.request({path:"/token",method:"GET",query:t,secure:!0,format:"json",...i}),tokenControllerFindOne:(t,i={})=>this.request({path:`/token/${t}`,method:"GET",secure:!0,format:"json",...i}),tokenControllerUpdate:(t,i,s={})=>this.request({path:`/token/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),tokenControllerRemove:(t,i={})=>this.request({path:`/token/${t}`,method:"DELETE",secure:!0,format:"json",...i})};credential={credentialControllerCreate:(t,i={})=>this.request({path:"/credential",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),credentialControllerFindAll:(t,i={})=>this.request({path:"/credential",method:"GET",query:t,secure:!0,format:"json",...i}),credentialControllerFindOne:(t,i={})=>this.request({path:`/credential/${t}`,method:"GET",secure:!0,format:"json",...i}),credentialControllerUpdate:(t,i,s={})=>this.request({path:`/credential/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),credentialControllerRemove:(t,i={})=>this.request({path:`/credential/${t}`,method:"DELETE",secure:!0,format:"json",...i}),credentialControllerGenerateSession:(t,i={})=>this.request({path:"/credential/session",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),credentialControllerHandleWebhook:(t,i={})=>this.request({path:"/credential/webhook",method:"POST",body:t,type:r.Json,...i}),credentialControllerTriggerCredentialAction:(t,i={})=>this.request({path:"/credential/trigger",method:"POST",body:t,secure:!0,type:r.Json,...i})};template={templateControllerCreate:(t,i={})=>this.request({path:"/template",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),templateControllerFindAll:(t,i={})=>this.request({path:"/template",method:"GET",query:t,secure:!0,format:"json",...i}),templateControllerFindAllPinned:(t={})=>this.request({path:"/template/pinned",method:"GET",secure:!0,format:"json",...t}),templateControllerFindOne:(t,i={})=>this.request({path:`/template/${t}`,method:"GET",secure:!0,format:"json",...i}),templateControllerUpdate:(t,i,s={})=>this.request({path:`/template/${t}`,method:"PATCH",body:i,secure:!0,type:r.Json,format:"json",...s}),templateControllerRemove:(t,i={})=>this.request({path:`/template/${t}`,method:"DELETE",secure:!0,format:"json",...i})};voiceLibrary={voiceLibraryControllerVoiceGetByProvider:(t,i,r={})=>this.request({path:`/voice-library/${t}`,method:"GET",query:i,secure:!0,format:"json",...r}),voiceLibraryControllerVoiceGetAccentsByProvider:(t,i={})=>this.request({path:`/voice-library/${t}/accents`,method:"GET",secure:!0,format:"json",...i}),voiceLibraryControllerVoiceLibrarySyncByProvider:(t,i={})=>this.request({path:`/voice-library/sync/${t}`,method:"POST",secure:!0,format:"json",...i}),voiceLibraryControllerVoiceLibrarySyncDefaultVoices:(t,i={})=>this.request({path:"/voice-library/sync",method:"POST",body:t,secure:!0,type:r.Json,format:"json",...i}),voiceLibraryControllerVoiceLibraryCreateSesameVoice:(t,i={})=>this.request({path:"/voice-library/create-sesame-voice",method:"POST",body:t,secure:!0,type:r.Json,...i})};provider={providerControllerGetWorkflows:(t,i,r={})=>this.request({path:`/${t}/workflows`,method:"GET",query:i,secure:!0,format:"json",...r}),providerControllerGetWorkflowTriggerHook:(t,i,r={})=>this.request({path:`/${t}/workflows/${i}/hooks`,method:"GET",secure:!0,format:"json",...r}),providerControllerGetLocations:(t,i={})=>this.request({path:`/${t}/locations`,method:"GET",secure:!0,format:"json",...i}),voiceProviderControllerSearchVoices:(t,i,r={})=>this.request({path:`/${t}/voices/search`,method:"GET",query:i,secure:!0,format:"json",...r}),voiceProviderControllerSearchVoice:(t,i,r={})=>this.request({path:`/${t}/voice/search`,method:"GET",query:i,secure:!0,format:"json",...r}),voiceProviderControllerAddVoices:(t,i,s={})=>this.request({path:`/${t}/voices/add`,method:"POST",body:i,secure:!0,type:r.Json,format:"json",...s}),voiceProviderControllerAddVoice:(t,i,s={})=>this.request({path:`/${t}/voice/add`,method:"POST",body:i,secure:!0,type:r.Json,format:"json",...s})};v11Labs={voiceProviderControllerCloneVoices:(t,i={})=>this.request({path:"/11labs/voice/clone",method:"POST",body:t,secure:!0,type:r.FormData,...i})}}i.Api=n},53053:t=>{"use strict";t.exports=require("node:diagnostics_channel")},53559:(t,i,r)=>{"use strict";let s,n,a,o,l;function h(t,i){if(null==t)return{};var r,s,n=function(t,i){if(null==t)return{};var r,s,n={},a=Object.keys(t);for(s=0;s<a.length;s++)r=a[s],i.indexOf(r)>=0||(n[r]=t[r]);return n}(t,i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],i.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c(t,i){if(!(t instanceof i))throw TypeError("Cannot call a class as a function")}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t){var i=function(t,i){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,i||"default");if("object"!==u(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"===u(i)?i:String(i)}function d(t,i){for(var r=0;r<i.length;r++){var s=i[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,p(s.key),s)}}function f(t,i,r){return i&&d(t.prototype,i),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,i){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(t,i)}function y(t,i){if("function"!=typeof i&&null!==i)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),i&&g(t,i)}function v(t,i){if(i&&("object"===u(i)||"function"==typeof i))return i;if(void 0!==i)throw TypeError("Derived constructors may only return object or undefined");return m(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,i,r){return(i=p(i))in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}function k(t,i,r,s,n,a,o){try{var l=t[a](o),h=l.value}catch(t){return void r(t)}l.done?i(h):Promise.resolve(h).then(s,n)}function S(t){return function(){var i=this,r=arguments;return new Promise(function(s,n){var a=t.apply(i,r);function o(t){k(a,s,n,o,l,"next",t)}function l(t){k(a,s,n,o,l,"throw",t)}o(void 0)})}}function w(t,i){(null==i||i>t.length)&&(i=t.length);for(var r=0,s=Array(i);r<i;r++)s[r]=t[r];return s}function C(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var s,n,a,o,l=[],h=!0,c=!1;try{if(a=(r=r.call(t)).next,0===i){if(Object(r)!==r)return;h=!1}else for(;!(h=(s=a.call(r)).done)&&(l.push(s.value),l.length!==i);h=!0);}catch(t){c=!0,n=t}finally{try{if(!h&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw n}}return l}}(t,i)||function(t,i){if(t){if("string"==typeof t)return w(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,i):void 0}}(t,i)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.r(i),r.d(i,{DAILY_ACCESS_LEVEL_FULL:()=>rz,DAILY_ACCESS_LEVEL_LOBBY:()=>rG,DAILY_ACCESS_LEVEL_NONE:()=>rU,DAILY_ACCESS_UNKNOWN:()=>rq,DAILY_CAMERA_ERROR_CAM_AND_MIC_IN_USE:()=>r4,DAILY_CAMERA_ERROR_CAM_IN_USE:()=>r3,DAILY_CAMERA_ERROR_CONSTRAINTS:()=>r8,DAILY_CAMERA_ERROR_MIC_IN_USE:()=>r5,DAILY_CAMERA_ERROR_NOT_FOUND:()=>r9,DAILY_CAMERA_ERROR_PERMISSIONS:()=>r6,DAILY_CAMERA_ERROR_UNDEF_MEDIADEVICES:()=>r7,DAILY_CAMERA_ERROR_UNKNOWN:()=>st,DAILY_EVENT_ACCESS_STATE_UPDATED:()=>sg,DAILY_EVENT_ACTIVE_SPEAKER_CHANGE:()=>sz,DAILY_EVENT_ACTIVE_SPEAKER_MODE_CHANGE:()=>sG,DAILY_EVENT_APP_MSG:()=>sO,DAILY_EVENT_CAMERA_ERROR:()=>sl,DAILY_EVENT_CPU_LOAD_CHANGE:()=>s$,DAILY_EVENT_ERROR:()=>s5,DAILY_EVENT_EXIT_FULLSCREEN:()=>sH,DAILY_EVENT_FACE_COUNTS_UPDATED:()=>sW,DAILY_EVENT_FULLSCREEN:()=>sY,DAILY_EVENT_IFRAME_LAUNCH_CONFIG:()=>si,DAILY_EVENT_IFRAME_READY_FOR_LAUNCH_CONFIG:()=>se,DAILY_EVENT_INPUT_SETTINGS_UPDATED:()=>s2,DAILY_EVENT_JOINED_MEETING:()=>sc,DAILY_EVENT_JOINING_MEETING:()=>sh,DAILY_EVENT_LANG_UPDATED:()=>s0,DAILY_EVENT_LEFT_MEETING:()=>su,DAILY_EVENT_LIVE_STREAMING_ERROR:()=>sZ,DAILY_EVENT_LIVE_STREAMING_STARTED:()=>sK,DAILY_EVENT_LIVE_STREAMING_STOPPED:()=>sX,DAILY_EVENT_LIVE_STREAMING_UPDATED:()=>sQ,DAILY_EVENT_LOADED:()=>sa,DAILY_EVENT_LOADING:()=>ss,DAILY_EVENT_LOAD_ATTEMPT_FAILED:()=>sn,DAILY_EVENT_LOCAL_SCREEN_SHARE_CANCELED:()=>sq,DAILY_EVENT_LOCAL_SCREEN_SHARE_STARTED:()=>sV,DAILY_EVENT_LOCAL_SCREEN_SHARE_STOPPED:()=>sB,DAILY_EVENT_MEETING_SESSION_DATA_ERROR:()=>sb,DAILY_EVENT_MEETING_SESSION_STATE_UPDATED:()=>sv,DAILY_EVENT_MEETING_SESSION_SUMMARY_UPDATED:()=>sy,DAILY_EVENT_NETWORK_CONNECTION:()=>sJ,DAILY_EVENT_NETWORK_QUALITY_CHANGE:()=>sU,DAILY_EVENT_NONFATAL_ERROR:()=>s3,DAILY_EVENT_PARTICIPANT_COUNTS_UPDATED:()=>sm,DAILY_EVENT_PARTICIPANT_JOINED:()=>sp,DAILY_EVENT_PARTICIPANT_LEFT:()=>sf,DAILY_EVENT_PARTICIPANT_UPDATED:()=>sd,DAILY_EVENT_RECEIVE_SETTINGS_UPDATED:()=>s1,DAILY_EVENT_RECORDING_DATA:()=>sL,DAILY_EVENT_RECORDING_ERROR:()=>sD,DAILY_EVENT_RECORDING_STARTED:()=>sA,DAILY_EVENT_RECORDING_STATS:()=>sM,DAILY_EVENT_RECORDING_STOPPED:()=>sP,DAILY_EVENT_RECORDING_UPLOAD_COMPLETED:()=>sI,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STARTED:()=>sR,DAILY_EVENT_REMOTE_MEDIA_PLAYER_STOPPED:()=>sN,DAILY_EVENT_REMOTE_MEDIA_PLAYER_UPDATED:()=>sj,DAILY_EVENT_STARTED_CAMERA:()=>so,DAILY_EVENT_THEME_UPDATED:()=>sr,DAILY_EVENT_TRACK_STARTED:()=>sw,DAILY_EVENT_TRACK_STOPPED:()=>sC,DAILY_EVENT_TRANSCRIPTION_ERROR:()=>sT,DAILY_EVENT_TRANSCRIPTION_MSG:()=>sF,DAILY_EVENT_TRANSCRIPTION_STARTED:()=>sE,DAILY_EVENT_TRANSCRIPTION_STOPPED:()=>sx,DAILY_EVENT_WAITING_PARTICIPANT_ADDED:()=>s_,DAILY_EVENT_WAITING_PARTICIPANT_REMOVED:()=>sS,DAILY_EVENT_WAITING_PARTICIPANT_UPDATED:()=>sk,DAILY_FATAL_ERROR_CONNECTION:()=>r2,DAILY_FATAL_ERROR_EJECTED:()=>rW,DAILY_FATAL_ERROR_EOL:()=>r0,DAILY_FATAL_ERROR_EXP_ROOM:()=>rK,DAILY_FATAL_ERROR_EXP_TOKEN:()=>rQ,DAILY_FATAL_ERROR_MEETING_FULL:()=>rZ,DAILY_FATAL_ERROR_NBF_ROOM:()=>rY,DAILY_FATAL_ERROR_NBF_TOKEN:()=>rH,DAILY_FATAL_ERROR_NOT_ALLOWED:()=>r1,DAILY_FATAL_ERROR_NO_ROOM:()=>rX,DAILY_RECEIVE_SETTINGS_ALL_PARTICIPANTS_KEY:()=>r$,DAILY_RECEIVE_SETTINGS_BASE_KEY:()=>rJ,DAILY_STATE_ERROR:()=>rO,DAILY_STATE_JOINED:()=>rI,DAILY_STATE_JOINING:()=>rD,DAILY_STATE_LEFT:()=>rL,DAILY_STATE_NEW:()=>rA,DAILY_TRACK_STATE_BLOCKED:()=>rF,DAILY_TRACK_STATE_INTERRUPTED:()=>rV,DAILY_TRACK_STATE_LOADING:()=>rN,DAILY_TRACK_STATE_OFF:()=>rR,DAILY_TRACK_STATE_PLAYABLE:()=>rB,DAILY_TRACK_STATE_SENDABLE:()=>rj,default:()=>aP});var E,x,T={},A={get exports(){return T},set exports(e){T=e}},P="object"==typeof Reflect?Reflect:null,M=P&&"function"==typeof P.apply?P.apply:function(t,i,r){return Function.prototype.apply.call(t,i,r)};x=P&&"function"==typeof P.ownKeys?P.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var D=Number.isNaN||function(t){return t!=t};function I(){I.init.call(this)}A.exports=I,T.once=function(t,i){return new Promise(function(r,s){function n(r){t.removeListener(i,a),s(r)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",n),r([].slice.call(arguments))}z(t,i,a,{once:!0}),"error"!==i&&function(t,i,r){"function"==typeof t.on&&z(t,"error",i,r)}(t,n,{once:!0})})},I.EventEmitter=I,I.prototype._events=void 0,I.prototype._eventsCount=0,I.prototype._maxListeners=void 0;var L=10;function O(t){if("function"!=typeof t)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function F(t){return void 0===t._maxListeners?I.defaultMaxListeners:t._maxListeners}function R(t,i,r,s){var n,a,o,l;if(O(r),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",i,r.listener?r.listener:r),a=t._events),o=a[i]),void 0===o)o=a[i]=r,++t._eventsCount;else if("function"==typeof o?o=a[i]=s?[r,o]:[o,r]:s?o.unshift(r):o.push(r),(n=F(t))>0&&o.length>n&&!o.warned){o.warned=!0;var h=Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(i)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=i,h.count=o.length,l=h,console&&console.warn&&console.warn(l)}return t}function j(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function N(t,i,r){var s={fired:!1,wrapFn:void 0,target:t,type:i,listener:r},n=j.bind(s);return n.listener=r,s.wrapFn=n,n}function V(t,i,r){var s=t._events;if(void 0===s)return[];var n=s[i];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(t){for(var i=Array(t.length),r=0;r<i.length;++r)i[r]=t[r].listener||t[r];return i}(n):q(n,n.length)}function B(t){var i=this._events;if(void 0!==i){var r=i[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function q(t,i){for(var r=Array(i),s=0;s<i;++s)r[s]=t[s];return r}function z(t,i,r,s){if("function"==typeof t.on)s.once?t.once(i,r):t.on(i,r);else{if("function"!=typeof t.addEventListener)throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(i,function n(a){s.once&&t.removeEventListener(i,n),r(a)})}}Object.defineProperty(I,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(t){if("number"!=typeof t||t<0||D(t))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");L=t}}),I.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},I.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||D(t))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},I.prototype.getMaxListeners=function(){return F(this)},I.prototype.emit=function(t){for(var i=[],r=1;r<arguments.length;r++)i.push(arguments[r]);var s="error"===t,n=this._events;if(void 0!==n)s=s&&void 0===n.error;else if(!s)return!1;if(s){if(i.length>0&&(a=i[0]),a instanceof Error)throw a;var a,o=Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=n[t];if(void 0===l)return!1;if("function"==typeof l)M(l,this,i);else{var h=l.length,c=q(l,h);for(r=0;r<h;++r)M(c[r],this,i)}return!0},I.prototype.addListener=function(t,i){return R(this,t,i,!1)},I.prototype.on=I.prototype.addListener,I.prototype.prependListener=function(t,i){return R(this,t,i,!0)},I.prototype.once=function(t,i){return O(i),this.on(t,N(this,t,i)),this},I.prototype.prependOnceListener=function(t,i){return O(i),this.prependListener(t,N(this,t,i)),this},I.prototype.removeListener=function(t,i){var r,s,n,a,o;if(O(i),void 0===(s=this._events)||void 0===(r=s[t]))return this;if(r===i||r.listener===i)0==--this._eventsCount?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||i));else if("function"!=typeof r){for(n=-1,a=r.length-1;a>=0;a--)if(r[a]===i||r[a].listener===i){o=r[a].listener,n=a;break}if(n<0)return this;0===n?r.shift():function(t,i){for(;i+1<t.length;i++)t[i]=t[i+1];t.pop()}(r,n),1===r.length&&(s[t]=r[0]),void 0!==s.removeListener&&this.emit("removeListener",t,o||i)}return this},I.prototype.off=I.prototype.removeListener,I.prototype.removeAllListeners=function(t){var i,r,s;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0==arguments.length){var n,a=Object.keys(r);for(s=0;s<a.length;++s)"removeListener"!==(n=a[s])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(i=r[t]))this.removeListener(t,i);else if(void 0!==i)for(s=i.length-1;s>=0;s--)this.removeListener(t,i[s]);return this},I.prototype.listeners=function(t){return V(this,t,!0)},I.prototype.rawListeners=function(t){return V(this,t,!1)},I.listenerCount=function(t,i){return"function"==typeof t.listenerCount?t.listenerCount(i):B.call(t,i)},I.prototype.listenerCount=B,I.prototype.eventNames=function(){return this._eventsCount>0?x(this._events):[]};var G=Object.prototype.hasOwnProperty;function U(t,i,r){for(r of t.keys())if(J(r,i))return r}function J(t,i){var r,s,n;if(t===i)return!0;if(t&&i&&(r=t.constructor)===i.constructor){if(r===Date)return t.getTime()===i.getTime();if(r===RegExp)return t.toString()===i.toString();if(r===Array){if((s=t.length)===i.length)for(;s--&&J(t[s],i[s]););return -1===s}if(r===Set){if(t.size!==i.size)return!1;for(s of t)if((n=s)&&"object"==typeof n&&!(n=U(i,n))||!i.has(n))return!1;return!0}if(r===Map){if(t.size!==i.size)return!1;for(s of t)if((n=s[0])&&"object"==typeof n&&!(n=U(i,n))||!J(s[1],i.get(n)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),i=new Uint8Array(i);else if(r===DataView){if((s=t.byteLength)===i.byteLength)for(;s--&&t.getInt8(s)===i.getInt8(s););return -1===s}if(ArrayBuffer.isView(t)){if((s=t.byteLength)===i.byteLength)for(;s--&&t[s]===i[s];);return -1===s}if(!r||"object"==typeof t){for(r in s=0,t)if(G.call(t,r)&&++s&&!G.call(i,r)||!(r in i)||!J(t[r],i[r]))return!1;return Object.keys(i).length===s}}return t!=t&&i!=i}let $={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},W={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Y={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},H={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},K={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Q{static getFirstMatch(t,i){let r=i.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,i){let r=i.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,i,r){if(t.test(i))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){let i=t.split(".").splice(0,2).map(t=>parseInt(t,10)||0);if(i.push(0),10===i[0])switch(i[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){let i=t.split(".").splice(0,2).map(t=>parseInt(t,10)||0);if(i.push(0),!(1===i[0]&&i[1]<5))return 1===i[0]&&i[1]<6?"Cupcake":1===i[0]&&i[1]>=6?"Donut":2===i[0]&&i[1]<2?"Eclair":2===i[0]&&2===i[1]?"Froyo":2===i[0]&&i[1]>2?"Gingerbread":3===i[0]?"Honeycomb":4===i[0]&&i[1]<1?"Ice Cream Sandwich":4===i[0]&&i[1]<4?"Jelly Bean":4===i[0]&&i[1]>=4?"KitKat":5===i[0]?"Lollipop":6===i[0]?"Marshmallow":7===i[0]?"Nougat":8===i[0]?"Oreo":9===i[0]?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,i,r=!1){let s=Q.getVersionPrecision(t),n=Q.getVersionPrecision(i),a=Math.max(s,n),o=0,l=Q.map([t,i],t=>{let i=a-Q.getVersionPrecision(t),r=t+Array(i+1).join(".0");return Q.map(r.split("."),t=>Array(20-t.length).join("0")+t).reverse()});for(r&&(o=a-Math.min(s,n)),a-=1;a>=o;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===o)return 0;a-=1}else if(l[0][a]<l[1][a])return -1}}static map(t,i){let r,s=[];if(Array.prototype.map)return Array.prototype.map.call(t,i);for(r=0;r<t.length;r+=1)s.push(i(t[r]));return s}static find(t,i){let r,s;if(Array.prototype.find)return Array.prototype.find.call(t,i);for(r=0,s=t.length;r<s;r+=1){let s=t[r];if(i(s,r))return s}}static assign(t,...i){let r,s,n=t;if(Object.assign)return Object.assign(t,...i);for(r=0,s=i.length;r<s;r+=1){let t=i[r];"object"==typeof t&&null!==t&&Object.keys(t).forEach(i=>{n[i]=t[i]})}return t}static getBrowserAlias(t){return $[t]}static getBrowserTypeByAlias(t){return W[t]||""}}let X=/version\/(\d+(\.?_?\d+)+)/i,Z=[{test:[/googlebot/i],describe(t){let i={name:"Googlebot"},r=Q.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/opera/i],describe(t){let i={name:"Opera"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/opr\/|opios/i],describe(t){let i={name:"Opera"},r=Q.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/SamsungBrowser/i],describe(t){let i={name:"Samsung Internet for Android"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/Whale/i],describe(t){let i={name:"NAVER Whale Browser"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/MZBrowser/i],describe(t){let i={name:"MZ Browser"},r=Q.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/focus/i],describe(t){let i={name:"Focus"},r=Q.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/swing/i],describe(t){let i={name:"Swing"},r=Q.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/coast/i],describe(t){let i={name:"Opera Coast"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){let i={name:"Opera Touch"},r=Q.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/yabrowser/i],describe(t){let i={name:"Yandex Browser"},r=Q.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/ucbrowser/i],describe(t){let i={name:"UC Browser"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/Maxthon|mxios/i],describe(t){let i={name:"Maxthon"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/epiphany/i],describe(t){let i={name:"Epiphany"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/puffin/i],describe(t){let i={name:"Puffin"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/sleipnir/i],describe(t){let i={name:"Sleipnir"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/k-meleon/i],describe(t){let i={name:"K-Meleon"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/micromessenger/i],describe(t){let i={name:"WeChat"},r=Q.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/qqbrowser/i],describe(t){let i={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=Q.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/msie|trident/i],describe(t){let i={name:"Internet Explorer"},r=Q.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/\sedg\//i],describe(t){let i={name:"Microsoft Edge"},r=Q.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/edg([ea]|ios)/i],describe(t){let i={name:"Microsoft Edge"},r=Q.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/vivaldi/i],describe(t){let i={name:"Vivaldi"},r=Q.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/seamonkey/i],describe(t){let i={name:"SeaMonkey"},r=Q.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/sailfish/i],describe(t){let i={name:"Sailfish"},r=Q.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(i.version=r),i}},{test:[/silk/i],describe(t){let i={name:"Amazon Silk"},r=Q.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/phantom/i],describe(t){let i={name:"PhantomJS"},r=Q.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/slimerjs/i],describe(t){let i={name:"SlimerJS"},r=Q.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){let i={name:"BlackBerry"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/(web|hpw)[o0]s/i],describe(t){let i={name:"WebOS Browser"},r=Q.getFirstMatch(X,t)||Q.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/bada/i],describe(t){let i={name:"Bada"},r=Q.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/tizen/i],describe(t){let i={name:"Tizen"},r=Q.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/qupzilla/i],describe(t){let i={name:"QupZilla"},r=Q.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/firefox|iceweasel|fxios/i],describe(t){let i={name:"Firefox"},r=Q.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/electron/i],describe(t){let i={name:"Electron"},r=Q.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/MiuiBrowser/i],describe(t){let i={name:"Miui"},r=Q.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/chromium/i],describe(t){let i={name:"Chromium"},r=Q.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/chrome|crios|crmo/i],describe(t){let i={name:"Chrome"},r=Q.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/GSA/i],describe(t){let i={name:"Google Search"},r=Q.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test(t){let i=!t.test(/like android/i),r=t.test(/android/i);return i&&r},describe(t){let i={name:"Android Browser"},r=Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/playstation 4/i],describe(t){let i={name:"PlayStation 4"},r=Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/safari|applewebkit/i],describe(t){let i={name:"Safari"},r=Q.getFirstMatch(X,t);return r&&(i.version=r),i}},{test:[/.*/i],describe(t){let i=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Q.getFirstMatch(i,t),version:Q.getSecondMatch(i,t)}}}];var tt=[{test:[/Roku\/DVP/],describe(t){let i=Q.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:H.Roku,version:i}}},{test:[/windows phone/i],describe(t){let i=Q.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:H.WindowsPhone,version:i}}},{test:[/windows /i],describe(t){let i=Q.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=Q.getWindowsVersionName(i);return{name:H.Windows,version:i,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){let i={name:H.iOS},r=Q.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(i.version=r),i}},{test:[/macintosh/i],describe(t){let i=Q.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=Q.getMacOSVersionName(i),s={name:H.MacOS,version:i};return r&&(s.versionName=r),s}},{test:[/(ipod|iphone|ipad)/i],describe(t){let i=Q.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:H.iOS,version:i}}},{test(t){let i=!t.test(/like android/i),r=t.test(/android/i);return i&&r},describe(t){let i=Q.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=Q.getAndroidVersionName(i),s={name:H.Android,version:i};return r&&(s.versionName=r),s}},{test:[/(web|hpw)[o0]s/i],describe(t){let i=Q.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:H.WebOS};return i&&i.length&&(r.version=i),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){let i=Q.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Q.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Q.getFirstMatch(/\bbb(\d+)/i,t);return{name:H.BlackBerry,version:i}}},{test:[/bada/i],describe(t){let i=Q.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:H.Bada,version:i}}},{test:[/tizen/i],describe(t){let i=Q.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:H.Tizen,version:i}}},{test:[/linux/i],describe:()=>({name:H.Linux})},{test:[/CrOS/],describe:()=>({name:H.ChromeOS})},{test:[/PlayStation 4/],describe(t){let i=Q.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:H.PlayStation4,version:i}}}],te=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(t){let i=Q.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:Y.mobile,vendor:"Huawei"};return i&&(r.model=i),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Y.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Y.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:Y.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Y.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Y.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Y.tablet})},{test(t){let i=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return i&&!r},describe(t){let i=Q.getFirstMatch(/(ipod|iphone)/i,t);return{type:Y.mobile,vendor:"Apple",model:i}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Y.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Y.mobile})},{test:t=>"blackberry"===t.getBrowserName(!0),describe:()=>({type:Y.mobile,vendor:"BlackBerry"})},{test:t=>"bada"===t.getBrowserName(!0),describe:()=>({type:Y.mobile})},{test:t=>"windows phone"===t.getBrowserName(),describe:()=>({type:Y.mobile,vendor:"Microsoft"})},{test(t){let i=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&i>=3},describe:()=>({type:Y.tablet})},{test:t=>"android"===t.getOSName(!0),describe:()=>({type:Y.mobile})},{test:t=>"macos"===t.getOSName(!0),describe:()=>({type:Y.desktop,vendor:"Apple"})},{test:t=>"windows"===t.getOSName(!0),describe:()=>({type:Y.desktop})},{test:t=>"linux"===t.getOSName(!0),describe:()=>({type:Y.desktop})},{test:t=>"playstation 4"===t.getOSName(!0),describe:()=>({type:Y.tv})},{test:t=>"roku"===t.getOSName(!0),describe:()=>({type:Y.tv})}],ti=[{test:t=>"microsoft edge"===t.getBrowserName(!0),describe(t){if(/\sedg\//i.test(t))return{name:K.Blink};let i=Q.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:K.EdgeHTML,version:i}}},{test:[/trident/i],describe(t){let i={name:K.Trident},r=Q.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:t=>t.test(/presto/i),describe(t){let i={name:K.Presto},r=Q.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test(t){let i=t.test(/gecko/i),r=t.test(/like gecko/i);return i&&!r},describe(t){let i={name:K.Gecko},r=Q.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:K.Blink})},{test:[/(apple)?webkit/i],describe(t){let i={name:K.WebKit},r=Q.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(i.version=r),i}}];class tr{constructor(t,i=!1){if(null==t||""===t)throw Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==i&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};let t=Q.find(Z,t=>{if("function"==typeof t.test)return t.test(this);if(t.test instanceof Array)return t.test.some(t=>this.test(t));throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};let t=Q.find(tt,t=>{if("function"==typeof t.test)return t.test(this);if(t.test instanceof Array)return t.test.some(t=>this.test(t));throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){let{name:i}=this.getOS();return t?String(i).toLowerCase()||"":i||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){let{type:i}=this.getPlatform();return t?String(i).toLowerCase()||"":i||""}parsePlatform(){this.parsedResult.platform={};let t=Q.find(te,t=>{if("function"==typeof t.test)return t.test(this);if(t.test instanceof Array)return t.test.some(t=>this.test(t));throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};let t=Q.find(ti,t=>{if("function"==typeof t.test)return t.test(this);if(t.test instanceof Array)return t.test.some(t=>this.test(t));throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Q.assign({},this.parsedResult)}satisfies(t){let i={},r=0,s={},n=0;if(Object.keys(t).forEach(a=>{let o=t[a];"string"==typeof o?(s[a]=o,n+=1):"object"==typeof o&&(i[a]=o,r+=1)}),r>0){let t=Object.keys(i),r=Q.find(t,t=>this.isOS(t));if(r){let t=this.satisfies(i[r]);if(void 0!==t)return t}let s=Q.find(t,t=>this.isPlatform(t));if(s){let t=this.satisfies(i[s]);if(void 0!==t)return t}}if(n>0){let t=Object.keys(s),i=Q.find(t,t=>this.isBrowser(t,!0));if(void 0!==i)return this.compareVersion(s[i])}}isBrowser(t,i=!1){let r=this.getBrowserName().toLowerCase(),s=t.toLowerCase(),n=Q.getBrowserTypeByAlias(s);return i&&n&&(s=n.toLowerCase()),s===r}compareVersion(t){let i=[0],r=t,s=!1,n=this.getBrowserVersion();if("string"==typeof n)return">"===t[0]||"<"===t[0]?(r=t.substr(1),"="===t[1]?(s=!0,r=t.substr(2)):i=[],">"===t[0]?i.push(1):i.push(-1)):"="===t[0]?r=t.substr(1):"~"===t[0]&&(s=!0,r=t.substr(1)),i.indexOf(Q.compareVersions(n,r,s))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,i=!1){return this.isBrowser(t,i)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(t=>this.is(t))}}class ts{static getParser(t,i=!1){if("string"!=typeof t)throw Error("UserAgent should be a string");return new tr(t,i)}static parse(t){return new tr(t).getResult()}static get BROWSER_MAP(){return W}static get ENGINE_MAP(){return K}static get OS_MAP(){return H}static get PLATFORMS_MAP(){return Y}}function tn(){return Date.now()+Math.random().toString()}function ta(){throw Error("Method must be implemented in subclass")}function to(t,i){return null!=i&&i.proxyUrl?i.proxyUrl+("/"===i.proxyUrl.slice(-1)?"":"/")+t.substring(8):t}function tl(t){return null!=t&&t.callObjectBundleUrlOverride?t.callObjectBundleUrlOverride:to("https://c.daily.co/call-machine/versioned/".concat("0.75.2","/static/call-machine-object-bundle.js"),t)}function th(t){try{new URL(t)}catch(t){return!1}return!0}let tc=Object.prototype.toString;function tu(t){switch(tc.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return tk(t,Error)}}function tp(t,i){return tc.call(t)===`[object ${i}]`}function td(t){return tp(t,"ErrorEvent")}function tf(t){return tp(t,"DOMError")}function tm(t){return tp(t,"String")}function tg(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function ty(t){return null===t||tg(t)||"object"!=typeof t&&"function"!=typeof t}function tv(t){return tp(t,"Object")}function tb(t){return"undefined"!=typeof Event&&tk(t,Event)}function t_(t){return!!(t&&t.then&&"function"==typeof t.then)}function tk(t,i){try{return t instanceof i}catch(t){return!1}}function tS(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}function tw(t,i=0){return"string"!=typeof t||0===i||t.length<=i?t:`${t.slice(0,i)}...`}function tC(t,i){if(!Array.isArray(t))return"";let r=[];for(let i=0;i<t.length;i++){let s=t[i];try{tS(s)?r.push("[VueViewModel]"):r.push(String(s))}catch(t){r.push("[value cannot be serialized]")}}return r.join(i)}function tE(t,i,r=!1){return!!tm(t)&&(tp(i,"RegExp")?i.test(t):!!tm(i)&&(r?t===i:t.includes(i)))}function tx(t,i=[],r=!1){return i.some(i=>tE(t,i,r))}function tT(t,i,r=250,s,n,a,o){var l,h;if(!(a.exception&&a.exception.values&&o&&tk(o.originalException,Error)))return;let c=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;c&&(a.exception.values=(l=tA(t,i,n,o.originalException,s,a.exception.values,c,0),h=r,l.map(t=>(t.value&&(t.value=tw(t.value,h)),t))))}function tA(t,i,r,s,n,a,o,l){if(a.length>=r+1)return a;let h=[...a];if(tk(s[n],Error)){tP(o,l);let a=t(i,s[n]),c=h.length;tM(a,n,c,l),h=tA(t,i,r,s[n],n,[a,...h],a,c)}return Array.isArray(s.errors)&&s.errors.forEach((s,a)=>{if(tk(s,Error)){tP(o,l);let c=t(i,s),u=h.length;tM(c,`errors[${a}]`,u,l),h=tA(t,i,r,s,n,[c,...h],c,u)}}),h}function tP(t,i){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:i}}function tM(t,i,r,s){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:i,exception_id:r,parent_id:s}}function tD(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}let tI="8.33.1",tL=globalThis;function tO(t,i,r){let s=r||tL,n=s.__SENTRY__=s.__SENTRY__||{},a=n[tI]=n[tI]||{};return a[t]||(a[t]=i())}let tF=tL;function tR(t,i={}){if(!t)return"<unknown>";try{let r,s=t,n=5,a=[],o=0,l=0,h=" > ",c=h.length,u=Array.isArray(i)?i:i.keyAttrs,p=!Array.isArray(i)&&i.maxStringLength||80;for(;s&&o++<n&&(r=tj(s,u),!("html"===r||o>1&&l+a.length*c+r.length>=p));)a.push(r),l+=r.length,s=s.parentNode;return a.reverse().join(h)}catch(t){return"<unknown>"}}function tj(t,i){let r=t,s=[];if(!r||!r.tagName)return"";if(tF.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}s.push(r.tagName.toLowerCase());let n=i&&i.length?i.filter(t=>r.getAttribute(t)).map(t=>[t,r.getAttribute(t)]):null;if(n&&n.length)n.forEach(t=>{s.push(`[${t[0]}="${t[1]}"]`)});else{r.id&&s.push(`#${r.id}`);let t=r.className;if(t&&tm(t))for(let i of t.split(/\s+/))s.push(`.${i}`)}for(let t of["aria-label","type","name","title","alt"]){let i=r.getAttribute(t);i&&s.push(`[${t}="${i}"]`)}return s.join("")}let tN=!1,tV=["debug","info","warn","error","log","assert","trace"],tB={};function tq(t){if(!("console"in tL))return t();let i=tL.console,r={},s=Object.keys(tB);s.forEach(t=>{let s=tB[t];r[t]=i[t],i[t]=s});try{return t()}finally{s.forEach(t=>{i[t]=r[t]})}}let tz=tO("logger",function(){let t=!1,i={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return tN?tV.forEach(r=>{i[r]=(...i)=>{t&&tq(()=>{tL.console[r](`Sentry Logger [${r}]:`,...i)})}}):tV.forEach(t=>{i[t]=()=>{}}),i}),tG=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function tU(t,i=!1){let{host:r,path:s,pass:n,port:a,projectId:o,protocol:l,publicKey:h}=t;return`${l}://${h}${i&&n?`:${n}`:""}@${r}${a?`:${a}`:""}/${s?`${s}/`:s}${o}`}function tJ(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function t$(t){let i="string"==typeof t?function(t){let i=tG.exec(t);if(!i)return void tq(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});let[r,s,n="",a="",o="",l=""]=i.slice(1),h="",c=l,u=c.split("/");if(u.length>1&&(h=u.slice(0,-1).join("/"),c=u.pop()),c){let t=c.match(/^\d+/);t&&(c=t[0])}return tJ({host:a,pass:n,path:h,projectId:c,port:o,protocol:r,publicKey:s})}(t):tJ(t);if(i&&function(t){if(!tN)return!0;let{port:i,projectId:r,protocol:s}=t;return!(["protocol","publicKey","host","projectId"].find(i=>!t[i]&&(tz.error(`Invalid Sentry Dsn: ${i} missing`),!0))||(r.match(/^\d+$/)?!function(t){return"http"===t||"https"===t}(s)?(tz.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):i&&isNaN(parseInt(i,10))&&(tz.error(`Invalid Sentry Dsn: Invalid port ${i}`),1):(tz.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),1)))}(i))return i}class tW extends Error{constructor(t,i="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=i}}function tY(t,i,r){if(!(i in t))return;let s=t[i],n=r(s);"function"==typeof n&&tK(n,s),t[i]=n}function tH(t,i,r){try{Object.defineProperty(t,i,{value:r,writable:!0,configurable:!0})}catch(r){tN&&tz.log(`Failed to add non-enumerable property "${i}" to object`,t)}}function tK(t,i){try{let r=i.prototype||{};t.prototype=i.prototype=r,tH(t,"__sentry_original__",i)}catch(t){}}function tQ(t){return t.__sentry_original__}function tX(t){if(tu(t))return{message:t.message,name:t.name,stack:t.stack,...t0(t)};if(tb(t)){let i={type:t.type,target:tZ(t.target),currentTarget:tZ(t.currentTarget),...t0(t)};return"undefined"!=typeof CustomEvent&&tk(t,CustomEvent)&&(i.detail=t.detail),i}return t}function tZ(t){var i;try{return i=t,"undefined"!=typeof Element&&tk(i,Element)?tR(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function t0(t){if("object"==typeof t&&null!==t){let i={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r]);return i}return{}}function t1(t){return t2(t,new Map)}function t2(t,i){if(function(t){if(!tv(t))return!1;try{let i=Object.getPrototypeOf(t).constructor.name;return!i||"Object"===i}catch(t){return!0}}(t)){let r=i.get(t);if(void 0!==r)return r;let s={};for(let r of(i.set(t,s),Object.getOwnPropertyNames(t)))void 0!==t[r]&&(s[r]=t2(t[r],i));return s}if(Array.isArray(t)){let r=i.get(t);if(void 0!==r)return r;let s=[];return i.set(t,s),t.forEach(t=>{s.push(t2(t,i))}),s}return t}let t3="?",t5=/\(error: (.*)\)/,t4=/captureMessage|captureException/;function t6(t){return t[t.length-1]||{}}let t7="<anonymous>";function t9(t){try{return t&&"function"==typeof t&&t.name||t7}catch(t){return t7}}function t8(t){let i=t.exception;if(i){let t=[];try{return i.values.forEach(i=>{i.stacktrace.frames&&t.push(...i.stacktrace.frames)}),t}catch(t){return}}}let et={},ee={};function ei(t,i){et[t]=et[t]||[],et[t].push(i)}function er(t,i){ee[t]||(i(),ee[t]=!0)}function es(t,i){let r=t&&et[t];if(r)for(let s of r)try{s(i)}catch(i){tN&&tz.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${t9(s)}
Error:`,i)}}function en(){"console"in tL&&tV.forEach(function(t){t in tL.console&&tY(tL.console,t,function(i){return tB[t]=i,function(...i){es("console",{args:i,level:t});let r=tB[t];r&&r.apply(tL.console,i)}})})}let ea=tL;function eo(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function el(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in ea))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}())return!1;if(eo(ea.fetch))return!0;let t=!1,i=ea.document;if(i&&"function"==typeof i.createElement)try{let r=i.createElement("iframe");r.hidden=!0,i.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=eo(r.contentWindow.fetch)),i.head.removeChild(r)}catch(t){tN&&tz.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}function eh(){return Date.now()/1e3}let ec=function(){let{performance:t}=tL;if(!t||!t.now)return eh;let i=Date.now()-t.now(),r=null==t.timeOrigin?i:t.timeOrigin;return()=>(r+t.now())/1e3}();function eu(t,i){let r="fetch";ei(r,t),er(r,()=>(function(t,i=!1){(!i||el())&&tY(tL,"fetch",function(i){return function(...r){let{method:s,url:n}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){let[i,r]=t;return{url:ed(i),method:ep(r,"method")?String(r.method).toUpperCase():"GET"}}let i=t[0];return{url:ed(i),method:ep(i,"method")?String(i.method).toUpperCase():"GET"}}(r),a={args:r,fetchData:{method:s,url:n},startTimestamp:1e3*ec()};t||es("fetch",{...a});let o=Error().stack;return i.apply(tL,r).then(async i=>(t?t(i):es("fetch",{...a,endTimestamp:1e3*ec(),response:i}),i),t=>{throw es("fetch",{...a,endTimestamp:1e3*ec(),error:t}),tu(t)&&void 0===t.stack&&(t.stack=o,tH(t,"framesToPop",1)),t})}})})(void 0,i))}function ep(t,i){return!!t&&"object"==typeof t&&!!t[i]}function ed(t){return"string"==typeof t?t:t?ep(t,"url")?t.url:t.toString?t.toString():"":""}(()=>{let{performance:t}=tL;if(!t||!t.now)return;let i=36e5,r=t.now(),s=Date.now(),n=t.timeOrigin?Math.abs(t.timeOrigin+r-s):i,a=n<i,o=t.timing&&t.timing.navigationStart,l="number"==typeof o?Math.abs(o+r-s):i;(a||l<i)&&n<=l&&t.timeOrigin})();let ef=null;function em(){ef=tL.onerror,tL.onerror=function(t,i,r,s,n){return es("error",{column:s,error:n,line:r,msg:t,url:i}),!(!ef||ef.__SENTRY_LOADER__)&&ef.apply(this,arguments)},tL.onerror.__SENTRY_INSTRUMENTED__=!0}let eg=null;function ey(){eg=tL.onunhandledrejection,tL.onunhandledrejection=function(t){return es("unhandledrejection",t),!(eg&&!eg.__SENTRY_LOADER__)||eg.apply(this,arguments)},tL.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function ev(){let t=tL,i=t.crypto||t.msCrypto,r=()=>16*Math.random();try{if(i&&i.randomUUID)return i.randomUUID().replace(/-/g,"");i&&i.getRandomValues&&(r=()=>{let t=new Uint8Array(1);return i.getRandomValues(t),t[0]})}catch(t){}return"10000000100040008000100000000000".replace(/[018]/g,t=>(t^(15&r())>>t/4).toString(16))}function eb(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function e_(t){let{message:i,event_id:r}=t;if(i)return i;let s=eb(t);return s?s.type&&s.value?`${s.type}: ${s.value}`:s.type||s.value||r||"<unknown>":r||"<unknown>"}function ek(t,i,r){let s=t.exception=t.exception||{},n=s.values=s.values||[],a=n[0]=n[0]||{};a.value||(a.value=i||""),a.type||(a.type=r||"Error")}function eS(t,i){let r=eb(t);if(!r)return;let s=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...s,...i},i&&"data"in i){let t={...s&&s.data,...i.data};r.mechanism.data=t}}function ew(t){if(t&&t.__sentry_captured__)return!0;try{tH(t,"__sentry_captured__",!0)}catch(t){}return!1}function eC(t,i=100,r=1/0){try{return ex("",t,i,r)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function eE(t,i=3,r=102400){let s=eC(t,i);return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(s))>r?eE(t,i-1,r):s}function ex(t,i,r=1/0,s=1/0,n=function(){let t="function"==typeof WeakSet,i=t?new WeakSet:[];return[function(r){if(t)return!!i.has(r)||(i.add(r),!1);for(let t=0;t<i.length;t++)if(i[t]===r)return!0;return i.push(r),!1},function(r){if(t)i.delete(r);else for(let t=0;t<i.length;t++)if(i[t]===r){i.splice(t,1);break}}]}()){let[a,o]=n;if(null==i||["boolean","string"].includes(typeof i)||"number"==typeof i&&Number.isFinite(i))return i;let l=function(t,i){var r;try{if("domain"===t&&i&&"object"==typeof i&&i._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&i===global)return"[Global]";if("undefined"!=typeof window&&i===window)return"[Window]";if("undefined"!=typeof document&&i===document)return"[Document]";if(tS(i))return"[VueViewModel]";if(tv(r=i)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r)return"[SyntheticEvent]";if("number"==typeof i&&!Number.isFinite(i))return`[${i}]`;if("function"==typeof i)return`[Function: ${t9(i)}]`;if("symbol"==typeof i)return`[${String(i)}]`;if("bigint"==typeof i)return`[BigInt: ${String(i)}]`;let s=function(t){let i=Object.getPrototypeOf(t);return i?i.constructor.name:"null prototype"}(i);return/^HTML(\w*)Element$/.test(s)?`[HTMLElement: ${s}]`:`[object ${s}]`}catch(t){return`**non-serializable** (${t})`}}(t,i);if(!l.startsWith("[object "))return l;if(i.__sentry_skip_normalization__)return i;let h="number"==typeof i.__sentry_override_normalization_depth__?i.__sentry_override_normalization_depth__:r;if(0===h)return l.replace("object ","");if(a(i))return"[Circular ~]";let c=i;if(c&&"function"==typeof c.toJSON)try{return ex("",c.toJSON(),h-1,s,n)}catch(t){}let u=Array.isArray(i)?[]:{},p=0,d=tX(i);for(let t in d){if(!Object.prototype.hasOwnProperty.call(d,t))continue;if(p>=s){u[t]="[MaxProperties ~]";break}let i=d[t];u[t]=ex(t,i,h-1,s,n),p++}return o(i),u}function eT(t){return new eP(i=>{i(t)})}function eA(t){return new eP((i,r)=>{r(t)})}!function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(E||(E={}));class eP{constructor(t){eP.prototype.__init.call(this),eP.prototype.__init2.call(this),eP.prototype.__init3.call(this),eP.prototype.__init4.call(this),this._state=E.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,i){return new eP((r,s)=>{this._handlers.push([!1,i=>{if(t)try{r(t(i))}catch(t){s(t)}else r(i)},t=>{if(i)try{r(i(t))}catch(t){s(t)}else s(t)}]),this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(t){return new eP((i,r)=>{let s,n;return this.then(i=>{n=!1,s=i,t&&t()},i=>{n=!0,s=i,t&&t()}).then(()=>{n?r(s):i(s)})})}__init(){this._resolve=t=>{this._setResult(E.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(E.REJECTED,t)}}__init3(){this._setResult=(t,i)=>{this._state===E.PENDING&&(t_(i)?i.then(this._resolve,this._reject):(this._state=t,this._value=i,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===E.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(t=>{t[0]||(this._state===E.RESOLVED&&t[1](this._value),this._state===E.REJECTED&&t[2](this._value),t[0]=!0)})}}}function eM(t){let i=[];function r(t){return i.splice(i.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:i,add:function(s){if(!(void 0===t||i.length<t))return eA(new tW("Not adding Promise because buffer limit was reached."));let n=s();return -1===i.indexOf(n)&&i.push(n),n.then(()=>r(n)).then(null,()=>r(n).then(null,()=>{})),n},drain:function(t){return new eP((r,s)=>{let n=i.length;if(!n)return r(!0);let a=setTimeout(()=>{t&&t>0&&r(!1)},t);i.forEach(t=>{eT(t).then(()=>{--n||(clearTimeout(a),r(!0))},s)})})}}}function eD(t){if(!t)return{};let i=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!i)return{};let r=i[6]||"",s=i[8]||"";return{host:i[4],path:i[5],protocol:i[2],search:r,hash:s,relative:i[5]+r+s}}let eI=["fatal","error","warning","log","info","debug"];function eL(t){return"warn"===t?"warning":eI.includes(t)?t:"log"}let eO=/^sentry-/;function eF(t){let i=function(t){if(t&&(tm(t)||Array.isArray(t)))return Array.isArray(t)?t.reduce((t,i)=>(Object.entries(eR(i)).forEach(([i,r])=>{t[i]=r}),t),{}):eR(t)}(t);if(!i)return;let r=Object.entries(i).reduce((t,[i,r])=>(i.match(eO)&&(t[i.slice(7)]=r),t),{});return Object.keys(r).length>0?r:void 0}function eR(t){return t.split(",").map(t=>t.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((t,[i,r])=>(i&&r&&(t[i]=r),t),{})}function ej(t,i=[]){return[t,i]}function eN(t,i){let[r,s]=t;return[r,[...s,i]]}function eV(t,i){for(let r of t[1])if(i(r,r[0].type))return!0;return!1}function eB(t){return tL.__SENTRY__&&tL.__SENTRY__.encodePolyfill?tL.__SENTRY__.encodePolyfill(t):(new TextEncoder).encode(t)}function eq(t){let[i,r]=t,s=JSON.stringify(i);function n(t){"string"==typeof s?s="string"==typeof t?s+t:[eB(s),t]:s.push("string"==typeof t?eB(t):t)}for(let t of r){let[i,r]=t;if(n(`
${JSON.stringify(i)}
`),"string"==typeof r||r instanceof Uint8Array)n(r);else{let t;try{t=JSON.stringify(r)}catch(i){t=JSON.stringify(eC(r))}n(t)}}return"string"==typeof s?s:function(t){let i=new Uint8Array(t.reduce((t,i)=>t+i.length,0)),r=0;for(let s of t)i.set(s,r),r+=s.length;return i}(s)}function ez(t){let i="string"==typeof t.data?eB(t.data):t.data;return[t1({type:"attachment",length:i.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),i]}let eG={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function eU(t){return eG[t]}function eJ(t){if(!t||!t.sdk)return;let{name:i,version:r}=t.sdk;return{name:i,version:r}}function e$(t,{statusCode:i,headers:r},s=Date.now()){let n={...t},a=r&&r["x-sentry-rate-limits"],o=r&&r["retry-after"];if(a)for(let t of a.trim().split(",")){let[i,r,,,a]=t.split(":",5),o=parseInt(i,10),l=1e3*(isNaN(o)?60:o);if(r)for(let t of r.split(";"))"metric_bucket"===t&&a&&!a.split(";").includes("custom")||(n[t]=s+l);else n.all=s+l}else o?n.all=s+function(t,i=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return 1e3*r;let s=Date.parse(`${t}`);return isNaN(s)?6e4:s-i}(o,s):429===i&&(n.all=s+6e4);return n}function eW(){return{traceId:ev(),spanId:ev().substring(16)}}let eY=tL,eH=!1;function eK(){return eQ(tL),tL}function eQ(t){let i=t.__SENTRY__=t.__SENTRY__||{};return i.version=i.version||tI,i[tI]=i[tI]||{}}function eX(t,i={}){if(i.user&&(!t.ipAddress&&i.user.ip_address&&(t.ipAddress=i.user.ip_address),t.did||i.did||(t.did=i.user.id||i.user.email||i.user.username)),t.timestamp=i.timestamp||ec(),i.abnormal_mechanism&&(t.abnormal_mechanism=i.abnormal_mechanism),i.ignoreDuration&&(t.ignoreDuration=i.ignoreDuration),i.sid&&(t.sid=32===i.sid.length?i.sid:ev()),void 0!==i.init&&(t.init=i.init),!t.did&&i.did&&(t.did=`${i.did}`),"number"==typeof i.started&&(t.started=i.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof i.duration)t.duration=i.duration;else{let i=t.timestamp-t.started;t.duration=i>=0?i:0}i.release&&(t.release=i.release),i.environment&&(t.environment=i.environment),!t.ipAddress&&i.ipAddress&&(t.ipAddress=i.ipAddress),!t.userAgent&&i.userAgent&&(t.userAgent=i.userAgent),"number"==typeof i.errors&&(t.errors=i.errors),i.status&&(t.status=i.status)}let eZ="_sentrySpan";function e0(t,i){i?tH(t,eZ,i):delete t[eZ]}function e1(t){return t[eZ]}class e2{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=eW()}clone(){let t=new e2;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,e0(t,e1(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&eX(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,i){return this._tags={...this._tags,[t]:i},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,i){return this._extra={...this._extra,[t]:i},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,i){return null===i?delete this._contexts[t]:this._contexts[t]=i,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let i="function"==typeof t?t(this):t,[r,s]=i instanceof e3?[i.getScopeData(),i.getRequestSession()]:tv(i)?[t,t.requestSession]:[],{tags:n,extra:a,user:o,contexts:l,level:h,fingerprint:c=[],propagationContext:u}=r||{};return this._tags={...this._tags,...n},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},o&&Object.keys(o).length&&(this._user=o),h&&(this._level=h),c.length&&(this._fingerprint=c),u&&(this._propagationContext=u),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,e0(this,void 0),this._attachments=[],this._propagationContext=eW(),this._notifyScopeListeners(),this}addBreadcrumb(t,i){let r="number"==typeof i?i:100;if(r<=0)return this;let s={timestamp:eh(),...t},n=this._breadcrumbs;return n.push(s),this._breadcrumbs=n.length>r?n.slice(-r):n,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:e1(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,i){let r=i&&i.event_id?i.event_id:ev();if(!this._client)return tz.warn("No client configured on scope - will not capture exception!"),r;let s=Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...i,event_id:r},this),r}captureMessage(t,i,r){let s=r&&r.event_id?r.event_id:ev();if(!this._client)return tz.warn("No client configured on scope - will not capture message!"),s;let n=Error(t);return this._client.captureMessage(t,i,{originalException:t,syntheticException:n,...r,event_id:s},this),s}captureEvent(t,i){let r=i&&i.event_id?i.event_id:ev();return this._client?this._client.captureEvent(t,{...i,event_id:r},this):tz.warn("No client configured on scope - will not capture event!"),r}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}let e3=e2;class e5{constructor(t,i){let r,s;r=t||new e3,s=i||new e3,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){let i,r=this._pushScope();try{i=t(r)}catch(t){throw this._popScope(),t}return t_(i)?i.then(t=>(this._popScope(),t),t=>{throw this._popScope(),t}):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function e4(){let t=eQ(eK());return t.stack=t.stack||new e5(tO("defaultCurrentScope",()=>new e3),tO("defaultIsolationScope",()=>new e3))}function e6(t){return e4().withScope(t)}function e7(t,i){let r=e4();return r.withScope(()=>(r.getStackTop().scope=t,i(t)))}function e9(t){return e4().withScope(()=>t(e4().getIsolationScope()))}function e8(t){let i=eQ(t);return i.acs?i.acs:{withIsolationScope:e9,withScope:e6,withSetScope:e7,withSetIsolationScope:(t,i)=>e9(i),getCurrentScope:()=>e4().getScope(),getIsolationScope:()=>e4().getIsolationScope()}}function it(){return e8(eK()).getCurrentScope()}function ie(){return e8(eK()).getIsolationScope()}function ii(){return it().getClient()}function ir(t){let i=t._sentryMetrics;if(!i)return;let r={};for(let[,[t,s]]of i)(r[t]||(r[t]=[])).push(t1(s));return r}function is(t){let{spanId:i,traceId:r}=t.spanContext(),{parent_span_id:s}=il(t);return t1({parent_span_id:s,span_id:i,trace_id:r})}function ia(t){return"number"==typeof t?io(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?io(t.getTime()):ec()}function io(t){return t>0x2540be3ff?t/1e3:t}function il(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();try{let{spanId:i,traceId:r}=t.spanContext();if(function(t){let i=t;return!!(i.attributes&&i.startTime&&i.name&&i.endTime&&i.status)}(t)){let{attributes:s,startTime:n,name:a,endTime:o,parentSpanId:l,status:h}=t;return t1({span_id:i,trace_id:r,data:s,description:a,parent_span_id:l,start_timestamp:ia(n),timestamp:ia(o)||void 0,status:ih(h),op:s["sentry.op"],origin:s["sentry.origin"],_metrics_summary:ir(t)})}return{span_id:i,trace_id:r}}catch(t){return{}}}function ih(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"unknown_error"}function ic(t){return t._sentryRootSpan||t}let iu="production";function ip(t,i){let r=i.getOptions(),{publicKey:s}=i.getDsn()||{},n=t1({environment:r.environment||iu,release:r.release,public_key:s,trace_id:t});return i.emit("createDsc",n),n}function id(t){let i=ii();if(!i)return{};let r=ip(il(t).trace_id||"",i),s=ic(t),n=s._frozenDsc;if(n)return n;let a=s.spanContext().traceState,o=a&&a.get("sentry.dsc"),l=o&&eF(o);if(l)return l;let h=il(s),c=h.data||{},u=c["sentry.sample_rate"];null!=u&&(r.sample_rate=`${u}`);let p=c["sentry.source"],d=h.description;return"url"!==p&&d&&(r.transaction=d),function(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let i=ii(),r=i&&i.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}()&&(r.sampled=String(function(t){let{traceFlags:i}=t.spanContext();return 1===i}(s))),i.emit("createDsc",r,s),r}function im(t,i,r,s){let n=eJ(r),a=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,i){i&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||i.name,t.sdk.version=t.sdk.version||i.version,t.sdk.integrations=[...t.sdk.integrations||[],...i.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...i.packages||[]])}(t,r&&r.sdk);let o=function(t,i,r,s){let n=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&s&&{dsn:tU(s)},...n&&{trace:t1({...n})}}}(t,n,s,i);return delete t.sdkProcessingMetadata,ej(o,[[{type:a},t]])}function ig(t,i,r,s=0){return new eP((n,a)=>{let o=t[s];if(null===i||"function"!=typeof o)n(i);else{let l=o({...i},r);eH&&o.id&&null===l&&tz.log(`Event processor "${o.id}" dropped event`),t_(l)?l.then(i=>ig(t,i,r,s+1).then(n)).then(null,a):ig(t,l,r,s+1).then(n).then(null,a)}})}function iy(t,i){let{fingerprint:r,span:s,breadcrumbs:n,sdkProcessingMetadata:a}=i;!function(t,i){let{extra:r,tags:s,user:n,contexts:a,level:o,transactionName:l}=i,h=t1(r);h&&Object.keys(h).length&&(t.extra={...h,...t.extra});let c=t1(s);c&&Object.keys(c).length&&(t.tags={...c,...t.tags});let u=t1(n);u&&Object.keys(u).length&&(t.user={...u,...t.user});let p=t1(a);p&&Object.keys(p).length&&(t.contexts={...p,...t.contexts}),o&&(t.level=o),l&&"transaction"!==t.type&&(t.transaction=l)}(t,i),s&&function(t,i){t.contexts={trace:is(i),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:id(i),...t.sdkProcessingMetadata};let r=il(ic(i)).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(t,s),function(t,i){t.fingerprint=t.fingerprint?function(t){return Array.isArray(t)?t:[t]}(t.fingerprint):[],i&&(t.fingerprint=t.fingerprint.concat(i)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,r),function(t,i){let r=[...t.breadcrumbs||[],...i];t.breadcrumbs=r.length?r:void 0}(t,n),function(t,i){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...i}}(t,a)}function iv(t,i){let{extra:r,tags:s,user:n,contexts:a,level:o,sdkProcessingMetadata:l,breadcrumbs:h,fingerprint:c,eventProcessors:u,attachments:p,propagationContext:d,transactionName:f,span:m}=i;ib(t,"extra",r),ib(t,"tags",s),ib(t,"user",n),ib(t,"contexts",a),ib(t,"sdkProcessingMetadata",l),o&&(t.level=o),f&&(t.transactionName=f),m&&(t.span=m),h.length&&(t.breadcrumbs=[...t.breadcrumbs,...h]),c.length&&(t.fingerprint=[...t.fingerprint,...c]),u.length&&(t.eventProcessors=[...t.eventProcessors,...u]),p.length&&(t.attachments=[...t.attachments,...p]),t.propagationContext={...t.propagationContext,...d}}function ib(t,i,r){if(r&&Object.keys(r).length)for(let s in t[i]={...t[i]},r)Object.prototype.hasOwnProperty.call(r,s)&&(t[i][s]=r[s])}function i_(t,i,r,s,n,a){let{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=t,h={...i,event_id:i.event_id||r.event_id||ev(),timestamp:i.timestamp||eh()},c=r.integrations||t.integrations.map(t=>t.name);!function(t,i){let{environment:r,release:s,dist:n,maxValueLength:a=250}=i;"environment"in t||(t.environment="environment"in i?r:iu),void 0===t.release&&void 0!==s&&(t.release=s),void 0===t.dist&&void 0!==n&&(t.dist=n),t.message&&(t.message=tw(t.message,a));let o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=tw(o.value,a));let l=t.request;l&&l.url&&(l.url=tw(l.url,a))}(h,t),function(t,i){i.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...i])}(h,c),n&&n.emit("applyFrameMetadata",i),void 0===i.type&&function(t,i){let r,s=tL._sentryDebugIds;if(!s)return;let n=ik.get(i);n?r=n:(r=new Map,ik.set(i,r));let a=Object.entries(s).reduce((t,[s,n])=>{let a,o=r.get(s);o?a=o:(a=i(s),r.set(s,a));for(let i=a.length-1;i>=0;i--){let r=a[i];if(r.filename){t[r.filename]=n;break}}return t},{});try{t.exception.values.forEach(t=>{t.stacktrace.frames.forEach(t=>{t.filename&&(t.debug_id=a[t.filename])})})}catch(t){}}(h,t.stackParser);let u=function(t,i){if(!i)return t;let r=t?t.clone():new e3;return r.update(i),r}(s,r.captureContext);r.mechanism&&eS(h,r.mechanism);let p=n?n.getEventProcessors():[],d=tO("globalScope",()=>new e3).getScopeData();a&&iv(d,a.getScopeData()),u&&iv(d,u.getScopeData());let f=[...r.attachments||[],...d.attachments];return f.length&&(r.attachments=f),iy(h,d),ig([...p,...d.eventProcessors],h,r).then(t=>(t&&function(t){let i={};try{t.exception.values.forEach(t=>{t.stacktrace.frames.forEach(t=>{t.debug_id&&(t.abs_path?i[t.abs_path]=t.debug_id:t.filename&&(i[t.filename]=t.debug_id),delete t.debug_id)})})}catch(t){}if(0===Object.keys(i).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let r=t.debug_meta.images;Object.entries(i).forEach(([t,i])=>{r.push({type:"sourcemap",code_file:t,debug_id:i})})}(t),"number"==typeof o&&o>0?function(t,i,r){if(!t)return null;let s={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(t=>({...t,...t.data&&{data:eC(t.data,i,r)}}))},...t.user&&{user:eC(t.user,i,r)},...t.contexts&&{contexts:eC(t.contexts,i,r)},...t.extra&&{extra:eC(t.extra,i,r)}};return t.contexts&&t.contexts.trace&&s.contexts&&(s.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(s.contexts.trace.data=eC(t.contexts.trace.data,i,r))),t.spans&&(s.spans=t.spans.map(t=>({...t,...t.data&&{data:eC(t.data,i,r)}}))),s}(t,o,l):t))}let ik=new WeakMap;function iS(t){if(t)return function(t){return t instanceof e3||"function"==typeof t}(t)||function(t){return Object.keys(t).some(t=>iw.includes(t))}(t)?{captureContext:t}:t}let iw=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function iC(t,i){return it().captureEvent(t,i)}function iE(t,i){var r;return Object.keys(r={sentry_key:t.publicKey,sentry_version:"7",...i&&{sentry_client:`${i.name}/${i.version}`}}).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(r[t])}`).join("&")}let ix=[];function iT(t,i){for(let r of i)r&&r.afterAllSetup&&r.afterAllSetup(t)}function iA(t,i,r){if(r[i.name])eH&&tz.log(`Integration skipped because it was already installed: ${i.name}`);else{if(r[i.name]=i,-1===ix.indexOf(i.name)&&"function"==typeof i.setupOnce&&(i.setupOnce(),ix.push(i.name)),i.setup&&"function"==typeof i.setup&&i.setup(t),"function"==typeof i.preprocessEvent){let r=i.preprocessEvent.bind(i);t.on("preprocessEvent",(i,s)=>r(i,s,t))}if("function"==typeof i.processEvent){let r=i.processEvent.bind(i),s=Object.assign((i,s)=>r(i,s,t),{id:i.name});t.addEventProcessor(s)}eH&&tz.log(`Integration installed: ${i.name}`)}}let iP="Not capturing exception because it's already been captured.";class iM{constructor(t){var i,r,s;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=t$(t.dsn):eH&&tz.warn("No DSN provided, client will not send events."),this._dsn){let n=(i=this._dsn,r=t.tunnel,s=t._metadata?t._metadata.sdk:void 0,r||`${function(t){return`${function(t){let i=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${i}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/`}(i)}?${iE(i,s)}`);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,i,r){let s=ev();if(ew(t))return eH&&tz.log(iP),s;let n={event_id:s,...i};return this._process(this.eventFromException(t,n).then(t=>this._captureEvent(t,n,r))),n.event_id}captureMessage(t,i,r,s){let n={event_id:ev(),...r},a=tg(t)?t:String(t),o=ty(t)?this.eventFromMessage(a,i,n):this.eventFromException(t,n);return this._process(o.then(t=>this._captureEvent(t,n,s))),n.event_id}captureEvent(t,i,r){let s=ev();if(i&&i.originalException&&ew(i.originalException))return eH&&tz.log(iP),s;let n={event_id:s,...i},a=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,a||r)),n.event_id}captureSession(t){"string"!=typeof t.release?eH&&tz.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),eX(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let i=this._transport;return i?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>i.flush(t).then(t=>r&&t))):eT(!0)}close(t){return this.flush(t).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let i=this._integrations[t.name];iA(this,t,this._integrations),i||iT(this,[t])}sendEvent(t,i={}){this.emit("beforeSendEvent",t,i);let r=im(t,this._dsn,this._options._metadata,this._options.tunnel);for(let t of i.attachments||[])r=eN(r,ez(t));let s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let i=function(t,i,r,s){let n=eJ(r);return ej({sent_at:(new Date).toISOString(),...n&&{sdk:n},...!!s&&i&&{dsn:tU(i)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,i,r){if(this._options.sendClientReports){let s="number"==typeof r?r:1,n=`${t}:${i}`;eH&&tz.log(`Recording outcome: "${n}"${s>1?` (${s} times)`:""}`),this._outcomes[n]=(this._outcomes[n]||0)+s}}on(t,i){let r=this._hooks[t]=this._hooks[t]||[];return r.push(i),()=>{let t=r.indexOf(i);t>-1&&r.splice(t,1)}}emit(t,...i){let r=this._hooks[t];r&&r.forEach(t=>t(...i))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,t=>(eH&&tz.error("Error while sending event:",t),t)):(eH&&tz.error("Transport disabled"),eT({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=function(t,i){let r={};return i.forEach(i=>{i&&iA(t,i,r)}),r}(this,t),iT(this,t)}_updateSessionFromEvent(t,i){let r=!1,s=!1,n=i.exception&&i.exception.values;if(n)for(let t of(s=!0,n)){let i=t.mechanism;if(i&&!1===i.handled){r=!0;break}}let a="ok"===t.status;(a&&0===t.errors||a&&r)&&(eX(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new eP(i=>{let r=0,s=setInterval(()=>{0==this._numProcessing?(clearInterval(s),i(!0)):(r+=1,t&&r>=t&&(clearInterval(s),i(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,i,r,s=ie()){let n=this.getOptions(),a=Object.keys(this._integrations);return!i.integrations&&a.length>0&&(i.integrations=a),this.emit("preprocessEvent",t,i),t.type||s.setLastEventId(t.event_id||i.event_id),i_(n,t,i,r,this,s).then(t=>{if(null===t)return t;let i={...s.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(t.contexts&&t.contexts.trace)&&i){let{traceId:r,spanId:s,parentSpanId:n,dsc:a}=i;t.contexts={trace:t1({trace_id:r,span_id:s,parent_span_id:n}),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:a||ip(r,this),...t.sdkProcessingMetadata}}return t})}_captureEvent(t,i={},r){return this._processEvent(t,i,r).then(t=>t.event_id,t=>{if(eH){let i=t;"log"===i.logLevel?tz.log(i.message):tz.warn(i)}})}_processEvent(t,i,r){let s=this.getOptions(),{sampleRate:n}=s,a=iI(t),o=iD(t),l=t.type||"error",h=`before send for type \`${l}\``,c=void 0===n?void 0:function(t){if("boolean"==typeof t)return Number(t);let i="string"==typeof t?parseFloat(t):t;if(!("number"!=typeof i||isNaN(i)||i<0||i>1))return i;eH&&tz.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`)}(n);if(o&&"number"==typeof c&&Math.random()>c)return this.recordDroppedEvent("sample_rate","error",t),eA(new tW(`Discarding event because it's not included in the random sample (sampling rate = ${n})`,"log"));let u="replay_event"===l?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,i,r,p).then(r=>{if(null===r)throw this.recordDroppedEvent("event_processor",u,t),new tW("An event processor returned `null`, will not send event.","log");return i.data&&!0===i.data.__sentry__?r:function(t,i){let r=`${i} must return \`null\` or a valid event.`;if(t_(t))return t.then(t=>{if(!tv(t)&&null!==t)throw new tW(r);return t},t=>{throw new tW(`${i} rejected with ${t}`)});if(!tv(t)&&null!==t)throw new tW(r);return t}(function(t,i,r,s){let{beforeSend:n,beforeSendTransaction:a,beforeSendSpan:o}=i;if(iD(r)&&n)return n(r,s);if(iI(r)){if(r.spans&&o){let i=[];for(let s of r.spans){let r=o(s);r?i.push(r):t.recordDroppedEvent("before_send","span")}r.spans=i}if(a){if(r.spans){let t=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return a(r,s)}}return r}(this,s,r,i),h)}).then(s=>{if(null===s){if(this.recordDroppedEvent("before_send",u,t),a){let i=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",i)}throw new tW(`${h} returned \`null\`, will not send event.`,"log")}let n=r&&r.getSession();if(!a&&n&&this._updateSessionFromEvent(n,s),a){let t=(s.sdkProcessingMetadata&&s.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(s.spans?s.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}let o=s.transaction_info;if(a&&o&&s.transaction!==t.transaction){let t="custom";s.transaction_info={...o,source:t}}return this.sendEvent(s,i),s}).then(null,t=>{if(t instanceof tW)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new tW(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${t}`)})}_process(t){this._numProcessing++,t.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([t,i])=>{let[r,s]=t.split(":");return{reason:r,category:s,quantity:i}})}_flushOutcomes(){var t,i,r;eH&&tz.log("Flushing outcomes...");let s=this._clearOutcomes();if(0===s.length)return void(eH&&tz.log("No outcomes to send"));if(!this._dsn)return void(eH&&tz.log("No dsn provided, will not send outcomes"));eH&&tz.log("Sending outcomes:",s);let n=(t=s,ej((i=this._options.tunnel&&tU(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:r||eh(),discarded_events:t}]]));this.sendEnvelope(n)}}function iD(t){return void 0===t.type}function iI(t){return"transaction"===t.type}function iL(t,i,r=eM(t.bufferSize||64)){let s={};return{send:function(n){let a=[];if(eV(n,(i,r)=>{let n=eU(r);if(function(t,i,r=Date.now()){return function(t,i){return t[i]||t.all||0}(t,i)>r}(s,n)){let s=iO(i,r);t.recordDroppedEvent("ratelimit_backoff",n,s)}else a.push(i)}),0===a.length)return eT({});let o=ej(n[0],a),l=i=>{eV(o,(r,s)=>{let n=iO(r,s);t.recordDroppedEvent(i,eU(s),n)})};return r.add(()=>i({body:eq(o)}).then(t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&eH&&tz.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),s=e$(s,t),t),t=>{throw l("network_error"),t})).then(t=>t,t=>{if(t instanceof tW)return eH&&tz.error("Skipped sending event because buffer is full."),l("queue_overflow"),eT({});throw t})},flush:t=>r.drain(t)}}function iO(t,i){if("event"===i||"transaction"===i)return Array.isArray(t)?t[1]:void 0}let iF=100;function iR(t,i){let r=ii(),s=ie();if(!r)return;let{beforeBreadcrumb:n=null,maxBreadcrumbs:a=iF}=r.getOptions();if(a<=0)return;let o={timestamp:eh(),...t},l=n?tq(()=>n(o,i)):o;null!==l&&(r.emit&&r.emit("beforeAddBreadcrumb",l,i),s.addBreadcrumb(l,a))}let ij=new WeakMap,iN=()=>({name:"FunctionToString",setupOnce(){s=Function.prototype.toString;try{Function.prototype.toString=function(...t){let i=tQ(this),r=ij.has(ii())&&void 0!==i?i:this;return s.apply(r,t)}}catch(t){}},setup(t){ij.set(t,!0)}}),iV=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],iB=(t={})=>({name:"InboundFilters",processEvent:(i,r,s)=>!function(t,i){return i.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t)?(eH&&tz.warn(`Event dropped due to being internal Sentry Error.
Event: ${e_(t)}`),!0):!function(t,i){return!t.type&&!!i&&!!i.length&&(function(t){let i,r=[];t.message&&r.push(t.message);try{i=t.exception.values[t.exception.values.length-1]}catch(t){}return i&&i.value&&(r.push(i.value),i.type&&r.push(`${i.type}: ${i.value}`)),r})(t).some(t=>tx(t,i))}(t,i.ignoreErrors)?!function(t){return!t.type&&!!t.exception&&!!t.exception.values&&0!==t.exception.values.length&&!t.message&&!t.exception.values.some(t=>t.stacktrace||t.type&&"Error"!==t.type||t.value)}(t)?!function(t,i){if("transaction"!==t.type||!i||!i.length)return!1;let r=t.transaction;return!!r&&tx(r,i)}(t,i.ignoreTransactions)?!function(t,i){if(!i||!i.length)return!1;let r=iq(t);return!!r&&tx(r,i)}(t,i.denyUrls)?!function(t,i){if(!i||!i.length)return!0;let r=iq(t);return!r||tx(r,i)}(t,i.allowUrls)&&(eH&&tz.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${e_(t)}.
Url: ${iq(t)}`),!0):(eH&&tz.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${e_(t)}.
Url: ${iq(t)}`),!0):(eH&&tz.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${e_(t)}`),!0):(eH&&tz.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${e_(t)}`),!0):(eH&&tz.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${e_(t)}`),!0)}(i,function(t={},i={}){return{allowUrls:[...t.allowUrls||[],...i.allowUrls||[]],denyUrls:[...t.denyUrls||[],...i.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...i.ignoreErrors||[],...t.disableErrorDefaults?[]:iV],ignoreTransactions:[...t.ignoreTransactions||[],...i.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,s.getOptions()))?i:null});function iq(t){try{let i;try{i=t.exception.values[0].stacktrace.frames}catch(t){}return i?function(t=[]){for(let i=t.length-1;i>=0;i--){let r=t[i];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(i):null}catch(i){return eH&&tz.error(`Cannot extract url for event ${e_(t)}`),null}}let iz=()=>{let t;return{name:"Dedupe",processEvent(i){if(i.type)return i;try{if(function(t,i){return!!i&&!!(function(t,i){let r=t.message,s=i.message;return(!!r||!!s)&&(!r||!!s)&&(!!r||!s)&&r===s&&!!iU(t,i)&&!!iG(t,i)&&!0}(t,i)||function(t,i){let r=iJ(i),s=iJ(t);return!!r&&!!s&&r.type===s.type&&r.value===s.value&&!!iU(t,i)&&!!iG(t,i)}(t,i))}(i,t))return eH&&tz.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=i}}};function iG(t,i){let r=t8(t),s=t8(i);if(!r&&!s)return!0;if(r&&!s||!r&&s||s.length!==r.length)return!1;for(let t=0;t<s.length;t++){let i=s[t],n=r[t];if(i.filename!==n.filename||i.lineno!==n.lineno||i.colno!==n.colno||i.function!==n.function)return!1}return!0}function iU(t,i){let r=t.fingerprint,s=i.fingerprint;if(!r&&!s)return!0;if(r&&!s||!r&&s)return!1;try{return r.join("")===s.join("")}catch(t){return!1}}function iJ(t){return t.exception&&t.exception.values&&t.exception.values[0]}let i$=tL,iW=0;function iY(){return iW>0}function iH(t,i={},r){if("function"!=typeof t)return t;try{let i=t.__sentry_wrapped__;if(i)return"function"==typeof i?i:t;if(tQ(t))return t}catch(i){return t}let s=function(){let s=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);let n=s.map(t=>iH(t,i));return t.apply(this,n)}catch(t){throw iW++,setTimeout(()=>{iW--}),function(...t){let i=e8(eK());if(2===t.length){let[r,s]=t;return r?i.withSetScope(r,s):i.withScope(s)}i.withScope(t[0])}(r=>{var n,a;r.addEventProcessor(t=>(i.mechanism&&(ek(t,void 0,void 0),eS(t,i.mechanism)),t.extra={...t.extra,arguments:s},t)),n=t,it().captureException(n,iS(a))}),t}};try{for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s[i]=t[i])}catch(t){}tK(s,t),tH(t,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get:()=>t.name})}catch(t){}return s}let iK=!1;function iQ(t,i){let r=i0(t,i),s={type:i&&i.name,value:i2(i)};return r.length&&(s.stacktrace={frames:r}),void 0===s.type&&""===s.value&&(s.value="Unrecoverable error caught"),s}function iX(t,i,r,s){let n=ii(),a=n&&n.getOptions().normalizeDepth,o=function(t){for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i)){let r=t[i];if(r instanceof Error)return r}}(i),l={__serialized__:eE(i,a)};if(o)return{exception:{values:[iQ(t,o)]},extra:l};let h={exception:{values:[{type:tb(i)?i.constructor.name:s?"UnhandledRejection":"Error",value:i4(i,{isUnhandledRejection:s})}]},extra:l};if(r){let i=i0(t,r);i.length&&(h.exception.values[0].stacktrace={frames:i})}return h}function iZ(t,i){return{exception:{values:[iQ(t,i)]}}}function i0(t,i){let r=i.stacktrace||i.stack||"",s=function(t){return t&&i1.test(t.message)?1:0}(i),n=function(t){return"number"==typeof t.framesToPop?t.framesToPop:0}(i);try{return t(r,s,n)}catch(t){}return[]}let i1=/Minified React error #\d+;/i;function i2(t){let i=t&&t.message;return i?i.error&&"string"==typeof i.error.message?i.error.message:i:"No error message"}function i3(t,i,r,s,n){let a;if(td(i)&&i.error)return iZ(t,i.error);if(tf(i)||tp(i,"DOMException")){let n=i;if("stack"in i)a=iZ(t,i);else{let i=n.name||(tf(n)?"DOMError":"DOMException"),o=n.message?`${i}: ${n.message}`:i;ek(a=i5(t,o,r,s),o)}return"code"in n&&(a.tags={...a.tags,"DOMException.code":`${n.code}`}),a}return tu(i)?iZ(t,i):(tv(i)||tb(i)?eS(a=iX(t,i,r,n),{synthetic:!0}):(ek(a=i5(t,i,r,s),`${i}`,void 0),eS(a,{synthetic:!0})),a)}function i5(t,i,r,s){let n={};if(s&&r){let s=i0(t,r);s.length&&(n.exception={values:[{value:i,stacktrace:{frames:s}}]})}if(tg(i)){let{__sentry_template_string__:t,__sentry_template_values__:r}=i;return n.logentry={message:t,params:r},n}return n.message=i,n}function i4(t,{isUnhandledRejection:i}){let r=function(t,i=40){let r=Object.keys(tX(t));r.sort();let s=r[0];if(!s)return"[object has no keys]";if(s.length>=i)return tw(s,i);for(let t=r.length;t>0;t--){let s=r.slice(0,t).join(", ");if(!(s.length>i))return t===r.length?s:tw(s,i)}return""}(t),s=i?"promise rejection":"exception";return td(t)?`Event \`ErrorEvent\` captured as ${s} with message \`${t.message}\``:tb(t)?`Event \`${function(t){try{let i=Object.getPrototypeOf(t);return i?i.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${s}`:`Object captured as ${s} with keys: ${r}`}class i6 extends iM{constructor(t){let i={parentSpanIsAlwaysRootSpan:!0,...t};!function(t,i,r=[i],s="npm"){let n=t._metadata||{};n.sdk||(n.sdk={name:`sentry.javascript.${i}`,packages:r.map(t=>({name:`${s}:@sentry/${t}`,version:tI})),version:tI}),t._metadata=n}(i,"browser",["browser"],i$.SENTRY_SDK_SOURCE||"npm"),super(i),i.sendClientReports&&i$.document&&i$.document.addEventListener("visibilitychange",()=>{"hidden"===i$.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,i){return function(t,i,r,s){let n=i3(t,i,r&&r.syntheticException||void 0,s);return eS(n),n.level="error",r&&r.event_id&&(n.event_id=r.event_id),eT(n)}(this._options.stackParser,t,i,this._options.attachStacktrace)}eventFromMessage(t,i="info",r){return function(t,i,r="info",s,n){let a=i5(t,i,s&&s.syntheticException||void 0,n);return a.level=r,s&&s.event_id&&(a.event_id=s.event_id),eT(a)}(this._options.stackParser,t,i,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(iK&&tz.warn("SDK not enabled, will not capture user feedback."));let i=function(t,{metadata:i,tunnel:r,dsn:s}){return ej({event_id:t.event_id,sent_at:(new Date).toISOString(),...i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}},...!!r&&!!s&&{dsn:tU(s)}},[function(t){return[{type:"user_report"},t]}(t)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(i)}_prepareEvent(t,i,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,i,r)}}let i7=!1,i9=tL;function i8(){if(!i9.document)return;let t=es.bind(null,"dom"),i=rt(t,!0);i9.document.addEventListener("click",i,!1),i9.document.addEventListener("keypress",i,!1),["EventTarget","Node"].forEach(i=>{let r=i9[i]&&i9[i].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(tY(r,"addEventListener",function(i){return function(r,s,n){if("click"===r||"keypress"==r)try{let s=this,a=s.__sentry_instrumentation_handlers__=s.__sentry_instrumentation_handlers__||{},o=a[r]=a[r]||{refCount:0};if(!o.handler){let s=rt(t);o.handler=s,i.call(this,r,s,n)}o.refCount++}catch(t){}return i.call(this,r,s,n)}}),tY(r,"removeEventListener",function(t){return function(i,r,s){if("click"===i||"keypress"==i)try{let r=this,n=r.__sentry_instrumentation_handlers__||{},a=n[i];a&&(a.refCount--,a.refCount<=0&&(t.call(this,i,a.handler,s),a.handler=void 0,delete n[i]),0===Object.keys(n).length&&delete r.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,i,r,s)}}))})}function rt(t,i=!1){return r=>{if(!r||r._sentryCaptured)return;let s=function(t){try{return t.target}catch(t){return null}}(r);if(function(t,i){return"keypress"===t&&(!i||!i.tagName||"INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName&&!i.isContentEditable)}(r.type,s))return;tH(r,"_sentryCaptured",!0),s&&!s._sentryId&&tH(s,"_sentryId",ev());let l="keypress"===r.type?"input":r.type;!function(t){if(t.type!==a)return!1;try{if(!t.target||t.target._sentryId!==o)return!1}catch(t){}return!0}(r)&&(t({event:r,name:l,global:i}),a=r.type,o=s?s._sentryId:void 0),clearTimeout(n),n=i9.setTimeout(()=>{o=void 0,a=void 0},1e3)}}function re(){if(!function(){let t=eY.chrome,i=t&&t.app&&t.app.runtime,r="history"in eY&&!!eY.history.pushState&&!!eY.history.replaceState;return!i&&r}())return;let t=i9.onpopstate;function i(t){return function(...i){let r=i.length>2?i[2]:void 0;if(r){let t=l,i=String(r);l=i,es("history",{from:t,to:i})}return t.apply(this,i)}}i9.onpopstate=function(...i){let r=i9.location.href,s=l;if(l=r,es("history",{from:s,to:r}),t)try{return t.apply(this,i)}catch(t){}},tY(i9.history,"pushState",i),tY(i9.history,"replaceState",i)}let ri={};function rr(t){ri[t]=void 0}let rs="__sentry_xhr_v3__";function rn(){if(!i9.XMLHttpRequest)return;let t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,i,r){let s=1e3*ec(),n=tm(r[0])?r[0].toUpperCase():void 0,a=function(t){if(tm(t))return t;try{return t.toString()}catch(t){}}(r[1]);if(!n||!a)return t.apply(i,r);i[rs]={method:n,url:a,request_headers:{}},"POST"===n&&a.match(/sentry_key/)&&(i.__sentry_own_request__=!0);let o=()=>{let t=i[rs];if(t&&4===i.readyState){try{t.status_code=i.status}catch(t){}es("xhr",{endTimestamp:1e3*ec(),startTimestamp:s,xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?i.onreadystatechange=new Proxy(i.onreadystatechange,{apply:(t,i,r)=>(o(),t.apply(i,r))}):i.addEventListener("readystatechange",o),i.setRequestHeader=new Proxy(i.setRequestHeader,{apply(t,i,r){let[s,n]=r,a=i[rs];return a&&tm(s)&&tm(n)&&(a.request_headers[s.toLowerCase()]=n),t.apply(i,r)}}),t.apply(i,r)}}),t.send=new Proxy(t.send,{apply(t,i,r){let s=i[rs];return s&&(void 0!==r[0]&&(s.body=r[0]),es("xhr",{startTimestamp:1e3*ec(),xhr:i})),t.apply(i,r)}})}function ra(t,i=function(t){let i=ri[t];if(i)return i;let r=i9[t];if(eo(r))return ri[t]=r.bind(i9);let s=i9.document;if(s&&"function"==typeof s.createElement)try{let i=s.createElement("iframe");i.hidden=!0,s.head.appendChild(i);let n=i.contentWindow;n&&n[t]&&(r=n[t]),s.head.removeChild(i)}catch(i){i7&&tz.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r?ri[t]=r.bind(i9):r}("fetch")){let r=0,s=0;return iL(t,function(n){let a=n.body.length;r+=a,s++;let o={body:n.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&s<15,...t.fetchOptions};if(!i)return rr("fetch"),eA("No fetch implementation available");try{return i(t.url,o).then(t=>(r-=a,s--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}}))}catch(t){return rr("fetch"),r-=a,s--,eA(t)}})}function ro(t,i,r,s){let n={filename:t,function:"<anonymous>"===i?t3:i,in_app:!0};return void 0!==r&&(n.lineno=r),void 0!==s&&(n.colno=s),n}let rl=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,rh=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rc=/\((\S*)(?::(\d+))(?::(\d+))\)/,ru=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rp=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,rd=function(...t){let i=t.sort((t,i)=>t[0]-i[0]).map(t=>t[1]);return(t,r=0,s=0)=>{let n=[],a=t.split("\n");for(let t=r;t<a.length;t++){let r=a[t];if(r.length>1024)continue;let o=t5.test(r)?r.replace(t5,"$1"):r;if(!o.match(/\S*Error: /)){for(let t of i){let i=t(o);if(i){n.push(i);break}}if(n.length>=50+s)break}}return function(t){if(!t.length)return[];let i=Array.from(t);return/sentryWrapped/.test(t6(i).function||"")&&i.pop(),i.reverse(),t4.test(t6(i).function||"")&&(i.pop(),t4.test(t6(i).function||"")&&i.pop()),i.slice(0,50).map(t=>({...t,filename:t.filename||t6(i).filename,function:t.function||t3}))}(n.slice(s))}}([30,t=>{let i=rl.exec(t);if(i){let[,t,r,s]=i;return ro(t,t3,+r,+s)}let r=rh.exec(t);if(r){if(r[2]&&0===r[2].indexOf("eval")){let t=rc.exec(r[2]);t&&(r[2]=t[1],r[3]=t[2],r[4]=t[3])}let[t,i]=rf(r[1]||t3,r[2]);return ro(i,t,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,t=>{let i=ru.exec(t);if(i){if(i[3]&&i[3].indexOf(" > eval")>-1){let t=rp.exec(i[3]);t&&(i[1]=i[1]||"eval",i[3]=t[1],i[4]=t[2],i[5]="")}let t=i[3],r=i[1]||t3;return[r,t]=rf(r,t),ro(t,r,i[4]?+i[4]:void 0,i[5]?+i[5]:void 0)}}]),rf=(t,i)=>{let r=-1!==t.indexOf("safari-extension"),s=-1!==t.indexOf("safari-web-extension");return r||s?[-1!==t.indexOf("@")?t.split("@")[0]:t3,r?`safari-extension:${i}`:`safari-web-extension:${i}`]:[t,i]},rm=1024,rg=(t={})=>{let i={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(t){i.console&&function(t){let i="console";ei(i,t),er(i,en)}(function(t){return function(i){if(ii()!==t)return;let r={category:"console",data:{arguments:i.args,logger:"console"},level:eL(i.level),message:tC(i.args," ")};if("assert"===i.level){if(!1!==i.args[0])return;r.message=`Assertion failed: ${tC(i.args.slice(1)," ")||"console.assert"}`,r.data.arguments=i.args.slice(1)}iR(r,{input:i.args,level:i.level})}}(t)),i.dom&&(ei("dom",function(t,i){return function(r){if(ii()!==t)return;let s,n,a="object"==typeof i?i.serializeAttribute:void 0,o="object"==typeof i&&"number"==typeof i.maxStringLength?i.maxStringLength:void 0;o&&o>rm&&(iK&&tz.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=rm),"string"==typeof a&&(a=[a]);try{let t=r.event,i=!function(t){return!!t&&!!t.target}(t)?t:t.target;s=tR(i,{keyAttrs:a,maxStringLength:o}),n=function(t){if(!tF.HTMLElement)return null;let i=t;for(let t=0;t<5&&i;t++){if(i instanceof HTMLElement){if(i.dataset.sentryComponent)return i.dataset.sentryComponent;if(i.dataset.sentryElement)return i.dataset.sentryElement}i=i.parentNode}return null}(i)}catch(t){s="<unknown>"}if(0===s.length)return;let l={category:`ui.${r.name}`,message:s};n&&(l.data={"ui.component_name":n}),iR(l,{event:r.event,name:r.name,global:r.global})}}(t,i.dom)),er("dom",i8)),i.xhr&&function(t){ei("xhr",t),er("xhr",rn)}(function(t){return function(i){if(ii()!==t)return;let{startTimestamp:r,endTimestamp:s}=i,n=i.xhr[rs];if(!r||!s||!n)return;let{method:a,url:o,status_code:l,body:h}=n,c={method:a,url:o,status_code:l},u={xhr:i.xhr,input:h,startTimestamp:r,endTimestamp:s};iR({category:"xhr",data:c,type:"http",level:tD(l)},u)}}(t)),i.fetch&&eu(function(t){return function(i){if(ii()!==t)return;let{startTimestamp:r,endTimestamp:s}=i;if(s&&(!i.fetchData.url.match(/sentry_key/)||"POST"!==i.fetchData.method))if(i.error)iR({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:r,endTimestamp:s});else{let t=i.response,n={...i.fetchData,status_code:t&&t.status},a={input:i.args,response:t,startTimestamp:r,endTimestamp:s};iR({category:"fetch",data:n,type:"http",level:tD(n.status_code)},a)}}}(t)),i.history&&function(t){let i="history";ei(i,t),er(i,re)}(function(t){return function(i){if(ii()!==t)return;let r=i.from,s=i.to,n=eD(i$.location.href),a=r?eD(r):void 0,o=eD(s);a&&a.path||(a=n),n.protocol===o.protocol&&n.host===o.host&&(s=o.relative),n.protocol===a.protocol&&n.host===a.host&&(r=a.relative),iR({category:"navigation",data:{from:r,to:s}})}}(t)),i.sentry&&t.on("beforeSendEvent",function(t){return function(i){ii()===t&&iR({category:"sentry."+("transaction"===i.type?"transaction":"event"),event_id:i.event_id,level:i.level,message:e_(i)},{event:i})}}(t))}}},ry=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],rv=(t={})=>{let i={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){i.setTimeout&&tY(i$,"setTimeout",rb),i.setInterval&&tY(i$,"setInterval",rb),i.requestAnimationFrame&&tY(i$,"requestAnimationFrame",r_),i.XMLHttpRequest&&"XMLHttpRequest"in i$&&tY(XMLHttpRequest.prototype,"send",rk);let t=i.eventTarget;t&&(Array.isArray(t)?t:ry).forEach(rS)}}};function rb(t){return function(...i){let r=i[0];return i[0]=iH(r,{mechanism:{data:{function:t9(t)},handled:!1,type:"instrument"}}),t.apply(this,i)}}function r_(t){return function(i){return t.apply(this,[iH(i,{mechanism:{data:{function:"requestAnimationFrame",handler:t9(t)},handled:!1,type:"instrument"}})])}}function rk(t){return function(...i){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(t=>{t in r&&"function"==typeof r[t]&&tY(r,t,function(i){let r={mechanism:{data:{function:t,handler:t9(i)},handled:!1,type:"instrument"}},s=tQ(i);return s&&(r.mechanism.data.handler=t9(s)),iH(i,r)})}),t.apply(this,i)}}function rS(t){let i=i$,r=i[t]&&i[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(tY(r,"addEventListener",function(i){return function(r,s,n){try{"function"==typeof s.handleEvent&&(s.handleEvent=iH(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:t9(s),target:t},handled:!1,type:"instrument"}}))}catch(t){}return i.apply(this,[r,iH(s,{mechanism:{data:{function:"addEventListener",handler:t9(s),target:t},handled:!1,type:"instrument"}}),n])}}),tY(r,"removeEventListener",function(t){return function(i,r,s){let n=r;try{let r=n&&n.__sentry_wrapped__;r&&t.call(this,i,r,s)}catch(t){}return t.call(this,i,n,s)}}))}let rw=(t={})=>{let i={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){i.onerror&&(!function(t){!function(t){let i="error";ei(i,t),er(i,em)}(i=>{let{stackParser:r,attachStacktrace:s}=rE();if(ii()!==t||iY())return;let{msg:n,url:a,line:o,column:l,error:h}=i,c=function(t,i,r,s){let n=t.exception=t.exception||{},a=n.values=n.values||[],o=a[0]=a[0]||{},l=o.stacktrace=o.stacktrace||{},h=l.frames=l.frames||[],c=isNaN(parseInt(s,10))?void 0:s,u=isNaN(parseInt(r,10))?void 0:r,p=tm(i)&&i.length>0?i:function(){try{return tF.document.location.href}catch(t){return""}}();return 0===h.length&&h.push({colno:c,filename:p,function:t3,in_app:!0,lineno:u}),t}(i3(r,h||n,void 0,s,!1),a,o,l);c.level="error",iC(c,{originalException:h,mechanism:{handled:!1,type:"onerror"}})})}(t),rC("onerror")),i.onunhandledrejection&&(!function(t){!function(t){let i="unhandledrejection";ei(i,t),er(i,ey)}(i=>{let{stackParser:r,attachStacktrace:s}=rE();if(ii()!==t||iY())return;let n=function(t){if(ty(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(t){}return t}(i),a=ty(n)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}:i3(r,n,void 0,s,!0);a.level="error",iC(a,{originalException:n,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(t),rC("onunhandledrejection"))}}};function rC(t){iK&&tz.log(`Global Handler attached: ${t}`)}function rE(){let t=ii();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let rx=()=>({name:"HttpContext",preprocessEvent(t){if(!i$.navigator&&!i$.location&&!i$.document)return;let i=t.request&&t.request.url||i$.location&&i$.location.href,{referrer:r}=i$.document||{},{userAgent:s}=i$.navigator||{},n={...t.request&&t.request.headers,...r&&{Referer:r},...s&&{"User-Agent":s}},a={...t.request,...i&&{url:i},headers:n};t.request=a}}),rT=(t={})=>{let i=t.limit||5,r=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,s,n){let a=n.getOptions();tT(iQ,a.stackParser,a.maxValueLength,r,i,t,s)}}};var rA="new",rP="loading",rM="loaded",rD="joining-meeting",rI="joined-meeting",rL="left-meeting",rO="error",rF="blocked",rR="off",rj="sendable",rN="loading",rV="interrupted",rB="playable",rq="unknown",rz="full",rG="lobby",rU="none",rJ="base",r$="*",rW="ejected",rY="nbf-room",rH="nbf-token",rK="exp-room",rQ="exp-token",rX="no-room",rZ="meeting-full",r0="end-of-life",r1="not-allowed",r2="connection-error",r3="cam-in-use",r5="mic-in-use",r4="cam-mic-in-use",r6="permissions",r7="undefined-mediadevices",r9="not-found",r8="constraints",st="unknown",se="iframe-ready-for-launch-config",si="iframe-launch-config",sr="theme-updated",ss="loading",sn="load-attempt-failed",sa="loaded",so="started-camera",sl="camera-error",sh="joining-meeting",sc="joined-meeting",su="left-meeting",sp="participant-joined",sd="participant-updated",sf="participant-left",sm="participant-counts-updated",sg="access-state-updated",sy="meeting-session-summary-updated",sv="meeting-session-state-updated",sb="meeting-session-data-error",s_="waiting-participant-added",sk="waiting-participant-updated",sS="waiting-participant-removed",sw="track-started",sC="track-stopped",sE="transcription-started",sx="transcription-stopped",sT="transcription-error",sA="recording-started",sP="recording-stopped",sM="recording-stats",sD="recording-error",sI="recording-upload-completed",sL="recording-data",sO="app-message",sF="transcription-message",sR="remote-media-player-started",sj="remote-media-player-updated",sN="remote-media-player-stopped",sV="local-screen-share-started",sB="local-screen-share-stopped",sq="local-screen-share-canceled",sz="active-speaker-change",sG="active-speaker-mode-change",sU="network-quality-change",sJ="network-connection",s$="cpu-load-change",sW="face-counts-updated",sY="fullscreen",sH="exited-fullscreen",sK="live-streaming-started",sQ="live-streaming-updated",sX="live-streaming-stopped",sZ="live-streaming-error",s0="lang-updated",s1="receive-settings-updated",s2="input-settings-updated",s3="nonfatal-error",s5="error",s4=4096,s6=102400,s7="iframe-call-message",s9="local-screen-start",s8="daily-method-update-live-streaming-endpoints",nt="transmit-log",ne="daily-custom-track",ni={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},nr={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},ns={PLAY:"play",PAUSE:"pause"},nn=["jpg","png","jpeg"],na="add-endpoints",no="remove-endpoints",nl="sip-call-transfer";function nh(){return!nc()&&"undefined"!=typeof window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function nc(){return"undefined"!=typeof navigator&&navigator.product&&"ReactNative"===navigator.product}function nu(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function np(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(t,i){if(!t||!i)return!0;switch(t){case"Chrome":return i.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&(13!==i.major||0!==i.minor||0!==i.point);case"Firefox":return i.major>=67}return!0}(n_(),nk())||nc())}function nd(){if(nc()||!document)return!1;var t=document.createElement("iframe");return!!t.requestFullscreen||!!t.webkitRequestFullscreen}var nf=function(){try{var t=document.createElement("canvas"),i=null!=t.getContext("webgl2");return t.remove(),i}catch(t){return!1}}();function nm(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!nc()&&!!nf&&(t?function(){return!nb()&&["Chrome","Firefox"].includes(n_())}():function(){if(nb())return!1;var t=n_();if("Safari"===t){var i=nE();if(i.major<15||15===i.major&&i.minor<4)return!1}return"Chrome"===t?nS().major>=77:"Firefox"===t?nx().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function ng(){if(nc()||nv()||"undefined"==typeof AudioWorkletNode)return!1;switch(n_()){case"Chrome":case"Firefox":return!0;case"Safari":var t=nk();return t.major>17||17===t.major&&t.minor>=4}return!1}function ny(){return nu()&&!function(){var t,i=n_();if(!nh())return!0;switch(i){case"Chrome":return(t=nS()).major&&t.major>0&&t.major<75;case"Firefox":return(t=nx()).major<91;case"Safari":return(t=nE()).major<13||13===t.major&&t.minor<1;default:return!0}}()}function nv(){return nh().match(/Linux; Android/)}function nb(){var t,i,r=nh(),s=r.match(/Mac/)&&(!nc()&&"undefined"!=typeof window&&null!=(t=window)&&null!=(i=t.navigator)&&i.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(r.match(/Mobi/)||r.match(/Android/)||s)||!!nh().match(/DailyAnd\//)||void 0}function n_(){if("undefined"!=typeof window){var t=nh();return nw()?"Safari":t.indexOf("Edge")>-1?"Edge":t.match(/Chrome\//)?"Chrome":t.indexOf("Safari")>-1||nC()?"Safari":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("MSIE")>-1||t.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function nk(){switch(n_()){case"Chrome":return nS();case"Safari":return nE();case"Firefox":return nx();case"Edge":return function(){var t=0,i=0;if("undefined"!=typeof window){var r=nh().match(/Edge\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),i=parseInt(r[2])}catch(t){}}return{major:t,minor:i}}()}}function nS(){var t=0,i=0,r=0,s=0,n=!1;if("undefined"!=typeof window){var a=nh(),o=a.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{t=parseInt(o[1]),i=parseInt(o[2]),r=parseInt(o[3]),s=parseInt(o[4]),n=a.indexOf("OPR/")>-1}catch(t){}}return{major:t,minor:i,build:r,patch:s,opera:n}}function nw(){return!!nh().match(/iPad|iPhone|iPod/i)&&nu()}function nC(){return nh().indexOf("AppleWebKit/605.1.15")>-1}function nE(){var t=0,i=0,r=0;if("undefined"!=typeof window){var s=nh().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(s)try{t=parseInt(s[1]),i=parseInt(s[2]),r=parseInt(s[4])}catch(t){}else(nw()||nC())&&(t=14,i=0,r=3)}return{major:t,minor:i,point:r}}function nx(){var t=0,i=0;if("undefined"!=typeof window){var r=nh().match(/Firefox\/(\d+).(\d+)/);if(r)try{t=parseInt(r[1]),i=parseInt(r[2])}catch(t){}}return{major:t,minor:i}}var nT=function(){function t(){c(this,t)}return f(t,[{key:"addListenerForMessagesFromCallMachine",value:function(t,i,r){ta()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,i,r){ta()}},{key:"sendMessageToCallMachine",value:function(t,i,r,s){ta()}},{key:"sendMessageToDailyJs",value:function(t,i){ta()}},{key:"removeListener",value:function(t){ta()}}]),t}();function nA(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function nP(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?nA(Object(r),!0).forEach(function(i){_(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function nM(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,s=b(t);return r=i?Reflect.construct(s,arguments,b(this).constructor):s.apply(this,arguments),v(this,r)}}var nD=function(){y(i,nT);var t=nM(i);function i(){var r;return c(this,i),(r=t.call(this))._wrappedListeners={},r._messageCallbacks={},r}return f(i,[{key:"addListenerForMessagesFromCallMachine",value:function(t,i,r){var s=this,n=function(n){if(n.data&&"iframe-call-message"===n.data.what&&(!n.data.callClientId||n.data.callClientId===i)&&(!n.data.from||"module"!==n.data.from)){var a=nP({},n.data);if(delete a.from,a.callbackStamp&&s._messageCallbacks[a.callbackStamp]){var o=a.callbackStamp;s._messageCallbacks[o].call(r,a),delete s._messageCallbacks[o]}delete a.what,delete a.callbackStamp,t.call(r,a)}};this._wrappedListeners[t]=n,window.addEventListener("message",n)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,i,r){var s=function(s){var n;if(!(!s.data||s.data.what!==s7||!s.data.action||s.data.from&&"module"!==s.data.from||s.data.callClientId&&i&&s.data.callClientId!==i||null!=s&&null!=(n=s.data)&&n.callFrameId)){var a=s.data;t.call(r,a)}};this._wrappedListeners[t]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(t,i,r,s){if(!r)throw Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var n=nP({},t);if(n.what=s7,n.from="module",n.callClientId=r,i){var a=tn();this._messageCallbacks[a]=i,n.callbackStamp=a}var o=s?s.contentWindow:window,l=this._callMachineTargetOrigin(s);l&&o.postMessage(n,l)}},{key:"sendMessageToDailyJs",value:function(t,i){t.what=s7,t.callClientId=i,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var i=this._wrappedListeners[t];i&&(window.removeEventListener("message",i),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,i,r){var s=nP({},t);s.callClientId=r;var n=i?i.contentWindow:window,a=this._callMachineTargetOrigin(i);a&&n.postMessage(s,a)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,i){var r=function(r){!r.data||"iframe-call-message"!==r.data.what||r.data.callClientId&&r.data.callClientId!==i||r.data.from&&"module"===r.data.from||t(r.data)};return this._wrappedListeners[t]=r,window.addEventListener("message",r),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var i=this._wrappedListeners[t];i&&(window.removeEventListener("message",i),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return"file:"===window.location.protocol?"*":window.location.origin}}]),i}();function nI(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function nL(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,s=b(t);return r=i?Reflect.construct(s,arguments,b(this).constructor):s.apply(this,arguments),v(this,r)}}var nO=function(){y(i,nT);var t=nL(i);function i(){var r;return c(this,i),r=t.call(this),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new T.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new T.EventEmitter,r._wrappedListeners={},r._messageCallbacks={},r}return f(i,[{key:"addListenerForMessagesFromCallMachine",value:function(t,i,r){this._addListener(t,global.callMachineToDailyJsEmitter,i,r,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,i,r){this._addListener(t,global.dailyJsToCallMachineEmitter,i,r,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,i,r){this._sendMessage(t,global.dailyJsToCallMachineEmitter,r,i,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,i){this._sendMessage(t,global.callMachineToDailyJsEmitter,i,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var i=this._wrappedListeners[t];i&&(global.callMachineToDailyJsEmitter.removeListener("message",i),global.dailyJsToCallMachineEmitter.removeListener("message",i),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,i,r,s,n){var a=this,o=function(i){if(i.callClientId===r){if(i.callbackStamp&&a._messageCallbacks[i.callbackStamp]){var n=i.callbackStamp;a._messageCallbacks[n].call(s,i),delete a._messageCallbacks[n]}t.call(s,i)}};this._wrappedListeners[t]=o,i.addListener("message",o)}},{key:"_sendMessage",value:function(t,i,r,s,n){var a=function(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?nI(Object(r),!0).forEach(function(i){_(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}({},t);if(a.callClientId=r,s){var o=tn();this._messageCallbacks[o]=s,a.callbackStamp=o}i.emit("message",a)}}]),i}(),nF="replace",nR="shallow-merge",nj=[nF,nR],nN=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.data,s=i.mergeStrategy,n=void 0===s?nF:s;c(this,t),t._validateMergeStrategy(n),t._validateData(r,n),this.mergeStrategy=n,this.data=r}return f(t,[{key:"isNoOp",value:function(){return t.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,i){return 0===Object.keys(t).length&&i===nR}},{key:"_validateMergeStrategy",value:function(t){if(!nj.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(nj,"]"))}},{key:"_validateData",value:function(t,i){if(!function(t){if(null==t||"object"!==u(t))return!1;var i=Object.getPrototypeOf(t);return null==i||i===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");try{if(r=JSON.stringify(t),i===nF){var r,s=JSON.parse(r);J(s,t)||console.warn("The meeting session data provided will be modified when serialized.",s,t)}else if(i===nR){for(var n in t)if(Object.hasOwnProperty.call(t,n)&&void 0!==t[n]){var a=JSON.parse(JSON.stringify(t[n]));J(t[n],a)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",a,t[n])}}}catch(t){throw Error("Meeting session data must be serializable to JSON: ".concat(t))}if(r.length>s6)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(s6,"."))}}]),t}();function nV(t,i,r){return(nV=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}()?function(t,i,r){var s=[null];s.push.apply(s,i);var n=new(Function.bind.apply(t,s));return r&&g(n,r.prototype),n}:Reflect.construct.bind()).apply(null,arguments)}function nB(t){var i="function"==typeof Map?new Map:void 0;return(nB=function(t){var r;if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;if("function"!=typeof t)throw TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,s)}function s(){return nV(t,arguments,b(this).constructor)}return s.prototype=Object.create(t.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),g(s,t)})(t)}function nq(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,s=b(t);return r=i?Reflect.construct(s,arguments,b(this).constructor):s.apply(this,arguments),v(this,r)}}function nz(t){var i,r=null==(i=window._daily)?void 0:i.pendings;if(r){var s=r.indexOf(t);-1!==s&&r.splice(s,1)}}var nG=function(){function t(i){c(this,t),this._currentLoad=null,this._callClientId=i}return f(t,[{key:"load",value:function(){var t,i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void s(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new nU(r,function(){s(!1)},function(t,r){r||nz(i._callClientId),n(t,r)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),nz(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),t}(),nU=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;c(this,t),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=i,this._successCallback=r,this._failureCallback=s}return f(t,[{key:"start",value:function(){var t=this;this._currentAttempt||(this._currentAttempt=new nW(this._dailyConfig,this._successCallback,function i(r){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(r,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout(function(){t._currentAttempt.cancelled||(t._currentAttempt=new nW(t._dailyConfig,t._successCallback,i),t._currentAttempt.start())},3e3))}),this._currentAttempt.start())}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),t}(),nJ=function(){y(i,nB(Error));var t=nq(i);function i(){return c(this,i),t.apply(this,arguments)}return f(i)}(),n$=2e4,nW=function(){var t;function i(t,r,s){c(this,i),this._loadAttemptImpl=nc()||!t.avoidEval?new nY(t,r,s):new nH(t,r,s)}return f(i,[{key:"start",value:(t=S(function*(){return this._loadAttemptImpl.start()}),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),i}(),nY=function(){var t,i,r,s;function n(t,i,r){c(this,n),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache="undefined"!=typeof iOSCallObjectBundleCache&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=t,this._successCallback=i,this._failureCallback=r}return f(n,[{key:"start",value:(s=S(function*(){var t=tl(this._dailyConfig);(yield this._tryLoadFromIOSCache(t))||this._loadFromNetwork(t)}),function(){return s.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=S(function*(t){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(t);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch(t){return!1}}),function(t){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(i=S(function*(t){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(n$," ms) when loading call object bundle ").concat(t),type:"timeout"})},n$);try{var r=this._refetchHeaders?{headers:this._refetchHeaders}:{},s=yield fetch(t,r);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new nJ;var n=yield this._getBundleCodeFromResponse(t,s);if(this.cancelled)throw new nJ;Function('"use strict";'+n)(),this._iosCache&&this._iosCache.set(t,n,s.headers),this.succeeded=!0,this._successCallback()}catch(i){if(clearTimeout(this._networkTimeout),i instanceof nJ||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(t,": ").concat(i),type:i.message})}}),function(t){return i.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=S(function*(t,i){if(i.ok)return yield i.text();if(this._iosCache&&304===i.status)return(yield this._iosCache.renew(t,i.headers)).code;throw Error("Received ".concat(i.status," response"))}),function(i,r){return t.apply(this,arguments)})}]),n}(),nH=function(){function t(i,r,s){c(this,t),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=i,this._successCallback=r,this._failureCallback=s,this._attemptId=tn(),this._networkTimeout=null,this._scriptElement=null}return f(t,[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=tl(this._dailyConfig);"object"===("undefined"==typeof document?"undefined":u(document))?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var i=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){i._stopLoading(),i._failureCallback({msg:"Timed out (>".concat(n$," ms) when loading call object bundle ").concat(t),type:"timeout"})},n$);var r=document.getElementsByTagName("head")[0],s=document.createElement("script");this._scriptElement=s,s.onload=function(){i._stopLoading(),i.succeeded=!0,i._successCallback()},s.onerror=function(t){i._stopLoading(),i._failureCallback({msg:"Failed to load call object bundle ".concat(t.target.src),type:t.message})},s.src=t,r.appendChild(s)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),t}(),nK=function(t,i,r){return!0===nZ(t.local,i,r)},nQ=function(t,i,r){return t.local.streams&&t.local.streams[i]&&t.local.streams[i].stream&&t.local.streams[i].stream["get".concat("video"===r?"Video":"Audio","Tracks")]()[0]},nX=function(t,i,r,s){var n=n0(t,i,r,s);return n&&n.pendingTrack},nZ=function(t,i,r){if(!t)return!1;var s=function(t){switch(t){case"avatar":return!0;case"staged":return t;default:return!!t}},n=t.public.subscribedTracks;return n&&n[i]?s(-1===["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)&&n[i].custom?[!0,"staged"].includes(n[i].custom)?n[i].custom:n[i].custom[r]:n[i][r]):!n||s(n.ALL)},n0=function(t,i,r,s){var n=Object.values(t.streams||{}).filter(function(t){return t.participantId===i&&t.type===r&&t.pendingTrack&&t.pendingTrack.kind===s}).sort(function(t,i){return new Date(i.starttime)-new Date(t.starttime)});return n&&n[0]},n1=function(t,i){var r=t.local.public.customTracks;if(r&&r[i])return r[i].track};function n2(t,i){for(var r=i.getState(),s=0,n=["cam","screen"];s<n.length;s++)for(var a=n[s],o=0,l=["video","audio"];o<l.length;o++){var h=l[o],c="cam"===a?h:"screen".concat(h.charAt(0).toUpperCase()+h.slice(1)),u=t.tracks[c];if(u){var p=t.local?nQ(r,a,h):nX(r,t.session_id,a,h);"playable"===u.state&&(u.track=p),u.persistentTrack=p}}}function n3(t,i){try{var r=i.getState();for(var s in t.tracks)if(!n5(s)){var n=t.tracks[s].kind;if(n){var a=t.tracks[s];if(a){var o=t.local?n1(r,s):nX(r,t.session_id,s,n);"playable"===a.state&&(t.tracks[s].track=o),a.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(t){console.error(t)}}function n5(t){return["video","audio","screenVideo","screenAudio"].includes(t)}function n4(t,i,r){var s=r.getState();if(t.local){if(t.audio)try{t.audioTrack=s.local.streams.cam.stream.getAudioTracks()[0],t.audioTrack||(t.audio=!1)}catch(t){}if(t.video)try{t.videoTrack=s.local.streams.cam.stream.getVideoTracks()[0],t.videoTrack||(t.video=!1)}catch(t){}if(t.screen)try{t.screenVideoTrack=s.local.streams.screen.stream.getVideoTracks()[0],t.screenAudioTrack=s.local.streams.screen.stream.getAudioTracks()[0],t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(t){}}else{var n=!0;try{var a=s.participants[t.session_id];a&&a.public&&a.public.rtcType&&"peer-to-peer"===a.public.rtcType.impl&&a.private&&!["connected","completed"].includes(a.private.peeringState)&&(n=!1)}catch(t){console.error(t)}if(!n)return t.audio=!1,t.audioTrack=!1,t.video=!1,t.videoTrack=!1,t.screen=!1,void(t.screenTrack=!1);try{if(s.streams,t.audio&&nK(s,t.session_id,"cam-audio")){var o=nX(s,t.session_id,"cam","audio");o&&(i&&i.audioTrack&&i.audioTrack.id===o.id?t.audioTrack=o:o.muted||(t.audioTrack=o)),t.audioTrack||(t.audio=!1)}if(t.video&&nK(s,t.session_id,"cam-video")){var l=nX(s,t.session_id,"cam","video");l&&(i&&i.videoTrack&&i.videoTrack.id===l.id?t.videoTrack=l:l.muted||(t.videoTrack=l)),t.videoTrack||(t.video=!1)}if(t.screen&&nK(s,t.session_id,"screen-audio")){var h=nX(s,t.session_id,"screen","audio");h&&(i&&i.screenAudioTrack&&i.screenAudioTrack.id===h.id?t.screenAudioTrack=h:h.muted||(t.screenAudioTrack=h))}if(t.screen&&nK(s,t.session_id,"screen-video")){var c=nX(s,t.session_id,"screen","video");c&&(i&&i.screenVideoTrack&&i.screenVideoTrack.id===c.id?t.screenVideoTrack=c:c.muted||(t.screenVideoTrack=c))}t.screenVideoTrack||t.screenAudioTrack||(t.screen=!1)}catch(t){console.error("unexpected error matching up tracks",t)}}}function n6(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return n7(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n7(t,void 0)}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function n7(t,i){(null==i||i>t.length)&&(i=t.length);for(var r=0,s=Array(i);r<i;r++)s[r]=t[r];return s}var n9=new Map,n8=null;function at(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return ae(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ae(t,void 0)}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function ae(t,i){(null==i||i>t.length)&&(i=t.length);for(var r=0,s=Array(i);r<i;r++)s[r]=t[r];return s}var ai=new Map,ar=null;function as(t){aa()?function(t){n9.has(t)||(n9.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(i){n9.has(t)&&(n9.get(t).lastDevicesString=JSON.stringify(i),n8||(n8=function(){var t=S(function*(){var t,i=yield navigator.mediaDevices.enumerateDevices(),r=n6(n9.keys());try{for(r.s();!(t=r.n()).done;){var s=t.value,n=JSON.stringify(i);n!==n9.get(s).lastDevicesString&&(n9.get(s).lastDevicesString=n,s(i))}}catch(t){r.e(t)}finally{r.f()}});return function(){return t.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",n8)))}).catch(function(){}))}(t):function(t){ai.has(t)||(ai.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(i){ai.has(t)&&(ai.get(t).lastDevicesString=JSON.stringify(i),ar||(ar=setInterval(S(function*(){var t,i=yield navigator.mediaDevices.enumerateDevices(),r=at(ai.keys());try{for(r.s();!(t=r.n()).done;){var s=t.value,n=JSON.stringify(i);n!==ai.get(s).lastDevicesString&&(ai.get(s).lastDevicesString=n,s(i))}}catch(t){r.e(t)}finally{r.f()}}),3e3)))}))}(t)}function an(t){aa()?function(t){n9.has(t)&&(n9.delete(t),0===n9.size&&n8&&(navigator.mediaDevices.removeEventListener("devicechange",n8),n8=null))}(t):function(t){ai.has(t)&&(ai.delete(t),0===ai.size&&ar&&(clearInterval(ar),ar=null))}(t)}function aa(){var t;return nc()||void 0!==(null==(t=navigator.mediaDevices)?void 0:t.ondevicechange)}var ao=new Set;function al(t,i){var r=i.isLocalScreenVideo;return t&&"live"===t.readyState&&!function(t,i){return(!i.isLocalScreenVideo||"Chrome"!==n_())&&t.muted&&!ao.has(t.id)}(t,{isLocalScreenVideo:r})}var ah=["result"],ac=["preserveIframe"];function au(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function ap(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?au(Object(r),!0).forEach(function(i){_(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):au(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function ad(t){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,s=b(t);return r=i?Reflect.construct(s,arguments,b(this).constructor):s.apply(this,arguments),v(this,r)}}function af(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(t){if("string"==typeof t)return am(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return am(t,void 0)}}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function am(t,i){(null==i||i>t.length)&&(i=t.length);for(var r=0,s=Array(i);r<i;r++)s[r]=t[r];return s}var ag={},ay="video",av="voice",ab=nc()?{data:{}}:{data:{},topology:"none"},a_={present:0,hidden:0},ak={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},aS=Object.keys(ak),aw=["state","volume","simulcastEncodings"],aC={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},aE={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},ax={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},aT={customIntegrations:{validate:aQ,help:aH()},customTrayButtons:{validate:aK,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(aE))},url:{validate:function(t){return"string"==typeof t},help:"url should be a string"},baseUrl:{validate:function(t){return"string"==typeof t},help:"baseUrl should be a string"},token:{validate:function(t){return"string"==typeof t},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(t,i){try{return i.validateDailyConfig(t),!0}catch(t){console.error("Failed to validate dailyConfig",t)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(t){return aX(t,aC)},help:"reactNativeConfig should look like ".concat(JSON.stringify(aC),", all fields optional")},lang:{validate:function(t){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(t)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(t){try{return aB(t),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(t,i){var r;if("boolean"==typeof t)return i._preloadCache.allowLocalVideo=t,!0;if(t instanceof MediaStreamTrack)i._sharedTracks.videoTrack=t,r={customTrack:ne};else{if(delete i._sharedTracks.videoTrack,"string"!=typeof t)return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return i._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(t,i){var r;if("boolean"==typeof t)return i._preloadCache.allowLocalAudio=t,!0;if(t instanceof MediaStreamTrack)i._sharedTracks.audioTrack=t,r={customTrack:ne};else{if(delete i._sharedTracks.audioTrack,"string"!=typeof t)return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:t}}return i._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(t,i){return i._preloadCache.subscribeToTracksAutomatically=t,!0}},theme:{validate:function(t){var i=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(t){for(var r=0,s=Object.keys(t);r<s.length;r++){var n=s[r];if(!i.includes(n))return console.error('unsupported color "'.concat(n,'". Valid colors: ').concat(i.join(", "))),!1;if(!t[n].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(n,' theme color should be provided in valid hex color format. Received: "').concat(t[n],'"')),!1}return!0};return"object"===u(t)&&("light"in t&&"dark"in t||"colors"in t)?"light"in t&&"dark"in t?"colors"in t.light?"colors"in t.dark?r(t.light.colors)&&r(t.dark.colors):(console.error('Dark theme is missing "colors" property.',t),!1):(console.error('Light theme is missing "colors" property.',t),!1):r(t.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',t),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(t){if("grid"in t){var i=t.grid;if("maxTilesPerPage"in i){if(!Number.isInteger(i.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(i.maxTilesPerPage,".")),!1;if(i.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in i){if(!Number.isInteger(i.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(i.minTilesPerPage,".")),!1;if(i.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in i&&i.minTilesPerPage>i.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(t){return aq(t,{allowAllParticipantsKey:!1})},help:aY({allowAllParticipantsKey:!1})},sendSettings:{validate:function(t,i){return!!function(t,i){try{return i.validateUpdateSendSettings(t),!0}catch(t){return console.error("Failed to validate send settings",t),!1}}(t,i)&&(i._preloadCache.sendSettings=t,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(t,i){var r;return!!az(t)&&(i._inputSettings||(i._inputSettings={}),aG(t,null==(r=i.properties)?void 0:r.dailyConfig,i._sharedTracks),i._updatePreloadCacheInputSettings(t,!0),!0)},help:aW()},layout:{validate:function(t){return"custom-v1"===t||"browser"===t||"none"===t},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},aA={styles:{validate:function(t){for(var i in t)if("cam"!==i&&"screen"!==i)return!1;if(t.cam){for(var r in t.cam)if("div"!==r&&"video"!==r)return!1}if(t.screen){for(var s in t.screen)if("div"!==s&&"video"!==s)return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(t,i){if(i._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(t)||!nc()&&"avatar"===t)return!0;var s=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"];return function t(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var a in i)if("custom"===a){if(!r.includes(i[a])&&!t(i[a],!0))return!1}else{var o=!n&&!s.includes(a),l=!r.includes(i[a]);if(o||l)return!1}return!0}(t)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(nc()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(t){return!1===t},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(t){for(var i=0,r=Object.entries(t);i<r.length;i++){var s=C(r[i],2),n=s[0],a=s[1];switch(n){case"hasPresence":if("boolean"!=typeof a)return!1;break;case"canSend":if(a instanceof Set||a instanceof Array||Array.isArray(a)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],h=af(a);try{for(h.s();!(o=h.n()).done;){var c=o.value;if(!l.includes(c))return!1}}catch(t){h.e(t)}finally{h.f()}}else if("boolean"!=typeof a)return!1;(a instanceof Array||Array.isArray(a))&&(t.canSend=new Set(a));break;case"canAdmin":if(a instanceof Set||a instanceof Array||Array.isArray(a)){var u,p=["participants","streaming","transcription"],d=af(a);try{for(d.s();!(u=d.n()).done;){var f=u.value;if(!p.includes(f))return!1}}catch(t){d.e(t)}finally{d.f()}}else if("boolean"!=typeof a)return!1;(a instanceof Array||Array.isArray(a))&&(t.canAdmin=new Set(a));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var t=S(function*(t){return new Promise(function(i,r){var s=[];t.forEach(function(n){return Promise.resolve(n).then(function(t){i(t)}).catch(function(i){s.push(i),s.length===t.length&&r(s)})})})});return function(i){return t.apply(this,arguments)}}());var aP=function(){y(Q,T);var t,i,r,s,n,a,o,l,p,d,g,v,b,k,w,E,x,A,P,M,D,I,L,O,F,R,j,N,V,B,q,z,G,U,$,W,Y,H,K=ad(Q);function Q(t){var i,r,s,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(c(this,Q),_(m(r=K.call(this)),"startListeningForDeviceChanges",function(){as(r.handleDeviceChange)}),_(m(r),"stopListeningForDeviceChanges",function(){an(r.handleDeviceChange)}),_(m(r),"handleDeviceChange",function(t){t=t.map(function(t){return JSON.parse(JSON.stringify(t))}),r.emitDailyJSEvent({action:"available-devices-updated",availableDevices:t})}),_(m(r),"handleNativeAppStateChange",function(){var t=S(function*(t){if("destroyed"===t)return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield r.destroy());var i="active"===t;r.disableReactNativeAutoDeviceManagement("video")||(i?r.camUnmutedBeforeLosingNativeActiveState&&r.setLocalVideo(!0):(r.camUnmutedBeforeLosingNativeActiveState=r.localVideo(),r.camUnmutedBeforeLosingNativeActiveState&&r.setLocalVideo(!1)))});return function(i){return t.apply(this,arguments)}}()),_(m(r),"handleNativeAudioFocusChange",function(t){r.disableReactNativeAutoDeviceManagement("audio")||(r._hasNativeAudioFocus=t,r.toggleParticipantAudioBasedOnNativeAudioFocus(),r._hasNativeAudioFocus?r.micUnmutedBeforeLosingNativeAudioFocus&&r.setLocalAudio(!0):(r.micUnmutedBeforeLosingNativeAudioFocus=r.localAudio(),r.setLocalAudio(!1)))}),_(m(r),"handleNativeSystemScreenCaptureStop",function(){r.stopScreenShare()}),r.strictMode=void 0===n.strictMode||n.strictMode,r.allowMultipleCallInstances=null!=(i=n.allowMultipleCallInstances)&&i,Object.keys(ag).length&&(r._logDuplicateInstanceAttempt(),!r.allowMultipleCallInstances)){if(r.strictMode)throw Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),r.callClientId=tn(),ag[(s=m(r)).callClientId]=s,window._daily.instances[r.callClientId]={},r._sharedTracks={},window._daily.instances[r.callClientId].tracks=r._sharedTracks,n.dailyJsVersion=Q.version(),r._iframe=t,r._callObjectMode="none"===n.layout&&!r._iframe,r._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},void 0!==n.showLocalVideo?r._callObjectMode?console.error("showLocalVideo is not available in call object mode"):r._showLocalVideo=!!n.showLocalVideo:r._showLocalVideo=!0,void 0!==n.showParticipantsBar?r._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):r._showParticipantsBar=!!n.showParticipantsBar:r._showParticipantsBar=!0,void 0!==n.customIntegrations?r._callObjectMode?console.error("customIntegrations is not available in call object mode"):r._customIntegrations=n.customIntegrations:r._customIntegrations={},void 0!==n.customTrayButtons?r._callObjectMode?console.error("customTrayButtons is not available in call object mode"):r._customTrayButtons=n.customTrayButtons:r._customTrayButtons={},void 0!==n.activeSpeakerMode?r._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):r._activeSpeakerMode=!!n.activeSpeakerMode:r._activeSpeakerMode=!1,n.receiveSettings?r._callObjectMode?r._receiveSettings=n.receiveSettings:console.error("receiveSettings is only available in call object mode"):r._receiveSettings={},r.validateProperties(n),r.properties=ap({},n),r._inputSettings||(r._inputSettings={}),r._callObjectLoader=r._callObjectMode?new nG(r.callClientId):null,r._callState=rA,r._isPreparingToJoin=!1,r._accessState={access:rq},r._meetingSessionSummary={},r._finalSummaryOfPrevSession={},r._meetingSessionState=a2(ab,r._callObjectMode),r._nativeInCallAudioMode=ay,r._participants={},r._isScreenSharing=!1,r._participantCounts=a_,r._rmpPlayerState={},r._waitingParticipants={},r._network={threshold:"good",quality:100},r._activeSpeaker={},r._localAudioLevel=0,r._isLocalAudioLevelObserverRunning=!1,r._remoteParticipantsAudioLevel={},r._isRemoteParticipantsAudioLevelObserverRunning=!1,r._maxAppMessageSize=s4,r._messageChannel=nc()?new nO:new nD,r._iframe&&(r._iframe.requestFullscreen?r._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===r._iframe?(r.emitDailyJSEvent({action:sY}),r.sendMessageToCallMachine({action:sY})):(r.emitDailyJSEvent({action:sH}),r.sendMessageToCallMachine({action:sH}))}):r._iframe.webkitRequestFullscreen&&r._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===r._iframe?(r.emitDailyJSEvent({action:sY}),r.sendMessageToCallMachine({action:sY})):(r.emitDailyJSEvent({action:sH}),r.sendMessageToCallMachine({action:sH}))})),nc()){var a=r.nativeUtils();a.addAudioFocusChangeListener&&a.removeAudioFocusChangeListener&&a.addAppStateChangeListener&&a.removeAppStateChangeListener&&a.addSystemScreenCaptureStopListener&&a.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),r._hasNativeAudioFocus=!0,a.addAudioFocusChangeListener(r.handleNativeAudioFocusChange),a.addAppStateChangeListener(r.handleNativeAppStateChange),a.addSystemScreenCaptureStopListener(r.handleNativeSystemScreenCaptureStop)}return r._callObjectMode&&r.startListeningForDeviceChanges(),r._messageChannel.addListenerForMessagesFromCallMachine(r.handleMessageFromCallMachine,r.callClientId,m(r)),r}return f(Q,[{key:"destroy",value:(H=S(function*(){try{yield this.leave()}catch(t){}var t,i,r=this._iframe;if(r){var s=r.parentElement;s&&s.removeChild(r)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),nc()){var n=this.nativeUtils();n.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),n.removeAppStateChangeListener(this.handleNativeAppStateChange),n.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete ag[this.callClientId],(null==(t=window)||null==(i=t._daily)?void 0:i.instances)&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return H.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(t){var i=t.bodyClass,r=t.cssFile,s=t.cssText;return aN(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(r),bodyClass:i,cssText:s}),this}},{key:"iframe",value:function(){return aN(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return aR(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return aR(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(t,i){for(var r in i){if(!aA[r])throw Error("unrecognized updateParticipant property ".concat(r));if(aA[r].validate&&!aA[r].validate(i[r],this,this._participants[t]))throw Error(aA[r].help)}}},{key:"updateParticipant",value:function(t,i){return this._participants.local&&this._participants.local.session_id===t&&(t="local"),t&&i&&(this.validateParticipantProperties(t,i),this.sendMessageToCallMachine({action:"update-participant",id:t,properties:i})),this}},{key:"updateParticipants",value:function(t){var i=this._participants.local&&this._participants.local.session_id;for(var r in t)r===i&&(r="local"),r&&t[r]&&this.validateParticipantProperties(r,t[r]);return this.sendMessageToCallMachine({action:"update-participants",participants:t}),this}},{key:"updateWaitingParticipant",value:(Y=S(function*(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(aR(this._callObjectMode,"updateWaitingParticipant()"),aD(this._callState,"updateWaitingParticipant()"),"string"!=typeof i||"object"!==u(r))throw Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(s,n){t.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:i,updates:r},function(t){t.error&&n(t.error),t.id||n(Error("unknown error in updateWaitingParticipant()")),s({id:t.id})})})}),function(){return Y.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(W=S(function*(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(aR(this._callObjectMode,"updateWaitingParticipants()"),aD(this._callState,"updateWaitingParticipants()"),"object"!==u(i))throw Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(r,s){t.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:i},function(t){t.error&&s(t.error),t.ids||s(Error("unknown error in updateWaitingParticipants()")),r({ids:t.ids})})})}),function(){return W.apply(this,arguments)})},{key:"requestAccess",value:($=S(function*(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.access,s=void 0===r?{level:rz}:r,n=i.name,a=void 0===n?"":n;return aR(this._callObjectMode,"requestAccess()"),aD(this._callState,"requestAccess()"),new Promise(function(i,r){t.sendMessageToCallMachine({action:"daily-method-request-access",access:s,name:a},function(t){t.error&&r(t.error),t.access||r(Error("unknown error in requestAccess()")),i({access:t.access,granted:t.granted})})})}),function(){return $.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"forceDiscardTrack"in i&&(nc()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),i={}):t&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),i={})),this.sendMessageToCallMachine({action:"local-audio",state:t,options:i}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(t){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:t}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(t){return this.sendMessageToCallMachine({action:"local-video",state:t}),this}},{key:"_setAllowLocalAudio",value:function(t){if(this._preloadCache.allowLocalAudio=t,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:t}),this}},{key:"_setAllowLocalVideo",value:function(t){if(this._preloadCache.allowLocalVideo=t,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:t}),this}},{key:"getReceiveSettings",value:(U=S(function*(t){var i=this,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).showInheritedValues,s=void 0!==r&&r;if(aR(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(u(t)){case"string":return new Promise(function(r){i.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:t,showInheritedValues:s},function(t){r(t.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(t){return U.apply(this,arguments)})},{key:"updateReceiveSettings",value:(G=S(function*(t){var i=this;if(aR(this._callObjectMode,"updateReceiveSettings()"),!aq(t,{allowAllParticipantsKey:!0}))throw Error(aY({allowAllParticipantsKey:!0}));return aD(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(r){i.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:t},function(t){r({receiveSettings:t.receiveSettings})})})}),function(t){return G.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(t,i){if(t){var r={};if(t.audio){t.audio.settings&&(!Object.keys(t.audio.settings).length&&i||(r.audio={settings:ap({},t.audio.settings)})),i&&null!=(s=r.audio)&&null!=(n=s.settings)&&n.customTrack&&(r.audio.settings={customTrack:this._sharedTracks.audioTrack});var s,n,a,o,l="none"===(null==(a=t.audio.processor)?void 0:a.type)&&(null==(o=t.audio.processor)?void 0:o._isDefaultWhenNone);if(t.audio.processor&&!l){var h=ap({},t.audio.processor);delete h._isDefaultWhenNone,r.audio=ap(ap({},r.audio),{},{processor:h})}}if(t.video){t.video.settings&&(!Object.keys(t.video.settings).length&&i||(r.video={settings:ap({},t.video.settings)})),i&&null!=(c=r.video)&&null!=(u=c.settings)&&u.customTrack&&(r.video.settings={customTrack:this._sharedTracks.videoTrack});var c,u,p,d,f="none"===(null==(p=t.video.processor)?void 0:p.type)&&(null==(d=t.video.processor)?void 0:d._isDefaultWhenNone);if(t.video.processor&&!f){var m=ap({},t.video.processor);delete m._isDefaultWhenNone,r.video=ap(ap({},r.video),{},{processor:m})}}return r}}},{key:"getInputSettings",value:function(){var t=this;return aN(),new Promise(function(i){i(t._getInputSettings())})}},{key:"_getInputSettings",value:function(){var t,i,r,s,n,a,o,l,h={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(t=(null==(r=this._inputSettings)?void 0:r.video)||h,i=(null==(s=this._inputSettings)?void 0:s.audio)||h):(t=(null==(n=this._preloadCache)||null==(a=n.inputSettings)?void 0:a.video)||h,i=(null==(o=this._preloadCache)||null==(l=o.inputSettings)?void 0:l.audio)||h);var c={audio:i,video:t};return this._prepInputSettingsForSharing(c,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(t,i){var r,s,n,a,o,l,h=this._inputSettings||{},c={};t.video?((c.video={},t.video.settings)?(c.video.settings={},i||t.video.settings.customTrack||null==(n=h.video)||!n.settings?c.video.settings=t.video.settings:c.video.settings=ap(ap({},h.video.settings),t.video.settings),Object.keys(c.video.settings).length||delete c.video.settings):null!=(r=h.video)&&r.settings&&(c.video.settings=h.video.settings),t.video.processor?c.video.processor=t.video.processor:null!=(s=h.video)&&s.processor&&(c.video.processor=h.video.processor)):h.video&&(c.video=h.video),t.audio?((c.audio={},t.audio.settings)?(c.audio.settings={},i||t.audio.settings.customTrack||null==(l=h.audio)||!l.settings?c.audio.settings=t.audio.settings:c.audio.settings=ap(ap({},h.audio.settings),t.audio.settings),Object.keys(c.audio.settings).length||delete c.audio.settings):null!=(a=h.audio)&&a.settings&&(c.audio.settings=h.audio.settings),t.audio.processor?c.audio.processor=t.audio.processor:null!=(o=h.audio)&&o.processor&&(c.audio.processor=h.audio.processor)):h.audio&&(c.audio=h.audio),this._maybeUpdateInputSettings(c)}},{key:"_devicesFromInputSettings",value:function(t){var i,r,s,n,a=(null==t||null==(i=t.video)||null==(r=i.settings)?void 0:r.deviceId)||null,o=(null==t||null==(s=t.audio)||null==(n=s.settings)?void 0:n.deviceId)||null,l=this._preloadCache.outputDeviceId||null;return{camera:a?{deviceId:a}:{},mic:o?{deviceId:o}:{},speaker:l?{deviceId:l}:{}}}},{key:"updateInputSettings",value:(z=S(function*(t){var i=this;return aN(),az(t)?t.video||t.audio?(aG(t,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(t,!0),this._getInputSettings()):new Promise(function(r,s){i.sendMessageToCallMachine({action:"update-input-settings",inputSettings:t},function(n){if(n.error)s(n.error);else{if(n.returnPreloadCache)return i._updatePreloadCacheInputSettings(t,!0),void r(i._getInputSettings());i._maybeUpdateInputSettings(n.inputSettings),r(i._prepInputSettingsForSharing(n.inputSettings,!0))}})})):this._getInputSettings():(console.error(aW()),Promise.reject(aW()))}),function(t){return z.apply(this,arguments)})},{key:"setBandwidth",value:function(t){var i=t.kbs,r=t.trackConstraints;if(aN(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:i,trackConstraints:r}),this}},{key:"getDailyLang",value:function(){var t=this;if(aN(),this._callMachineInitialized)return new Promise(function(i){t.sendMessageToCallMachine({action:"get-daily-lang"},function(t){delete t.action,delete t.callbackStamp,i(t)})})}},{key:"setDailyLang",value:function(t){return aN(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:t}),this}},{key:"setProxyUrl",value:function(t){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:t}),this}},{key:"setIceConfig",value:function(t){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:t}),this}},{key:"meetingSessionSummary",value:function(){return[rL,rO].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(q=S(function*(){var t=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),aD(this._callState,"getMeetingSession()"),new Promise(function(i){t.sendMessageToCallMachine({action:"get-meeting-session"},function(t){delete t.action,delete t.callbackStamp,i(t)})})}),function(){return q.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return aD(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";aR(this._callObjectMode,"setMeetingSessionData()"),aD(this._callState,"setMeetingSessionData");try{!function(t,i){new nN({data:t,mergeStrategy:i})}(t,i)}catch(t){throw console.error(t),t}try{this.sendMessageToCallMachine({action:"set-session-data",data:t,mergeStrategy:i})}catch(t){throw Error("Error setting meeting session data: ".concat(t))}}},{key:"setUserName",value:function(t,i){var r=this;return this.properties.userName=t,new Promise(function(s){r.sendMessageToCallMachine({action:"set-user-name",name:null!=t?t:"",thisMeetingOnly:nc()||!!i&&!!i.thisMeetingOnly},function(t){delete t.action,delete t.callbackStamp,s(t)})})}},{key:"setUserData",value:(B=S(function*(t){var i=this;try{aB(t)}catch(t){throw console.error(t),t}if(this.properties.userData=t,this._callMachineInitialized)return new Promise(function(r){try{i.sendMessageToCallMachine({action:"set-user-data",userData:t},function(t){delete t.action,delete t.callbackStamp,r(t)})}catch(t){throw Error("Error setting user data: ".concat(t))}})}),function(t){return B.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(t){if(t&&(t<100||"number"!=typeof t))throw Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(t){var i=this;if("undefined"==typeof AudioWorkletNode&&!nc())throw Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(t),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(r,s){i.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:t},function(t){i._isLocalAudioLevelObserverRunning=!t.error,t.error?s({error:t.error}):r()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:t}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(t){var i=this;if(this.validateAudioLevelInterval(t),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(r,s){i.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:t},function(t){i._isRemoteParticipantsAudioLevelObserverRunning=!t.error,t.error?s({error:t.error}):r()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:t}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(V=S(function*(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(aR(this._callObjectMode,"startCamera()"),aL(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(i)}catch(t){return Promise.reject(t)}else{if(this._didPreAuth){if(i.url&&i.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(i.token&&i.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(i),this.properties=ap(ap({},this.properties),i)}return new Promise(function(i){t._preloadCache.inputSettings=t._prepInputSettingsForSharing(t._inputSettings,!1),t.sendMessageToCallMachine({action:"start-camera",properties:aM(t.properties,t.callClientId),preloadCache:aM(t._preloadCache,t.callClientId)},function(t){i({camera:t.camera,mic:t.mic,speaker:t.speaker})})})}),function(){return V.apply(this,arguments)})},{key:"validateCustomTrack",value:function(t,i,r){if(r&&r.length>50)throw Error("Custom track `trackName` must not be more than 50 characters");if(i&&"music"!==i&&"speech"!==i&&!(i instanceof Object))throw Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(r&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(r))throw Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(t instanceof MediaStreamTrack))throw Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:track,mode:mode,trackName:trackName};return aN(),aD(this._callState,"startCustomTrack()"),this.validateCustomTrack(i.track,i.mode,i.trackName),new Promise(function(r,s){t._sharedTracks.customTrack=i.track,i.track=ne,t.sendMessageToCallMachine({action:"start-custom-track",properties:i},function(t){t.error?s({error:t.error}):r(t.mediaTag)})})}},{key:"stopCustomTrack",value:function(t){var i=this;return aN(),aD(this._callState,"stopCustomTrack()"),new Promise(function(r){i.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:t},function(t){r(t.mediaTag)})})}},{key:"setCamera",value:function(t){var i=this;return aV(),aO(this._callMachineInitialized,"setCamera()"),new Promise(function(r){i.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:t},function(t){r({device:t.device})})})}},{key:"setAudioDevice",value:(N=S(function*(t){return aV(),this.nativeUtils().setAudioDevice(t),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(t){return N.apply(this,arguments)})},{key:"cycleCamera",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(r){t.sendMessageToCallMachine({action:"cycle-camera",properties:i},function(t){r({device:t.device})})})}},{key:"cycleMic",value:function(){var t=this;return aN(),new Promise(function(i){t.sendMessageToCallMachine({action:"cycle-mic"},function(t){i({device:t.device})})})}},{key:"getCameraFacingMode",value:function(){var t=this;return aV(),new Promise(function(i){t.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(t){i(t.facingMode)})})}},{key:"setInputDevicesAsync",value:(j=S(function*(t){var i=this,r=t.audioDeviceId,s=t.videoDeviceId,n=t.audioSource,a=t.videoSource;if(aN(),void 0!==n&&(r=n),void 0!==a&&(s=a),"boolean"==typeof r&&(this._setAllowLocalAudio(r),r=void 0),"boolean"==typeof s&&(this._setAllowLocalVideo(s),s=void 0),!r&&!s)return yield this.getInputDevices();var o={};return r&&(r instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=r,o.audio={settings:{customTrack:r=ne}}):(delete this._sharedTracks.audioTrack,o.audio={settings:{deviceId:r}})),s&&(s instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=s,o.video={settings:{customTrack:s=ne}}):(delete this._sharedTracks.videoTrack,o.video={settings:{deviceId:s}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(o,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(t){i.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:r,videoDeviceId:s},function(r){if(delete r.action,delete r.callbackStamp,r.returnPreloadCache)return i._updatePreloadCacheInputSettings(o,!1),void t(i._devicesFromInputSettings(i._inputSettings));t(r)})})}),function(t){return j.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(R=S(function*(t){var i=this,r=t.outputDeviceId;return aN(),r&&(this._preloadCache.outputDeviceId=r),this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(t){i.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:r},function(r){delete r.action,delete r.callbackStamp,r.returnPreloadCache?t(i._devicesFromInputSettings(i._inputSettings)):t(r)})})}),function(t){return R.apply(this,arguments)})},{key:"getInputDevices",value:(F=S(function*(){var t=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(i){t.sendMessageToCallMachine({action:"get-input-devices"},function(r){r.returnPreloadCache?i(t._devicesFromInputSettings(t._inputSettings)):i({camera:r.camera,mic:r.mic,speaker:r.speaker})})})}),function(){return F.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return aV(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(t){if(aV(),[ay,av].includes(t)){if(t!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=t,!this.disableReactNativeAutoDeviceManagement("audio")&&aI(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",t)}},{key:"preAuth",value:(O=S(function*(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(aR(this._callObjectMode,"preAuth()"),aL(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(i)),!i.url)throw Error("preAuth() requires at least a url to be provided");return this.validateProperties(i),this.properties=ap(ap({},this.properties),i),new Promise(function(i,r){t._preloadCache.inputSettings=t._prepInputSettingsForSharing(t._inputSettings,!1),t.sendMessageToCallMachine({action:"daily-method-preauth",properties:aM(t.properties,t.callClientId),preloadCache:aM(t._preloadCache,t.callClientId)},function(s){return s.error?r(s.error):s.access?(t._didPreAuth=!0,void i({access:s.access})):r(Error("unknown error in preAuth()"))})})}),function(){return O.apply(this,arguments)})},{key:"load",value:(L=S(function*(t){var i=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw Error("Use after destroy");if(t&&(this.validateProperties(t),this.properties=ap(ap({},this.properties),t)),!this._callObjectMode&&!this.properties.url)throw Error("can't load iframe meeting because url property isn't set");return this._updateCallState(rP),this.emitDailyJSEvent({action:ss}),this._callObjectMode?new Promise(function(t,r){i._callObjectLoader.cancel();var s=Date.now();i._callObjectLoader.load(i.properties.dailyConfig,function(r){i._bundleLoadTime=r?"no-op":Date.now()-s,i._updateCallState(rM),r&&i.emitDailyJSEvent({action:sa}),t()},function(t,s){if(i.emitDailyJSEvent({action:sn}),!s){i._updateCallState(rO),i.resetMeetingDependentVars();var n={action:s5,errorMsg:t.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:t,bundleUrl:tl(i.properties.dailyConfig)}}};i._maybeSendToSentry(n),i.emitDailyJSEvent(n),r(t.msg)}})}):(this._iframe.src=to(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(t,r){i._loadedCallback=function(s){i._callState!==rO?(i._updateCallState(rM),(i.properties.cssFile||i.properties.cssText)&&i.loadCss(i.properties),t()):r(s)}}))}}),function(t){return L.apply(this,arguments)})},{key:"join",value:(I=S(function*(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var r=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(i)}catch(t){return this.updateIsPreparingToJoin(!1),Promise.reject(t)}}else{if(r=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(i.url&&i.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(i.token&&i.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(i.url&&!this._callObjectMode&&i.url&&i.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(i.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(i),this.properties=ap(ap({},this.properties),i)}return void 0!==i.showLocalVideo&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!i.showLocalVideo),void 0!==i.showParticipantsBar&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!i.showParticipantsBar),this._callState===rI||this._callState===rD?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(rD,!1),this.emitDailyJSEvent({action:sh}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:aM(this.properties,this.callClientId),preloadCache:aM(this._preloadCache,this.callClientId)}),new Promise(function(i,s){t._joinedCallback=function(n,a){if(t._callState!==rO){if(t._updateCallState(rI),n)for(var o in n){if(t._callObjectMode){var l=t._callMachine().store;n2(n[o],l),n3(n[o],l),n4(n[o],t._participants[o],l)}t._participants[o]=ap({},n[o]),t.toggleParticipantAudioBasedOnNativeAudioFocus()}r&&t.loadCss(t.properties),i(n)}else s(a)}}))}),function(){return I.apply(this,arguments)})},{key:"leave",value:(D=S(function*(){var t=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(i){t._callState===rL||t._callState===rO?i():t._callObjectLoader&&!t._callObjectLoader.loaded?(t._callObjectLoader.cancel(),t._updateCallState(rL),t.resetMeetingDependentVars(),t.emitDailyJSEvent({action:rL}),i()):(t._resolveLeave=i,t.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return D.apply(this,arguments)})},{key:"startScreenShare",value:(M=S(function*(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(aO(this._callMachineInitialized,"startScreenShare()"),i.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",i.screenVideoSendSettings),i.mediaStream&&(this._sharedTracks.screenMediaStream=i.mediaStream,i.mediaStream=ne),"undefined"!=typeof DailyNativeUtils&&void 0!==DailyNativeUtils.isIOS&&DailyNativeUtils.isIOS){var r=this.nativeUtils();if(yield r.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:s3,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});r.setSystemScreenCaptureStartCallback(function(){r.setSystemScreenCaptureStartCallback(null),t.sendMessageToCallMachine({action:s9,captureOptions:i})}),r.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:s9,captureOptions:i})}),function(){return M.apply(this,arguments)})},{key:"stopScreenShare",value:function(){aO(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.type;if(i&&"cloud"!==i&&"raw-tracks"!==i&&"local"!==i)throw Error("invalid type: ".concat(i,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(ap({action:"local-recording-start"},t))}},{key:"updateRecording",value:function(t){var i=t.layout,r=void 0===i?{preset:"default"}:i,s=t.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:r,instanceId:s})}},{key:"stopRecording",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(ap({action:"local-recording-stop"},t))}},{key:"startLiveStreaming",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(ap({action:"daily-method-start-live-streaming"},t))}},{key:"updateLiveStreaming",value:function(t){var i=t.layout,r=void 0===i?{preset:"default"}:i,s=t.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:r,instanceId:s})}},{key:"addLiveStreamingEndpoints",value:function(t){var i=t.endpoints,r=t.instanceId;this.sendMessageToCallMachine({action:s8,endpointsOp:na,endpoints:i,instanceId:r})}},{key:"removeLiveStreamingEndpoints",value:function(t){var i=t.endpoints,r=t.instanceId;this.sendMessageToCallMachine({action:s8,endpointsOp:no,endpoints:i,instanceId:r})}},{key:"stopLiveStreaming",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(ap({action:"daily-method-stop-live-streaming"},t))}},{key:"validateDailyConfig",value:function(t){t.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(t.camSimulcastEncodings)),t.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),nv()&&t.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){if(!(t instanceof Array||Array.isArray(t)))throw Error("encodings must be an Array");if(!a1(t.length,1,3))throw Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var s=0;s<t.length;s++){var n=t[s];for(var a in this._validateEncodingLayerHasValidProperties(n),n)if(aS.includes(a)){if("number"!=typeof n[a])throw Error("".concat(a," must be a number"));if(i){var o=i[a],l=o.min,h=o.max;if(!a1(n[a],l,h))throw Error("".concat(a," value not in range. valid range: ").concat(l," to ").concat(h))}}else if(!["active","scalabilityMode"].includes(a))throw Error("Invalid key ".concat(a,", valid keys are:")+Object.values(aS));if(r&&!n.hasOwnProperty("maxBitrate"))throw Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(P=S(function*(t){var i=this,r=t.url,s=t.settings,n=void 0===s?{state:ns.PLAY}:s;try{!function(t){if("string"!=typeof t)throw Error('url parameter must be "string" type')}(r),a0(n),function(t){for(var i in t)if(!aw.includes(i))throw Error("Invalid key ".concat(i,", valid keys are: ").concat(aw));t.simulcastEncodings&&this.validateSimulcastEncodings(t.simulcastEncodings,ak,!0)}(n)}catch(t){throw console.error("invalid argument Error: ".concat(t)),console.error('startRemoteMediaPlayer arguments must be of the form:\n  { url: "playback url",\n  settings?:\n  {state: "play"|"pause", simulcastEncodings?: [{}] } }'),t}return new Promise(function(t,s){i.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:r,settings:n},function(i){i.error?s({error:i.error,errorMsg:i.errorMsg}):t({session_id:i.session_id,remoteMediaPlayerState:{state:i.state,settings:i.settings}})})})}),function(t){return P.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(A=S(function*(t){var i=this;if("string"!=typeof t)throw Error(" remotePlayerID must be of type string");return new Promise(function(r,s){i.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:t},function(t){t.error?s({error:t.error,errorMsg:t.errorMsg}):r()})})}),function(t){return A.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(x=S(function*(t){var i=this,r=t.session_id,s=t.settings;try{a0(s)}catch(t){throw console.error("invalid argument Error: ".concat(t)),console.error('updateRemoteMediaPlayer arguments must be of the form:\n  session_id: "participant session",\n  { settings?: {state: "play"|"pause"} }'),t}return new Promise(function(t,n){i.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:r,settings:s},function(i){i.error?n({error:i.error,errorMsg:i.errorMsg}):t({session_id:i.session_id,remoteMediaPlayerState:{state:i.state,settings:i.settings}})})})}),function(t){return x.apply(this,arguments)})},{key:"startTranscription",value:function(t){aD(this._callState,"startTranscription()"),this.sendMessageToCallMachine(ap({action:"daily-method-start-transcription"},t))}},{key:"updateTranscription",value:function(t){if(aD(this._callState,"updateTranscription()"),!t)throw Error("updateTranscription Error: options is mandatory");if("object"!==u(t))throw Error("updateTranscription Error: options must be object type");if(t.participants&&!Array.isArray(t.participants))throw Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(ap({action:"daily-method-update-transcription"},t))}},{key:"stopTranscription",value:function(t){if(aD(this._callState,"stopTranscription()"),t&&"object"!==u(t))throw Error("stopTranscription Error: options must be object type");if(t&&!t.instanceId)throw Error('"instanceId" not provided');this.sendMessageToCallMachine(ap({action:"daily-method-stop-transcription"},t))}},{key:"startDialOut",value:(E=S(function*(t){var i=this;aD(this._callState,"startDialOut()");var r=function(t){if(t){if(!Array.isArray(t))throw Error("Error starting dial out: audio codec must be an array");if(t.length<=0)throw Error("Error starting dial out: audio codec array specified but empty");t.forEach(function(t){if("string"!=typeof t)throw Error("Error starting dial out: audio codec must be a string");if("OPUS"!==t&&"PCMU"!==t&&"PCMA"!==t&&"G722"!==t)throw Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!t.sipUri&&!t.phoneNumber)throw Error("Error starting dial out: either a sip uri or phone number must be provided");if(t.sipUri&&t.phoneNumber)throw Error("Error starting dial out: only one of sip uri or phone number must be provided");if(t.sipUri){if("string"!=typeof t.sipUri)throw Error("Error starting dial out: sipUri must be a string");if(!t.sipUri.startsWith("sip:"))throw Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(t.video&&"boolean"!=typeof t.video)throw Error("Error starting dial out: video must be a boolean value");!function(t){if(t&&(r(t.audio),t.video)){if(!Array.isArray(t.video))throw Error("Error starting dial out: video codec must be an array");if(t.video.length<=0)throw Error("Error starting dial out: video codec array specified but empty");t.video.forEach(function(t){if("string"!=typeof t)throw Error("Error starting dial out: video codec must be a string");if("H264"!==t&&"VP8"!==t)throw Error("Error starting dial out: video codec must be H264 or VP8")})}}(t.codecs)}if(t.phoneNumber){if("string"!=typeof t.phoneNumber)throw Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(t.phoneNumber))throw Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");t.codecs&&r(t.codecs.audio)}if(t.callerId){if("string"!=typeof t.callerId)throw Error("Error starting dial out: callerId must be a string");if(t.sipUri)throw Error("Error starting dial out: callerId not allowed with sipUri")}if(t.displayName){if("string"!=typeof t.displayName)throw Error("Error starting dial out: displayName must be a string");if(t.displayName.length>=200)throw Error("Error starting dial out: displayName length must be less than 200")}if(t.userId){if("string"!=typeof t.userId)throw Error("Error starting dial out: userId must be a string");if(t.userId.length>36)throw Error("Error starting dial out: userId length must be less than or equal to 36")}return new Promise(function(r,s){i.sendMessageToCallMachine(ap({action:"dialout-start"},t),function(t){t.error?s(t.error):r(t)})})}),function(t){return E.apply(this,arguments)})},{key:"stopDialOut",value:function(t){var i=this;return aD(this._callState,"stopDialOut()"),new Promise(function(r,s){i.sendMessageToCallMachine(ap({action:"dialout-stop"},t),function(t){t.error?s(t.error):r(t)})})}},{key:"sipCallTransfer",value:(w=S(function*(t){var i=this;if(aD(this._callState,"sipCallTransfer()"),!t)throw Error("sipCallTransfer() requires a sessionId and toEndPoint");return t.useSipRefer=!1,aZ(t,"sipCallTransfer"),new Promise(function(r,s){i.sendMessageToCallMachine(ap({action:nl},t),function(t){t.error?s(t.error):r(t)})})}),function(t){return w.apply(this,arguments)})},{key:"sipRefer",value:(k=S(function*(t){var i=this;if(aD(this._callState,"sipRefer()"),!t)throw Error("sessionId and toEndPoint are mandatory parameter");return t.useSipRefer=!0,aZ(t,"sipRefer"),new Promise(function(r,s){i.sendMessageToCallMachine(ap({action:nl},t),function(t){t.error?s(t.error):r(t)})})}),function(t){return k.apply(this,arguments)})},{key:"sendDTMF",value:(b=S(function*(t){var i=this;return aD(this._callState,"sendDTMF()"),function(t){var i=t.sessionId,r=t.tones;if(!i||!r)throw Error("sessionId and tones are mandatory parameter");if("string"!=typeof i||"string"!=typeof r)throw Error("sessionId and tones should be of string type");if(r.length>20)throw Error("tones string must be upto 20 characters");var s=/[^0-9A-D*#]/g,n=r.match(s);if(n&&n[0])throw Error("".concat(n[0]," is not valid DTMF tone"))}(t),new Promise(function(r,s){i.sendMessageToCallMachine(ap({action:"send-dtmf"},t),function(t){t.error?s(t.error):r(t)})})}),function(t){return b.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var t=this;return this._callState!==rI?{stats:{latest:{}}}:new Promise(function(i){t.sendMessageToCallMachine({action:"get-calc-stats"},function(r){i(ap({stats:r.stats},t._network))})})}},{key:"testWebsocketConnectivity",value:(v=S(function*(){var t=this;if(aF(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(t){return Promise.reject(t)}return new Promise(function(i,r){t.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(t){t.error?r(t.error):i(t.results)})})}),function(){return v.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(t){return t?t instanceof MediaStreamTrack?!!al(t,{isLocalScreenVideo:!1})||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(g=S(function*(){var t=this;aN(),aR(this._callObjectMode,"testCallQuality()"),aO(this._callMachineInitialized,"testCallQuality()",null,!0),aL(this._callState,this._isPreparingToJoin,"testCallQuality()");var i=this._testCallAlreadyInProgress,r=function(r){i||(t._testCallInProgress=r)};if(r(!0),this.needsLoad())try{var s=this._callState;yield this.load(),this._callState=s}catch(t){return r(!1),Promise.reject(t)}return new Promise(function(i){t.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:t.properties.dailyJsVersion},function(s){var n=s.results,a=n.result,o=h(n,ah);if("failed"===a){var l,c=ap({},o);null!=(l=o.error)&&l.details?(o.error.details=JSON.parse(o.error.details),c.error=ap(ap({},c.error),{},{details:ap({},c.error.details)}),c.error.details.duringTest="testCallQuality"):(c.error=c.error?ap({},c.error):{},c.error.details={duringTest:"testCallQuality"}),t._maybeSendToSentry(c)}r(!1),i(ap({result:a},o))})})}),function(){return g.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=S(function*(t){nc()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),i=yield this.testPeerToPeerCallQuality(t)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),i=yield this.testCallQuality());var i,r={result:i.result,secondsElapsed:i.secondsElapsed};return i.data&&(r.data={maxRTT:i.data.maxRoundTripTime,packetLoss:i.data.avgRecvPacketLoss}),r}),function(t){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(p=S(function*(t){var i=this;if(aF(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(t){return Promise.reject(t)}var r=t.videoTrack,s=t.duration;if(!this._validateVideoTrackForNetworkTests(r))throw Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=r,new Promise(function(t,r){i.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:s},function(i){i.error?r(i.error):t(i.results)})})}),function(t){return p.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){nc()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(l=S(function*(t){var i=this;if(aF(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(t){return Promise.reject(t)}if(!this._validateVideoTrackForNetworkTests(t))throw Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=t,new Promise(function(t,r){i.sendMessageToCallMachine({action:"test-network-connectivity"},function(i){i.error?r(i.error):t(i.results)})})}),function(t){return l.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var t=this;return new Promise(function(i){t._callState===rI?t.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(t){i(t.cpuStats)}):i({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(t){var i;if(!((null==(i=Object.keys(t))?void 0:i.length)>0))throw Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(aS))}},{key:"_validateVideoSendSettings",value:function(t,i){var r="screenVideo"===t?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],s="Video send settings should be either an object or one of the supported presets: ".concat(r.join());if("string"==typeof i){if(!r.includes(i))throw Error(s)}else{if("object"!==u(i))throw Error(s);if(!i.maxQuality&&!i.encodings&&void 0===i.allowAdaptiveLayers)throw Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(i.maxQuality&&-1===["low","medium","high"].indexOf(i.maxQuality))throw Error("maxQuality must be either low, medium or high");if(i.encodings){var n=!1;switch(Object.keys(i.encodings).length){case 1:n=!i.encodings.low;break;case 2:n=!i.encodings.low||!i.encodings.medium;break;case 3:n=!i.encodings.low||!i.encodings.medium||!i.encodings.high;break;default:n=!0}if(n)throw Error("Encodings must be defined as: low, low and medium, or low, medium and high.");i.encodings.low&&this._validateEncodingLayerHasValidProperties(i.encodings.low),i.encodings.medium&&this._validateEncodingLayerHasValidProperties(i.encodings.medium),i.encodings.high&&this._validateEncodingLayerHasValidProperties(i.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(t){var i=this;if(!t||0===Object.keys(t).length)throw Error("Send settings must contain at least information for one track!");Object.entries(t).forEach(function(t){var r=C(t,2),s=r[0],n=r[1];i._validateVideoSendSettings(s,n)})}},{key:"updateSendSettings",value:function(t){var i=this;return this.validateUpdateSendSettings(t),this.needsLoad()?(this._preloadCache.sendSettings=t,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(r,s){i.sendMessageToCallMachine({action:"update-send-settings",sendSettings:t},function(t){t.error?s(t.error):r(t.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return aN(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(t){return aN(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:t}),this}},{key:"activeSpeakerMode",value:function(){return aN(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(t){return aD(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=t,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:t}),this}},{key:"enumerateDevices",value:(o=S(function*(){var t=this;if(this._callObjectMode){var i=yield navigator.mediaDevices.enumerateDevices();return"Firefox"===n_()&&nk().major>115&&nk().major<123&&(i=i.filter(function(t){return"audiooutput"!==t.kind})),{devices:i.map(function(t){var i=JSON.parse(JSON.stringify(t));if(!nc()&&"videoinput"===t.kind&&t.getCapabilities){var r,s=t.getCapabilities();i.facing=(null==s||null==(r=s.facingMode)?void 0:r.length)>=1?s.facingMode[0]:void 0}return i})}}return new Promise(function(i){t.sendMessageToCallMachine({action:"enumerate-devices"},function(t){i({devices:t.devices})})})}),function(){return o.apply(this,arguments)})},{key:"sendAppMessage",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";if(aD(this._callState,"sendAppMessage()"),JSON.stringify(t).length>this._maxAppMessageSize)throw Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:t,to:i}),this}},{key:"addFakeParticipant",value:function(t){return aN(),aD(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(ap({action:"add-fake-participant"},t)),this}},{key:"setShowNamesMode",value:function(t){return aj(this._callObjectMode,"setShowNamesMode()"),aN(),t&&"always"!==t&&"never"!==t?console.error('setShowNamesMode argument should be "always", "never", or false'):this.sendMessageToCallMachine({action:"set-show-names",mode:t}),this}},{key:"setShowLocalVideo",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return aj(this._callObjectMode,"setShowLocalVideo()"),aN(),aD(this._callState,"setShowLocalVideo()"),"boolean"!=typeof t?console.error("setShowLocalVideo only accepts a boolean value"):(this.sendMessageToCallMachine({action:"set-show-local-video",show:t}),this._showLocalVideo=t),this}},{key:"showLocalVideo",value:function(){return aj(this._callObjectMode,"showLocalVideo()"),aN(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return aj(this._callObjectMode,"setShowParticipantsBar()"),aN(),aD(this._callState,"setShowParticipantsBar()"),"boolean"!=typeof t?console.error("setShowParticipantsBar only accepts a boolean value"):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:t}),this._showParticipantsBar=t),this}},{key:"showParticipantsBar",value:function(){return aj(this._callObjectMode,"showParticipantsBar()"),aN(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return aN(),aj(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(t){return aN(),aj(this._callObjectMode,"setCustomIntegrations()"),aD(this._callState,"setCustomIntegrations()"),aQ(t)&&(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:t}),this._customIntegrations=t),this}},{key:"startCustomIntegrations",value:function(t){var i=this;if(aN(),aj(this._callObjectMode,"startCustomIntegrations()"),aD(this._callState,"startCustomIntegrations()"),Array.isArray(t)&&t.some(function(t){return"string"!=typeof t})||!Array.isArray(t)&&"string"!=typeof t)return console.error("startCustomIntegrations() only accepts string | string[]"),this;var r="string"==typeof t?[t]:t,s=r.filter(function(t){return!(t in i._customIntegrations)});return s.length?console.error("Can't find custom integration(s): \"".concat(s.join(", "),'"')):this.sendMessageToCallMachine({action:"start-custom-integrations",ids:r}),this}},{key:"stopCustomIntegrations",value:function(t){var i=this;if(aN(),aj(this._callObjectMode,"stopCustomIntegrations()"),aD(this._callState,"stopCustomIntegrations()"),Array.isArray(t)&&t.some(function(t){return"string"!=typeof t})||!Array.isArray(t)&&"string"!=typeof t)return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var r="string"==typeof t?[t]:t,s=r.filter(function(t){return!(t in i._customIntegrations)});return s.length?console.error("Can't find custom integration(s): \"".concat(s.join(", "),'"')):this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:r}),this}},{key:"customTrayButtons",value:function(){return aj(this._callObjectMode,"customTrayButtons()"),aN(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(t){return aj(this._callObjectMode,"updateCustomTrayButtons()"),aN(),aD(this._callState,"updateCustomTrayButtons()"),aK(t)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:t}),this._customTrayButtons=t):console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(aE))),this}},{key:"theme",value:function(){return aj(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(t){var i=this;return aj(this._callObjectMode,"setTheme()"),new Promise(function(r,s){try{i.validateProperties({theme:t}),i.properties.theme=ap({},t),i.sendMessageToCallMachine({action:"set-theme",theme:i.properties.theme});try{i.emitDailyJSEvent({action:sr,theme:i.properties.theme})}catch(t){console.log("could not emit 'theme-updated'",t)}r(i.properties.theme)}catch(t){s(t)}})}},{key:"requestFullscreen",value:(a=S(function*(){if(aN(),this._iframe&&!document.fullscreenElement&&nd())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(t){console.log("could not make video call fullscreen",t)}}),function(){return a.apply(this,arguments)})},{key:"exitFullscreen",value:function(){aN(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(n=S(function*(){var t=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(i){t.sendMessageToCallMachine({action:"get-sidebar-view"},function(t){i(t.view)})})}),function(){return n.apply(this,arguments)})},{key:"setSidebarView",value:function(t){return this._callObjectMode?console.error("setSidebarView is not available in callObject mode"):this.sendMessageToCallMachine({action:"set-sidebar-view",view:t}),this}},{key:"room",value:(s=S(function*(){var t=this,i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeRoomConfigDefaults,r=void 0===i||i;return this._accessState.access===rq||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(i){t.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:r},function(t){delete t.action,delete t.callbackStamp,i(t)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(r=S(function*(){try{var t=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield t.json()).geo}}catch(t){return console.error("geo lookup failed",t),{current:""}}}),function(){return r.apply(this,arguments)})},{key:"setNetworkTopology",value:(i=S(function*(t){var i=this;return aN(),aD(this._callState,"setNetworkTopology()"),new Promise(function(r,s){i.sendMessageToCallMachine({action:"set-network-topology",opts:t},function(t){t.error?s({error:t.error}):r({workerId:t.workerId})})})}),function(t){return i.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=S(function*(){var t=this;return new Promise(function(i,r){t.needsLoad()&&i({topology:"none"}),t.sendMessageToCallMachine({action:"get-network-topology"},function(t){t.error?r({error:t.error}):i({topology:t.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(t){if(aN(),"number"!=typeof t&&!0!==t&&!1!==t)throw Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(t));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:t})}},{key:"on",value:function(t,i){return T.prototype.on.call(this,t,i)}},{key:"once",value:function(t,i){return T.prototype.once.call(this,t,i)}},{key:"off",value:function(t,i){return T.prototype.off.call(this,t,i)}},{key:"validateProperties",value:function(t){var i,r;if(null!=t&&null!=(i=t.dailyConfig)&&i.userMediaAudioConstraints){nc()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var s,n,a,o=t.inputSettings||{};o.audio=(null==(s=t.inputSettings)?void 0:s.audio)||{},o.audio.settings=(null==(n=t.inputSettings)||null==(a=n.audio)?void 0:a.settings)||{},o.audio.settings=ap(ap({},o.audio.settings),t.dailyConfig.userMediaAudioConstraints),t.inputSettings=o,delete t.dailyConfig.userMediaAudioConstraints}if(null!=t&&null!=(r=t.dailyConfig)&&r.userMediaVideoConstraints){nc()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var l,h,c,u=t.inputSettings||{};u.video=(null==(l=t.inputSettings)?void 0:l.video)||{},u.video.settings=(null==(h=t.inputSettings)||null==(c=h.video)?void 0:c.settings)||{},u.video.settings=ap(ap({},u.video.settings),t.dailyConfig.userMediaVideoConstraints),t.inputSettings=u,delete t.dailyConfig.userMediaVideoConstraints}for(var p in t){if(!aT[p])throw Error("unrecognized property '".concat(p,"'"));if(aT[p].validate&&!aT[p].validate(t[p],this))throw Error("property '".concat(p,"': ").concat(aT[p].help))}}},{key:"assembleMeetingUrl",value:function(){var t,i,r=ap(ap({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:null!=(t=this.properties.dailyConfig)&&t.proxyUrl?encodeURIComponent(null==(i=this.properties.dailyConfig)?void 0:i.proxyUrl):void 0}),s=r.url.match(/\?/)?"&":"?";return r.url+s+Object.keys(aT).filter(function(t){return aT[t].queryString&&void 0!==r[t]}).map(function(t){return"".concat(aT[t].queryString,"=").concat(r[t])}).join("&")}},{key:"needsLoad",value:function(){return[rA,rP,rL,rO].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(t,i){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(t,i,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(t){this._messageChannel.forwardPackagedMessageToCallMachine(t,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(t,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(t)}},{key:"handleMessageFromCallMachine",value:function(t){switch(t.action){case se:this.sendMessageToCallMachine(ap({action:si},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var i={action:nt,level:"log",code:1011,stats:{event:"bundle load",time:"no-op"===this._bundleLoadTime?0:this._bundleLoadTime,preLoaded:"no-op"===this._bundleLoadTime,url:tl(this.properties.dailyConfig)}};this.sendMessageToCallMachine(i),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case sa:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(t);break;case sc:var r,s=ap({},t);delete s.internal,this._maxAppMessageSize=(null==(r=t.internal)?void 0:r._maxAppMessageSize)||s4,this._joinedCallback&&(this._joinedCallback(t.participants),this._joinedCallback=null),this.emitDailyJSEvent(s);break;case sp:case sd:if(this._callState===rL)return;if(t.participant&&t.participant.session_id){var n=t.participant.local?"local":t.participant.session_id;if(this._callObjectMode){var a=this._callMachine().store;n2(t.participant,a),n3(t.participant,a),n4(t.participant,this._participants[n],a)}try{this.maybeParticipantTracksStopped(this._participants[n],t.participant),this.maybeParticipantTracksStarted(this._participants[n],t.participant),this.maybeEventRecordingStopped(this._participants[n],t.participant),this.maybeEventRecordingStarted(this._participants[n],t.participant)}catch(t){console.error("track events error",t)}this.compareEqualForParticipantUpdateEvent(t.participant,this._participants[n])||(this._participants[n]=ap({},t.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(t))}break;case sf:if(t.participant&&t.participant.session_id){var o=this._participants[t.participant.session_id];o&&this.maybeParticipantTracksStopped(o,null),delete this._participants[t.participant.session_id],this.emitDailyJSEvent(t)}break;case sm:J(this._participantCounts,t.participantCounts)||(this._participantCounts=t.participantCounts,this.emitDailyJSEvent(t));break;case sg:var l={access:t.access};t.awaitingAccess&&(l.awaitingAccess=t.awaitingAccess),J(this._accessState,l)||(this._accessState=l,this.emitDailyJSEvent(t));break;case sy:if(t.meetingSession){this._meetingSessionSummary=t.meetingSession,this.emitDailyJSEvent(t);var c=ap(ap({},t),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(c)}break;case s5:this._iframe&&!t.preserveIframe&&(this._iframe.src=""),this._updateCallState(rO),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(t.errorMsg),this._loadedCallback=null),t.preserveIframe;var u,p=h(t,ac);null!=p&&null!=(u=p.error)&&u.details&&(p.error.details=JSON.parse(p.error.details)),this._maybeSendToSentry(t),this._joinedCallback&&(this._joinedCallback(null,p),this._joinedCallback=null),this.emitDailyJSEvent(p);break;case su:this._callState!==rO&&this._updateCallState(rL),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(t);break;case"selected-devices-updated":t.devices&&this.emitDailyJSEvent(t);break;case sU:var d=t.threshold,f=t.quality;d===this._network.threshold&&f===this._network.quality||(this._network.quality=f,this._network.threshold=d,this.emitDailyJSEvent(t));break;case s$:t&&t.cpuLoadState&&this.emitDailyJSEvent(t);break;case sW:t&&void 0!==t.faceCounts&&this.emitDailyJSEvent(t);break;case sz:var m=t.activeSpeaker;this._activeSpeaker.peerId!==m.peerId&&(this._activeSpeaker.peerId=m.peerId,this.emitDailyJSEvent({action:t.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var g=t.show;this._showLocalVideo=g,this.emitDailyJSEvent({action:t.action,show:g});break;case sG:var y=t.enabled;this._activeSpeakerMode!==y&&(this._activeSpeakerMode=y,this.emitDailyJSEvent({action:t.action,enabled:this._activeSpeakerMode}));break;case s_:case sk:case sS:this._waitingParticipants=t.allWaitingParticipants,this.emitDailyJSEvent({action:t.action,participant:t.participant});break;case s1:J(this._receiveSettings,t.receiveSettings)||(this._receiveSettings=t.receiveSettings,this.emitDailyJSEvent({action:t.action,receiveSettings:t.receiveSettings}));break;case s2:this._maybeUpdateInputSettings(t.inputSettings);break;case"send-settings-updated":J(this._sendSettings,t.sendSettings)||(this._sendSettings=t.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:t.action,sendSettings:t.sendSettings}));break;case"local-audio-level":this._localAudioLevel=t.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(t);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=t.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(t);break;case sR:var v=t.session_id;this._rmpPlayerState[v]=t.playerState,this.emitDailyJSEvent(t);break;case sN:delete this._rmpPlayerState[t.session_id],this.emitDailyJSEvent(t);break;case sj:var b=t.session_id,_=this._rmpPlayerState[b];_&&this.compareEqualForRMPUpdateEvent(_,t.remoteMediaPlayerState)||(this._rmpPlayerState[b]=t.remoteMediaPlayerState,this.emitDailyJSEvent(t));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(t);break;case sv:var k=this._meetingSessionState.topology!==(t.meetingSessionState&&t.meetingSessionState.topology);this._meetingSessionState=a2(t.meetingSessionState,this._callObjectMode),(this._callObjectMode||k)&&this.emitDailyJSEvent(t);break;case sV:this._isScreenSharing=!0,this.emitDailyJSEvent(t);break;case sB:case sq:this._isScreenSharing=!1,this.emitDailyJSEvent(t);break;case sA:case sP:case sM:case sD:case sI:case sE:case sx:case sT:case so:case sl:case sO:case sF:case"test-completed":case sJ:case sL:case sK:case sQ:case sX:case sZ:case s3:case s0:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(t);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(t,i){var r="record";t&&(i.local||!1!==i[r]||t[r]===i[r]||this.emitDailyJSEvent({action:sP}))}},{key:"maybeEventRecordingStarted",value:function(t,i){var r="record";t&&(i.local||!0!==i[r]||t[r]===i[r]||this.emitDailyJSEvent({action:sA}))}},{key:"_trackStatePlayable",value:function(t){return!(!t||t.state!==rB)}},{key:"_trackChanged",value:function(t,i){return(null==t?void 0:t.id)!==(null==i?void 0:i.id)}},{key:"maybeEventTrackStopped",value:function(t,i,r){var s,n,a=null!=(s=null==i?void 0:i.tracks[t])?s:null,o=null!=(n=null==r?void 0:r.tracks[t])?n:null,l=null==a?void 0:a.track;if(l){var h=this._trackStatePlayable(a),c=this._trackStatePlayable(o),u=this._trackChanged(l,null==o?void 0:o.track);h&&(c&&!u||this.emitDailyJSEvent({action:sC,track:l,participant:null!=r?r:i,type:t}))}}},{key:"maybeEventTrackStarted",value:function(t,i,r){var s,n,a=null!=(s=null==i?void 0:i.tracks[t])?s:null,o=null!=(n=null==r?void 0:r.tracks[t])?n:null,l=null==o?void 0:o.track;if(l){var h=this._trackStatePlayable(a),c=this._trackStatePlayable(o),u=this._trackChanged(null==a?void 0:a.track,l);c&&(h&&!u||this.emitDailyJSEvent({action:sw,track:l,participant:r,type:t}))}}},{key:"maybeParticipantTracksStopped",value:function(t,i){if(t)for(var r in t.tracks)this.maybeEventTrackStopped(r,t,i)}},{key:"maybeParticipantTracksStarted",value:function(t,i){if(i)for(var r in i.tracks)this.maybeEventTrackStarted(r,t,i)}},{key:"compareEqualForRMPUpdateEvent",value:function(t,i){var r,s;return t.state===i.state&&(null==(r=t.settings)?void 0:r.volume)===(null==(s=i.settings)?void 0:s.volume)}},{key:"emitDailyJSEvent",value:function(t){try{t.callClientId=this.callClientId,this.emit(t.action,t)}catch(i){console.log("could not emit",t,i)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(t,i){return!!J(t,i)&&(!t.videoTrack||!i.videoTrack||t.videoTrack.id===i.videoTrack.id&&t.videoTrack.muted===i.videoTrack.muted&&t.videoTrack.enabled===i.videoTrack.enabled)&&(!t.audioTrack||!i.audioTrack||t.audioTrack.id===i.audioTrack.id&&t.audioTrack.muted===i.audioTrack.muted&&t.audioTrack.enabled===i.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return nc()?"undefined"==typeof DailyNativeUtils?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(t){this._updateCallState(this._callState,t)}},{key:"_updateCallState",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isPreparingToJoin;if(t!==this._callState||i!==this._isPreparingToJoin){var r=this._callState,s=this._isPreparingToJoin;this._callState=t,this._isPreparingToJoin=i;var n=this._callState===rI;this.updateShowAndroidOngoingMeetingNotification(n);var a=aI(r,s),o=aI(this._callState,this._isPreparingToJoin);a!==o&&(this.updateKeepDeviceAwake(o),this.updateDeviceAudioMode(o),this.updateNoOpRecordingEnsuringBackgroundContinuity(o))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=a_,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:rq},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=a2(ab,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=s4,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(t){nc()&&this.nativeUtils().setKeepDeviceAwake(t,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(t){if(nc()&&!this.disableReactNativeAutoDeviceManagement("audio")){var i=t?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(i)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(t){if(nc()&&this.nativeUtils().setShowOngoingMeetingNotification){var i,r,s,n;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var a=this.properties.reactNativeConfig.androidInCallNotification;i=a.title,r=a.subtitle,s=a.iconName,n=a.disableForCustomOverride}n&&(t=!1),this.nativeUtils().setShowOngoingMeetingNotification(t,i,r,s,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(t){nc()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(t)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var t,i;if(nc()){var r=null==(t=this._callMachine())||null==(i=t.store)?void 0:i.getState();for(var s in null==r?void 0:r.streams){var n=r.streams[s];n&&n.pendingTrack&&"audio"===n.pendingTrack.kind&&(n.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(t){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[t]}},{key:"absoluteUrl",value:function(t){if(void 0!==t){var i=document.createElement("a");return i.href=t,i.href}}},{key:"sayHello",value:function(){var t="hello, world.";return console.log(t),t}},{key:"_logUseAfterDestroy",value:function(){var t=Object.values(ag)[0];if(this.needsLoad())if(t&&!t.needsLoad()){var i={action:nt,level:"error",code:this.strictMode?9995:9997};t.sendMessageToCallMachine(i)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var r={action:nt,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(r,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var t=0,i=Object.values(ag);t<i.length;t++){var r=i[t];r._callMachineInitialized?(r.sendMessageToCallMachine({action:nt,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),r._delayDuplicateInstanceLog=!1):r._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(t){if(!(null!=(s=t.error)&&s.type&&(![r2,r0,rX].includes(t.error.type)||t.error.type===rX&&t.error.msg.includes("deleted")))){var i=null!=(n=this.properties)&&n.url?new URL(this.properties.url):void 0,r="production";i&&i.host.includes(".staging.daily")&&(r="staging");var s,n,a,o,l,h,c,u,p,d,f,m=new i6({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:ra,stackParser:rd,integrations:[iB(),iN(),rv(),rg(),rw(),rT(),iz(),rx()].filter(function(t){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(t.name)}),environment:r}),g=new e3;if(g.setClient(m),m.init(),this.session_id&&g.setExtra("sessionId",this.session_id),this.properties){var y=ap({},this.properties);y.userName=y.userName?"[Filtered]":void 0,y.userData=y.userData?"[Filtered]":void 0,y.token=y.token?"[Filtered]":void 0,g.setExtra("properties",y)}if(i){var v=i.searchParams.get("domain");if(!v){var b=i.host.match(/(.*?)\./);v=b&&b[1]||""}v&&g.setTag("domain",v)}t.error&&(g.setTag("fatalErrorType",t.error.type),g.setExtra("errorDetails",t.error.details),(null==(c=t.error.details)?void 0:c.uri)&&g.setTag("serverAddress",t.error.details.uri),(null==(u=t.error.details)?void 0:u.workerGroup)&&g.setTag("workerGroup",t.error.details.workerGroup),(null==(p=t.error.details)?void 0:p.geoGroup)&&g.setTag("geoGroup",t.error.details.geoGroup),(null==(d=t.error.details)?void 0:d.on)&&g.setTag("connectionAttempt",t.error.details.on),null!=(f=t.error.details)&&f.bundleUrl&&(g.setTag("bundleUrl",t.error.details.bundleUrl),g.setTag("bundleError",t.error.details.sourceError.type))),g.setTags({callMode:this._callObjectMode?nc()?"reactNative":null!=(a=this.properties)&&null!=(o=a.dailyConfig)&&null!=(l=o.callMode)&&l.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:Q.version()});var _=(null==(h=t.error)?void 0:h.msg)||t.errorMsg;g.captureException(Error(_))}}},{key:"_callMachine",value:function(){var t,i,r;return null==(t=window._daily)||null==(i=t.instances)||null==(r=i[this.callClientId])?void 0:r.callMachine}},{key:"_maybeUpdateInputSettings",value:function(t){if(!J(this._inputSettings,t)){var i=this._getInputSettings();this._inputSettings=t;var r=this._getInputSettings();J(i,r)||this.emitDailyJSEvent({action:s2,inputSettings:r})}}}],[{key:"supportedBrowser",value:function(){if(nc())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var t=ts.getParser(nh());return{supported:!!ny(),mobile:"mobile"===t.getPlatformType(),name:t.getBrowserName(),version:t.getBrowserVersion(),supportsFullscreen:!!nd(),supportsScreenShare:!!np(),supportsSfu:!!ny(),supportsVideoProcessing:nm(),supportsAudioProcessing:ng()}}},{key:"version",value:function(){return"0.75.2"}},{key:"createCallObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.layout="none",new Q(null,t)}},{key:"wrap",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(aN(),!t||!t.contentWindow||"string"!=typeof t.src)throw Error("DailyIframe::Wrap needs an iframe-like first argument");return i.layout||(i.customLayout?i.layout="custom-v1":i.layout="browser"),new Q(t,i)}},{key:"createFrame",value:function(t,i){aN(),t&&i?(r=t,s=i):t&&t.append?(r=t,s={}):(r=document.body,s=t||{});var r,s,n=s.iframeStyle;n||(n=r===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var a=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?a.allow="microphone, camera":a.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",a.style.visibility="hidden",r.appendChild(a),a.style.visibility=null,Object.keys(n).forEach(function(t){return a.style[t]=n[t]}),s.layout||(s.customLayout?s.layout="custom-v1":s.layout="browser");try{return new Q(a,s)}catch(t){throw r.removeChild(a),t}}},{key:"createTransparentFrame",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};aN();var i=document.createElement("iframe");return i.allow="microphone; camera; autoplay",i.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      border: 0;\n      pointer-events: none;\n    ",document.body.appendChild(i),t.layout||(t.layout="custom-v1"),Q.wrap(i,t)}},{key:"getCallInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t?ag[t]:Object.values(ag)[0]}}]),Q}();function aM(t,i){var r={};for(var s in t)if(t[s]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",s),r[s]=ne;else if("dailyConfig"===s){if(t[s].modifyLocalSdpHook){var n=window._daily.instances[i].customCallbacks||{};n.modifyLocalSdpHook=t[s].modifyLocalSdpHook,window._daily.instances[i].customCallbacks=n,delete t[s].modifyLocalSdpHook}if(t[s].modifyRemoteSdpHook){var a=window._daily.instances[i].customCallbacks||{};a.modifyRemoteSdpHook=t[s].modifyRemoteSdpHook,window._daily.instances[i].customCallbacks=a,delete t[s].modifyRemoteSdpHook}r[s]=t[s]}else r[s]=t[s];return r}function aD(t){var i=arguments.length>2?arguments[2]:void 0;if(t!==rI){var r="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," only supported after join.");throw i&&(r+=" ".concat(i)),console.error(r),Error(r)}}function aI(t,i){return[rD,rI].includes(t)||i}function aL(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"This daily-js method",s=arguments.length>3?arguments[3]:void 0;if(aI(t,i)){var n="".concat(r," not supported after joining a meeting.");throw s&&(n+=" ".concat(s)),console.error(n),Error(n)}}function aO(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!t){var s="".concat(i,arguments.length>3&&void 0!==arguments[3]&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(s+=" ".concat(r)),console.error(s),Error(s)}}function aF(t){if(t){var i="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(i),Error(i)}}function aR(t){if(!t){var i="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(i),Error(i)}}function aj(t){if(t){var i="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(i),Error(i)}}function aN(){if(nc())throw Error("This daily-js method is not currently supported in React Native")}function aV(){if(!nc())throw Error("This daily-js method is only supported in React Native")}function aB(t){var i;if(void 0===t)return!0;if("string"==typeof t)i=t;else try{i=JSON.stringify(t),J(JSON.parse(i),t)||console.warn("The userData provided will be modified when serialized.")}catch(t){throw Error("userData must be serializable to JSON: ".concat(t))}if(i.length>4096)throw Error("userData is too large (".concat(i.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function aq(t,i){for(var r=i.allowAllParticipantsKey,s=function(t){var i=["local"];return r||i.push("*"),t&&!i.includes(t)},n=function(t){return!!(void 0===t.layer||Number.isInteger(t.layer)&&t.layer>=0||"inherit"===t.layer)},a=function(t){return!!t&&!(t.video&&!n(t.video))&&!(t.screenVideo&&!n(t.screenVideo))},o=0,l=Object.entries(t);o<l.length;o++){var h=C(l[o],2),c=h[0],u=h[1];if(!s(c)||!a(u))return!1}return!0}function az(t){if("object"!==u(t))return!1;for(var i=0,r=Object.entries(t);i<r.length;i++){var s=C(r[i],2),n=s[0],a=s[1];switch(n){case"video":if("object"!==u(a))return!1;for(var o=0,l=Object.entries(a);o<l.length;o++){var h=C(l[o],2),c=h[0],p=h[1];switch(c){case"processor":if(!aJ(p))return!1;break;case"settings":if(!a$(p))return!1;break;default:return!1}}break;case"audio":if("object"!==u(a))return!1;for(var d=0,f=Object.entries(a);d<f.length;d++){var m=C(f[d],2),g=m[0],y=m[1];switch(g){case"processor":if(!aU(y))return!1;break;case"settings":if(!a$(y))return!1;break;default:return!1}}break;default:return!1}}return!0}function aG(t,i,r){var s,n=[];t.video&&t.video.processor&&(nm(null!=(s=null==i?void 0:i.useLegacyVideoProcessor)&&s)||(t.video.settings?delete t.video.processor:delete t.video,n.push("video"))),t.audio&&t.audio.processor&&(ng()||(t.audio.settings?delete t.audio.processor:delete t.audio,n.push("audio"))),n.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(n.join(", "))),t.audio&&t.audio.settings&&(t.audio.settings.customTrack?(r.audioTrack=t.audio.settings.customTrack,t.audio.settings={customTrack:ne}):delete r.audioTrack),t.video&&t.video.settings&&(t.video.settings.customTrack?(r.videoTrack=t.video.settings.customTrack,t.video.settings={customTrack:ne}):delete r.videoTrack)}function aU(t){if(nc())return console.warn("Video processing is not yet supported in React Native"),!1;var i=["type"];return!!t&&"object"===u(t)&&(Object.keys(t).filter(function(t){return!i.includes(t)}).forEach(function(i){console.warn("invalid key inputSettings -> audio -> processor : ".concat(i)),delete t[i]}),!!function(t){return"string"==typeof t&&(!!Object.values(nr).includes(t)||(console.error("inputSettings audio processor type invalid"),!1))}(t.type))}function aJ(t){if(nc())return console.warn("Video processing is not yet supported in React Native"),!1;var i=["type","config"];return!!t&&"object"===u(t)&&!!function(t){return"string"==typeof t&&(!!Object.values(ni).includes(t)||(console.error("inputSettings video processor type invalid"),!1))}(t.type)&&(!t.config||"object"===u(t.config)&&!!function(t,i){var r=Object.keys(i);if(0===r.length)return!0;var s="invalid object in inputSettings -> video -> processor -> config";switch(t){case ni.BGBLUR:return r.length>1||"strength"!==r[0]?(console.error(s),!1):!("number"!=typeof i.strength||i.strength<=0||i.strength>1||isNaN(i.strength))||(console.error("".concat(s,"; expected: {0 < strength <= 1}, got: ").concat(i.strength)),!1);case ni.BGIMAGE:return!(void 0!==i.source&&!function(t){var i;return"default"===t.source?(t.type="default",!0):t.source instanceof ArrayBuffer||(th(t.source)?(t.type="url",!!function(t){var i=new URL(t),r=i.pathname;if("data:"===i.protocol)try{var s=r.substring(r.indexOf(":")+1,r.indexOf(";")).split("/")[1];return nn.includes(s)}catch(t){return console.error("failed to deduce blob content type",t),!1}var n=r.split(".").at(-1).toLowerCase().trim();return nn.includes(n)}(t.source)||(console.error("invalid image type; supported types: [".concat(nn.join(", "),"]")),!1)):isNaN(i=Number(t.source))||!Number.isInteger(i)||i<=0||i>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(t.type="daily-preselect",!0))}(i));default:return!0}}(t.type,t.config))&&(Object.keys(t).filter(function(t){return!i.includes(t)}).forEach(function(i){console.warn("invalid key inputSettings -> video -> processor : ".concat(i)),delete t[i]}),!0)}function a$(t){return"object"===u(t)&&(!t.customTrack||t.customTrack instanceof MediaStreamTrack)}function aW(){var t=Object.values(ni).join(" | "),i=Object.values(nr).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(t," ], config?: {} } }, audio?: { processor: {type: [ ").concat(i," ] } } }")}function aY(t){var i=t.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(rJ).concat(i?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function aH(){return"customIntegrations should be an object of type ".concat(JSON.stringify(ax),".")}function aK(t){if(t&&"object"!==u(t)||Array.isArray(t))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(aE),".")),!1;if(t)for(var i=0,r=Object.entries(t);i<r.length;i++)for(var s=C(r[i],1)[0],n=0,a=Object.entries(t[s]);n<a.length;n++){var o=C(a[n],2),l=o[0],h=o[1],c=aE.id[l];if(!c)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!th(h))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(h))return console.error("customTrayButton ".concat(l," should be ").concat(c,". Got: ").concat(h)),!1;break;default:if(u(h)!==c)return console.error("customTrayButton ".concat(l," should be a ").concat(c,".")),!1}}return!0}function aQ(t){if(!t||t&&"object"!==u(t)||Array.isArray(t))return console.error(aH()),!1;for(var i=function(t){return"".concat(t," should be ").concat(ax.id[t])},r=function(t,i){return console.error("customIntegration ".concat(t,": ").concat(i))},s=0,n=Object.entries(t);s<n.length;s++){var a=C(n[s],1)[0];if(!("label"in t[a]))return r(a,"label is required"),!1;if(!("location"in t[a]))return r(a,"location is required"),!1;if(!("src"in t[a])&&!("srcdoc"in t[a]))return r(a,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(t[a]);o<l.length;o++){var h=C(l[o],2),c=h[0],p=h[1];switch(c){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if("string"!=typeof p)return r(a,i(c)),!1;break;case"iconURL":if(!th(p))return r(a,"".concat(c," should be a url")),!1;break;case"src":if("srcdoc"in t[a])return r(a,"cannot have both src and srcdoc"),!1;if(!th(p))return r(a,'src "'.concat(p,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in t[a])return r(a,"cannot have both src and srcdoc"),!1;if("string"!=typeof p)return r(a,i(c)),!1;break;case"location":if(!["main","sidebar"].includes(p))return r(a,i(c)),!1;break;case"controlledBy":if("*"!==p&&"owners"!==p&&(!Array.isArray(p)||p.some(function(t){return"string"!=typeof t})))return r(a,i(c)),!1;break;case"shared":if((!Array.isArray(p)||p.some(function(t){return"string"!=typeof t}))&&"owners"!==p&&"boolean"!=typeof p)return r(a,i(c)),!1;break;default:if(!ax.id[c])return console.error("customIntegration does not support key ".concat(c)),!1}}}return!0}function aX(t,i){if(void 0===i)return!1;switch(u(i)){case"string":return u(t)===i;case"object":if("object"!==u(t))return!1;for(var r in t)if(!aX(t[r],i[r]))return!1;return!0;default:return!1}}function aZ(t,i){var r=t.sessionId,s=t.toEndPoint,n=t.useSipRefer;if(!r||!s)throw Error("".concat(i,"() requires a sessionId and toEndPoint"));if("string"!=typeof r||"string"!=typeof s)throw Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(n&&!s.startsWith("sip:"))throw Error('"toEndPoint" must be a "sip" address');if(!s.startsWith("sip:")&&!s.startsWith("+"))throw Error("toEndPoint: ".concat(s,' must starts with either "sip:" or "+"'))}function a0(t){if("object"!==u(t))throw Error('RemoteMediaPlayerSettings: must be "object" type');if(t.state&&!Object.values(ns).includes(t.state))throw Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(ns));if(t.volume){if("number"!=typeof t.volume)throw Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(t.volume<0||t.volume>2)throw Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function a1(t,i,r){return!("number"!=typeof t||t<i||t>r)}function a2(t,i){return t&&!i&&delete t.data,t}},55511:t=>{"use strict";t.exports=require("crypto")},55591:t=>{"use strict";t.exports=require("https")},56398:(t,i,r)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(t,i){for(var r in i)Object.defineProperty(t,r,{enumerable:!0,get:i[r]})}(i,{default:function(){return h},getImageProps:function(){return l}});let s=r(88394),n=r(57788),a=r(82468),o=s._(r(42026));function l(t){let{props:i}=(0,n.getImgProps)(t,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[t,r]of Object.entries(i))void 0===r&&delete i[t];return{props:i}}let h=a.Image},56801:t=>{"use strict";t.exports=require("import-in-the-middle")},57075:t=>{"use strict";t.exports=require("node:stream")},57975:t=>{"use strict";t.exports=require("node:util")},59435:(t,i,r)=>{Promise.resolve().then(r.bind(r,98606)),Promise.resolve().then(r.t.bind(r,82468,23))},63033:t=>{"use strict";t.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63664:(t,i,r)=>{"use strict";r.r(i),r.d(i,{"7f0856c0ac62865bbc7af1676759fd4faf95a688ee":()=>n.zR,"7f3e62d056a67f6ea181a1dd7aa18953864cd5b109":()=>n.S8,"7f440c7efeb3ee178ede445214e1559e85a2b464cd":()=>s.at,"7f5bac402195330fdabab560cc9e31e5c6ee9cefe5":()=>n.Fe,"7f5d0355a47be797d3f0f9d5e27d30d14356e53244":()=>n.r7,"7f6ff3efb6b88169e2f4f793fac3c2ab157c2726dd":()=>n.XF,"7f86fa3b553f8b40993fd00b330b7de214deb09277":()=>s.ai,"7f8b88cf1ea7d3ee9a1997e9917d1dabd36aee62ad":()=>n.L1,"7f8bf1966185a2fb6bdf0f21c788e175adc09d4a61":()=>n.vK,"7f9b5616db78f3ac4fa69151f340dd724861488c74":()=>n.zA,"7f9dbc1d8e64843f634264bbab6223bf5df897e753":()=>s.ot,"7fae424b498d0d18645a335bb2de6007a2657f4fb2":()=>n.p4,"7fd03026208a361cdeff53264d79257329ae6a3893":()=>n.bb,"7fde0d2a0b1d808790f5e80d27c63c74f27335a7bb":()=>n.lp});var s=r(85475),n=r(14235)},66583:(t,i,r)=>{"use strict";let s,n;r.r(i),r.d(i,{default:()=>x,generateImageMetadata:()=>C,generateMetadata:()=>w,generateViewport:()=>E});var a=r(63033),o=r(6768),l=r(14235),h=r(48253),c=r(59),u=r(75109),p=r(70183),d=r(35302),f=r(93084);let m=async({params:t})=>{let{id:i}=await t,r=await (0,l.zA)(i),s=await (0,h.N)(),{name:n,subject:a,topic:f,duration:m}=r;return s||(0,c.redirect)("/sign-in"),n||(0,c.redirect)("/companions"),(0,o.jsxs)("main",{children:[(0,o.jsxs)("article",{className:"flex rounded-border justify-between p-6 max-md:flex-col",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("div",{className:"size-[72px] flex items-center justify-center rounded-lg max-md:hidden",style:{backgroundColor:(0,u._)(a)},children:(0,o.jsx)(p.default,{src:`/icons/${a}.svg`,alt:a,width:35,height:35})}),(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("p",{className:"font-bold text-2xl",children:n}),(0,o.jsx)("div",{className:"subject-badge max-sm:hidden",children:a})]}),(0,o.jsx)("p",{className:"text-lg",children:f})]})]}),(0,o.jsxs)("div",{className:"items-start text-2xl max-md:hidden",children:[m," minutes"]})]}),(0,o.jsx)(d.default,{...r,companionId:i,userName:s.firstName,userImage:s.imageUrl})]})},g={...a},y="workUnitAsyncStorage"in g?g.workUnitAsyncStorage:"requestAsyncStorage"in g?g.requestAsyncStorage:void 0,v=m,b=s="function"==typeof v?new Proxy(v,{apply:(t,i,r)=>{let s,n,a;try{let t=y?.getStore();s=t?.headers.get("sentry-trace")??void 0,n=t?.headers.get("baggage")??void 0,a=t?.headers}catch(t){}return f.wrapServerComponentWithSentry(t,{componentRoute:"/companions/[id]",componentType:"Page",sentryTraceHeader:s,baggageHeader:n,headers:a}).apply(i,r)}}):v,_={...a},k="workUnitAsyncStorage"in _?_.workUnitAsyncStorage:"requestAsyncStorage"in _?_.requestAsyncStorage:void 0,S=b;n="function"==typeof S?new Proxy(S,{apply:(t,i,r)=>{let s,n,a;try{let t=k?.getStore();s=t?.headers.get("sentry-trace")??void 0,n=t?.headers.get("baggage")??void 0,a=t?.headers}catch(t){}return f.wrapServerComponentWithSentry(t,{componentRoute:"/companions/[id]",componentType:"Page",sentryTraceHeader:s,baggageHeader:n,headers:a}).apply(i,r)}}):S;let w=void 0,C=void 0,E=void 0,x=n},73024:t=>{"use strict";t.exports=require("node:fs")},73566:t=>{"use strict";t.exports=require("worker_threads")},74075:t=>{"use strict";t.exports=require("zlib")},74998:t=>{"use strict";t.exports=require("perf_hooks")},75109:(t,i,r)=>{"use strict";r.d(i,{cn:()=>o,_:()=>l});var s=r(54533),n=r(20649);let a={science:"#E5D0FF",maths:"#FFDA6E",language:"#BDE7FF",coding:"#FFC8E4",history:"#FFECC8",economics:"#C8FFDF"};function o(...t){return(0,n.QP)((0,s.$)(t))}let l=t=>a[t]},75919:t=>{"use strict";t.exports=require("node:worker_threads")},76760:t=>{"use strict";t.exports=require("node:path")},77030:t=>{"use strict";t.exports=require("node:net")},77598:t=>{"use strict";t.exports=require("node:crypto")},79428:t=>{"use strict";t.exports=require("buffer")},79551:t=>{"use strict";t.exports=require("url")},79646:t=>{"use strict";t.exports=require("child_process")},80481:t=>{"use strict";t.exports=require("node:readline")},81630:t=>{"use strict";t.exports=require("http")},83310:function(t,i,r){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});let n=s(r(53559)),a=s(r(94735)),o=r(19139);async function l(t,i){t.muted=!1,t.autoplay=!0,null!=i&&(t.srcObject=new MediaStream([i]),await t.play())}async function h(t,i){let r=document.createElement("audio");return r.dataset.participantId=i,document.body.appendChild(r),await l(r,t),r}function c(t){let i=document.querySelector(`audio[data-participant-id="${t}"]`);i?.remove()}function u(t,i,r,s){t.participant.local||i.updateParticipant(t.participant.session_id,{setSubscribedTracks:{audio:!0,video:r||s}})}class p extends a.default{on(t,i){return super.on(t,i),this}once(t,i){return super.once(t,i),this}emit(t,...i){return super.emit(t,...i)}removeListener(t,i){return super.removeListener(t,i),this}removeAllListeners(t){return super.removeAllListeners(t),this}}class d extends p{started=!1;call=null;speakingTimeout=null;dailyCallConfig={};dailyCallObject={};hasEmittedCallEndedStatus=!1;constructor(t,i,r,s){super(),o.client.baseUrl=i??"https://api.vapi.ai",o.client.setSecurityData(t),this.dailyCallConfig=r??{},this.dailyCallObject=s??{}}cleanup(){this.started=!1,this.hasEmittedCallEndedStatus=!1,this.call?.destroy(),this.call=null,this.speakingTimeout=null}isMobileDevice(){if("undefined"==typeof navigator)return!1;let t=navigator.userAgent;return/android|iphone|ipad|ipod|iemobile|blackberry|bada/i.test(t.toLowerCase())}async sleep(t){return new Promise(i=>setTimeout(i,t))}async start(t,i,r,s){if(!t&&!r&&!s)throw Error("Assistant or Squad or Workflow must be provided.");if(this.started)return null;this.started=!0;try{let a=(await o.client.call.callControllerCreateWebCall({assistant:"string"==typeof t?void 0:t,assistantId:"string"==typeof t?t:void 0,assistantOverrides:i,squad:"string"==typeof r?void 0:r,squadId:"string"==typeof r?r:void 0,workflow:"string"==typeof s?void 0:s,workflowId:"string"==typeof s?s:void 0})).data;this.call&&this.cleanup();let l=a?.artifactPlan?.videoRecordingEnabled??!1,p=a?.assistant?.voice?.provider==="tavus";if(this.call=n.default.createCallObject({audioSource:this.dailyCallObject.audioSource??!0,videoSource:this.dailyCallObject.videoSource??l,dailyConfig:this.dailyCallConfig}),this.call.iframe()?.style.setProperty("display","none"),this.call.on("left-meeting",()=>{this.emit("call-end"),this.hasEmittedCallEndedStatus||(this.emit("message",{type:"status-update",status:"ended",endedReason:"customer-ended-call"}),this.hasEmittedCallEndedStatus=!0),l&&this.call?.stopRecording(),this.cleanup()}),this.call.on("error",t=>{this.emit("error",t),l&&this.call?.stopRecording()}),this.call.on("camera-error",t=>{this.emit("error",t)}),this.call.on("track-started",async t=>{!t||!t.participant||t.participant?.local||t.participant?.user_name==="Vapi Speaker"&&("video"===t.track.kind&&this.emit("video",t.track),"audio"===t.track.kind&&await h(t.track,t.participant.session_id),this.call?.sendAppMessage("playable"))}),this.call.on("participant-joined",t=>{t&&this.call&&u(t,this.call,l,p)}),this.call.on("participant-updated",t=>{t&&this.emit("daily-participant-updated",t.participant)}),this.call.on("participant-left",t=>{t&&c(t.participant.session_id)}),this.isMobileDevice()&&await this.sleep(1e3),await this.call.join({url:a.webCallUrl,subscribeToTracksAutomatically:!1}),l){let t=new Date().getTime();this.call.startRecording({width:1280,height:720,backgroundColor:"#FF1F2D3D",layout:{preset:"default"}}),this.call.on("recording-started",()=>{this.send({type:"control",control:"say-first-message",videoRecordingStartDelaySeconds:(new Date().getTime()-t)/1e3})})}return this.call.startRemoteParticipantsAudioLevelObserver(100),this.call.on("remote-participants-audio-level",t=>{t&&this.handleRemoteParticipantsAudioLevel(t)}),this.call.on("app-message",t=>this.onAppMessage(t)),this.call.on("nonfatal-error",t=>{t?.type==="audio-processor-error"&&this.call?.updateInputSettings({audio:{processor:{type:"none"}}}).then(()=>{this.call?.setLocalAudio(!0)})}),this.call.updateInputSettings({audio:{processor:{type:"noise-cancellation"}}}),a}catch(t){return console.error(t),this.emit("error",t),this.cleanup(),null}}onAppMessage(t){if(t)try{if("listening"===t.data)return this.emit("call-start");try{let i=JSON.parse(t.data);this.emit("message",i),i&&"type"in i&&"status"in i&&"status-update"===i.type&&"ended"===i.status&&(this.hasEmittedCallEndedStatus=!0)}catch(t){console.log("Error parsing message data: ",t)}}catch(t){console.error(t)}}handleRemoteParticipantsAudioLevel(t){let i=Object.values(t.participantsAudioLevel).reduce((t,i)=>t+i,0);this.emit("volume-level",Math.min(1,i/.15)),i>.01&&(this.speakingTimeout?(clearTimeout(this.speakingTimeout),this.speakingTimeout=null):this.emit("speech-start"),this.speakingTimeout=setTimeout(()=>{this.emit("speech-end"),this.speakingTimeout=null},1e3))}stop(){this.started=!1,this.call?.destroy(),this.call=null}send(t){this.call?.sendAppMessage(JSON.stringify(t))}setMuted(t){if(!this.call)throw Error("Call object is not available.");this.call.setLocalAudio(!t)}isMuted(){return!!this.call&&!1===this.call.localAudio()}say(t,i,r){this.send({type:"say",message:t,endCallAfterSpoken:i,interruptionsEnabled:r??!1})}setInputDevicesAsync(t){this.call?.setInputDevicesAsync(t)}async increaseMicLevel(t){if(!this.call)throw Error("Call object is not available.");try{let i=await navigator.mediaDevices.getUserMedia({audio:!0}),r=new AudioContext,s=r.createMediaStreamSource(i),n=r.createGain();n.gain.value=t,s.connect(n);let a=r.createMediaStreamDestination();n.connect(a);let[o]=a.stream.getAudioTracks();await this.call.setInputDevicesAsync({audioSource:o})}catch(t){console.error("Error adjusting microphone level:",t)}}setOutputDeviceAsync(t){this.call?.setOutputDeviceAsync(t)}getDailyCallObject(){return this.call}startScreenSharing(t,i){this.call?.startScreenShare({displayMediaOptions:t,screenVideoSendSettings:i})}stopScreenSharing(){this.call?.stopScreenShare()}}i.default=d},83997:t=>{"use strict";t.exports=require("tty")},84297:t=>{"use strict";t.exports=require("async_hooks")},85878:(t,i,r)=>{"use strict";r.r(i),r.d(i,{GlobalError:()=>a.default,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>h});var s=r(22808),n=r(64519),a=r(36281),o=r(83536),l={};for(let t in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(t)&&(l[t]=()=>o[t]);r.d(i,l);let h={children:["",{children:["companions",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,66583)),"/home/neha/lms-app/app/companions/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async t=>(await Promise.resolve().then(r.bind(r,46055))).default(t)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,44057)),"/home/neha/lms-app/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(r.bind(r,36281)),"/home/neha/lms-app/app/global-error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,71309,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,12912,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,98081,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async t=>(await Promise.resolve().then(r.bind(r,46055))).default(t)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/neha/lms-app/app/companions/[id]/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/companions/[id]/page",pathname:"/companions/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:h}})},86592:t=>{"use strict";t.exports=require("node:inspector")},86877:(t,i,r)=>{"use strict";r.d(i,{default:()=>n.a});var s=r(56398),n=r.n(s)},91645:t=>{"use strict";t.exports=require("net")},94735:t=>{"use strict";t.exports=require("events")},98606:(t,i,r)=>{"use strict";r.d(i,{default:()=>N});var s=r(69694),n=r(10415),a=r.n(n),o=r(18072),l=r(83310);let h=new(r.n(l)())("044b790f-93db-4c26-8204-58c641d6c949");var c=r(86877),u=r(20105),p=r.n(u);function d(t,i){(null==i||i>t.length)&&(i=t.length);for(var r=0,s=Array(i);r<i;r++)s[r]=t[r];return s}function f(t){if(Array.isArray(t))return t}function m(t,i,r){return(i=C(i))in t?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,t}function g(t,i){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var s,n,a,o,l=[],h=!0,c=!1;try{if(a=(r=r.call(t)).next,0===i){if(Object(r)!==r)return;h=!1}else for(;!(h=(s=a.call(r)).done)&&(l.push(s.value),l.length!==i);h=!0);}catch(t){c=!0,n=t}finally{try{if(!h&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw n}}return l}}function y(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(t,i){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,s)}return r}function b(t){for(var i=1;i<arguments.length;i++){var r=null!=arguments[i]?arguments[i]:{};i%2?v(Object(r),!0).forEach(function(i){m(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function _(t,i){if(null==t)return{};var r,s,n=k(t,i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],i.includes(r)||({}).propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k(t,i){if(null==t)return{};var r={};for(var s in t)if(({}).hasOwnProperty.call(t,s)){if(i.includes(s))continue;r[s]=t[s]}return r}function S(t,i){return f(t)||g(t,i)||E(t,i)||y()}function w(t,i){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var s=r.call(t,i||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}function C(t){var i=w(t,"string");return"symbol"==typeof i?i:i+""}function E(t,i){if(t){if("string"==typeof t)return d(t,i);var r=({}).toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,i):void 0}}var x=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],T=function(t,i){var r=t.animationData,s=t.loop,o=t.autoplay,l=t.initialSegment,h=t.onComplete,c=t.onLoopComplete,u=t.onEnterFrame,d=t.onSegmentStart,f=t.onConfigReady,m=t.onDataReady,g=t.onDataFailed,y=t.onLoadedImages,v=t.onDOMLoaded,k=t.onDestroy;t.lottieRef,t.renderer,t.name,t.assetsPath,t.rendererSettings;var w=_(t,x),C=S((0,n.useState)(!1),2),E=C[0],T=C[1],A=(0,n.useRef)(),P=(0,n.useRef)(null),M=function(){var t;null==(t=A.current)||t.play()},D=function(){var t;null==(t=A.current)||t.stop()},I=function(){var t;null==(t=A.current)||t.pause()},L=function(t){var i;null==(i=A.current)||i.setSpeed(t)},O=function(t,i){var r;null==(r=A.current)||r.goToAndPlay(t,i)},F=function(t,i){var r;null==(r=A.current)||r.goToAndStop(t,i)},R=function(t){var i;null==(i=A.current)||i.setDirection(t)},j=function(t,i){var r;null==(r=A.current)||r.playSegments(t,i)},N=function(t){var i;null==(i=A.current)||i.setSubframe(t)},V=function(t){var i;return null==(i=A.current)?void 0:i.getDuration(t)},B=function(){var t;null==(t=A.current)||t.destroy(),A.current=void 0},q=function(){var i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(P.current){null==(i=A.current)||i.destroy();var s=b(b(b({},t),r),{},{container:P.current});return A.current=p().loadAnimation(s),T(!!A.current),function(){var t;null==(t=A.current)||t.destroy(),A.current=void 0}}};return(0,n.useEffect)(function(){var t=q();return function(){return null==t?void 0:t()}},[r,s]),(0,n.useEffect)(function(){A.current&&(A.current.autoplay=!!o)},[o]),(0,n.useEffect)(function(){if(A.current){if(!l)return void A.current.resetSegments(!0);Array.isArray(l)&&l.length&&((A.current.currentRawFrame<l[0]||A.current.currentRawFrame>l[1])&&(A.current.currentRawFrame=l[0]),A.current.setSegment(l[0],l[1]))}},[l]),(0,n.useEffect)(function(){var t=[{name:"complete",handler:h},{name:"loopComplete",handler:c},{name:"enterFrame",handler:u},{name:"segmentStart",handler:d},{name:"config_ready",handler:f},{name:"data_ready",handler:m},{name:"data_failed",handler:g},{name:"loaded_images",handler:y},{name:"DOMLoaded",handler:v},{name:"destroy",handler:k}].filter(function(t){return null!=t.handler});if(t.length){var i=t.map(function(t){var i;return null==(i=A.current)||i.addEventListener(t.name,t.handler),function(){var i;null==(i=A.current)||i.removeEventListener(t.name,t.handler)}});return function(){i.forEach(function(t){return t()})}}},[h,c,u,d,f,m,g,y,v,k]),{View:a().createElement("div",b({style:i,ref:P},w)),play:M,stop:D,pause:I,setSpeed:L,goToAndStop:F,goToAndPlay:O,setDirection:R,playSegments:j,setSubframe:N,getDuration:V,destroy:B,animationContainerRef:P,animationLoaded:E,animationItem:A.current}};function A(t){var i=t.getBoundingClientRect(),r=i.top,s=i.height;return(window.innerHeight-r)/(window.innerHeight+s)}function P(t,i,r){var s=t.getBoundingClientRect(),n=s.top;return{x:(i-s.left)/s.width,y:(r-n)/s.height}}var M=function(t){var i=t.wrapperRef,r=t.animationItem,s=t.mode,a=t.actions;(0,n.useEffect)(function(){var t=i.current;if(t&&r&&a.length){r.stop();var n=function(){var i=null,s=function(){var s=A(t),n=a.find(function(t){var i=t.visibility;return i&&s>=i[0]&&s<=i[1]});if(n){if("seek"===n.type&&n.visibility&&2===n.frames.length){var o=n.frames[0]+Math.ceil((s-n.visibility[0])/(n.visibility[1]-n.visibility[0])*n.frames[1]);r.goToAndStop(o-r.firstFrame-1,!0)}"loop"===n.type&&(null===i||i!==n.frames?(r.playSegments(n.frames,!0),i=n.frames):r.isPaused&&(r.playSegments(n.frames,!0),i=n.frames)),"play"===n.type&&r.isPaused&&(r.resetSegments(!0),r.play()),"stop"===n.type&&r.goToAndStop(n.frames[0]-r.firstFrame-1,!0)}};return document.addEventListener("scroll",s),function(){document.removeEventListener("scroll",s)}},o=function(){var i=function(i,s){var n=i,o=s;if(-1!==n&&-1!==o){var l=P(t,n,o);n=l.x,o=l.y}var h=a.find(function(t){var i=t.position;return i&&Array.isArray(i.x)&&Array.isArray(i.y)?n>=i.x[0]&&n<=i.x[1]&&o>=i.y[0]&&o<=i.y[1]:!(!i||Number.isNaN(i.x)||Number.isNaN(i.y))&&n===i.x&&o===i.y});if(h){if("seek"===h.type&&h.position&&Array.isArray(h.position.x)&&Array.isArray(h.position.y)&&2===h.frames.length){var c=(n-h.position.x[0])/(h.position.x[1]-h.position.x[0]),u=(o-h.position.y[0])/(h.position.y[1]-h.position.y[0]);r.playSegments(h.frames,!0),r.goToAndStop(Math.ceil((c+u)/2*(h.frames[1]-h.frames[0])),!0)}"loop"===h.type&&r.playSegments(h.frames,!0),"play"===h.type&&(r.isPaused&&r.resetSegments(!1),r.playSegments(h.frames)),"stop"===h.type&&r.goToAndStop(h.frames[0],!0)}},s=function(t){i(t.clientX,t.clientY)},n=function(){i(-1,-1)};return t.addEventListener("mousemove",s),t.addEventListener("mouseout",n),function(){t.removeEventListener("mousemove",s),t.removeEventListener("mouseout",n)}};switch(s){case"scroll":return n();case"cursor":return o()}}},[s,r])},D=function(t){var i=t.actions,r=t.mode,s=t.lottieObj,n=s.animationItem,a=s.View;return M({actions:i,animationItem:n,mode:r,wrapperRef:s.animationContainerRef}),a},I=["style","interactivity"],L=function(t){var i,r,s,a=t.style,o=t.interactivity,l=T(_(t,I),a),h=l.View,c=l.play,u=l.stop,p=l.pause,d=l.setSpeed,f=l.goToAndStop,m=l.goToAndPlay,g=l.setDirection,y=l.playSegments,v=l.setSubframe,b=l.getDuration,k=l.destroy,S=l.animationContainerRef,w=l.animationLoaded,C=l.animationItem;return(0,n.useEffect)(function(){t.lottieRef&&(t.lottieRef.current={play:c,stop:u,pause:p,setSpeed:d,goToAndPlay:m,goToAndStop:f,setDirection:g,playSegments:y,setSubframe:v,getDuration:b,destroy:k,animationContainerRef:S,animationLoaded:w,animationItem:C})},[null==(i=t.lottieRef)?void 0:i.current]),D({lottieObj:{View:h,play:c,stop:u,pause:p,setSpeed:d,goToAndStop:f,goToAndPlay:m,setDirection:g,playSegments:y,setSubframe:v,getDuration:b,destroy:k,animationContainerRef:S,animationLoaded:w,animationItem:C},actions:null!=(r=null==o?void 0:o.actions)?r:[],mode:null!=(s=null==o?void 0:o.mode)?s:"scroll"})};let O=JSON.parse('{"nm":"Render","ddd":0,"h":250,"w":250,"meta":{"g":"LottieFiles AE 3.1.1"},"layers":[{"ty":4,"nm":"Arrow Outlines 4","sr":1,"st":0,"op":300.00001221925,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[13,15.5,0],"ix":1},"s":{"a":0,"k":[170,170,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[100.5,126,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,13.618],[12.471,14.676]]}],"t":0},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,8.103],[12.471,18.868]]}],"t":30},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,8.324],[12.471,19.235]]}],"t":45},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.515,4.206],[12.515,25.853]]}],"t":70},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,8.985],[12.471,17.912]]}],"t":83},{"o":{"x":0.333,"y":0},"i":{"x":0.667,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.515,5.309],[12.544,24.088]]}],"t":97},{"o":{"x":0.333,"y":0},"i":{"x":1,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.456,7.588],[12.456,20.044]]}],"t":109},{"o":{"x":0.333,"y":0},"i":{"x":1,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.456,6.265],[12.456,21]]}],"t":121},{"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,13.618],[12.471,14.676]]}],"t":128.000005213547}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":4,"ix":5},"c":{"a":0,"k":[0.9922,0.949,0.9922,1],"ix":3}},{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 2","ix":3,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]},"ix":2}}],"ind":1},{"ty":4,"nm":"Arrow Outlines 3","sr":1,"st":0,"op":300.00001221925,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[13,15.5,0],"ix":1},"s":{"a":0,"k":[170,170,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[146.75,126,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.973,"y":0},"i":{"x":0.581,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,13.618],[12.471,14.676]]}],"t":0},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,13.765],[12.441,18.353]]}],"t":30},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,13.618],[12.471,13.721]]}],"t":45},{"o":{"x":0.167,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.529,7.074],[12.5,15.191]]}],"t":70},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.456,5.529],[12.441,16.735]]}],"t":83},{"o":{"x":0.167,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.544,7.147],[12.515,15.044]]}],"t":97},{"o":{"x":0.973,"y":0},"i":{"x":0.592,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.456,3.103],[12.471,21.809]]}],"t":109},{"o":{"x":0.973,"y":0},"i":{"x":0.893,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]}],"t":122},{"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,13.618],[12.471,14.676]]}],"t":129.000005254278}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":4,"ix":5},"c":{"a":0,"k":[0.9922,0.949,0.9922,1],"ix":3}},{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 2","ix":3,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]},"ix":2}}],"ind":2},{"ty":4,"nm":"Arrow Outlines 2","sr":1,"st":0,"op":300.00001221925,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[13,15.5,0],"ix":1},"s":{"a":0,"k":[170,170,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[116.75,126,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,13.618],[12.471,14.676]]}],"t":0},{"o":{"x":0.333,"y":0},"i":{"x":0,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]}],"t":24},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,4.647],[12.441,25.706]]}],"t":41},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]}],"t":55},{"o":{"x":0.167,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,6.118],[12.471,20.412]]}],"t":70},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.456,1.926],[12.456,22.838]]}],"t":87},{"o":{"x":0.973,"y":0},"i":{"x":0,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,7.735],[12.471,20.265]]}],"t":101},{"o":{"x":0.333,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]}],"t":115},{"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,13.618],[12.471,14.676]]}],"t":134.000005457932}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":4,"ix":5},"c":{"a":0,"k":[0.9922,0.949,0.9922,1],"ix":3}},{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 2","ix":3,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]},"ix":2}}],"ind":3},{"ty":4,"nm":"Arrow Outlines","sr":1,"st":0,"op":300.00001221925,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[13,15.5,0],"ix":1},"s":{"a":0,"k":[170,170,100],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[131.75,126,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 1","ix":1,"d":1,"ks":{"a":1,"k":[{"o":{"x":0.973,"y":0},"i":{"x":0.581,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,13.618],[12.471,14.676]]}],"t":0},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.5,2],[12.5,28.5]]}],"t":30},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]}],"t":45},{"o":{"x":0.167,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.5,2],[12.5,28.5]]}],"t":70},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]}],"t":83},{"o":{"x":0.167,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.5,2],[12.5,28.5]]}],"t":97},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,5.75],[12.471,21.809]]}],"t":109},{"o":{"x":0.973,"y":0},"i":{"x":0.24,"y":1},"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]}],"t":125},{"s":[{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.471,13.618],[12.471,14.676]]}],"t":132.00000537647}],"ix":2}},{"ty":"st","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Stroke","nm":"Stroke 1","lc":2,"lj":1,"ml":4,"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":4,"ix":5},"c":{"a":0,"k":[0.9922,0.949,0.9922,1],"ix":3}},{"ty":"sh","bm":0,"hd":false,"mn":"ADBE Vector Shape - Group","nm":"Path 2","ix":3,"d":1,"ks":{"a":0,"k":{"c":false,"i":[[0,0],[0,0]],"o":[[0,0],[0,0]],"v":[[12.441,11.118],[12.441,16.735]]},"ix":2}}],"ind":4},{"ty":4,"nm":"cir 1","sr":1,"st":0,"op":300.00001221925,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.775,"y":0},"i":{"x":0.206,"y":1},"s":[111.8,111.8,100],"t":0},{"o":{"x":0.665,"y":0},"i":{"x":0.274,"y":1},"s":[120,120,100],"t":30},{"o":{"x":0.167,"y":0},"i":{"x":0.206,"y":1},"s":[111.8,111.8,100],"t":60},{"o":{"x":0.665,"y":0},"i":{"x":0.274,"y":1},"s":[120,120,100],"t":71.289},{"o":{"x":0.167,"y":0},"i":{"x":0.206,"y":1},"s":[111.8,111.8,100],"t":82.576},{"o":{"x":0.665,"y":0},"i":{"x":0.274,"y":1},"s":[120,120,100],"t":97.628},{"o":{"x":0.167,"y":0},"i":{"x":0.667,"y":1},"s":[111.8,111.8,100],"t":107.661},{"s":[111.8,111.8,100],"t":134.000005457932}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[126.539,126.166,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Ellipse 1","ix":1,"cix":2,"np":3,"it":[{"ty":"el","bm":0,"hd":false,"mn":"ADBE Vector Shape - Ellipse","nm":"Ellipse Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"s":{"a":0,"k":[99.367,99.367],"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.1255,0.1529,0.1725,1],"ix":4},"r":1,"o":{"a":0,"k":100,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[-1.539,-1.166],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":5},{"ty":4,"nm":"cir 2","sr":1,"st":0,"op":300.00001221925,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.775,"y":0},"i":{"x":0.206,"y":1},"s":[110,110,100],"t":0},{"o":{"x":0.665,"y":0},"i":{"x":0.274,"y":1},"s":[194.775,194.775,100],"t":34},{"o":{"x":0.167,"y":0},"i":{"x":0.206,"y":1},"s":[150,150,100],"t":60},{"o":{"x":0.665,"y":0},"i":{"x":0.274,"y":1},"s":[194.775,194.775,100],"t":71.289},{"o":{"x":0.167,"y":0},"i":{"x":0.206,"y":1},"s":[150,150,100],"t":82.576},{"o":{"x":0.665,"y":0},"i":{"x":0.274,"y":1},"s":[194.775,194.775,100],"t":97.628},{"o":{"x":0.167,"y":0},"i":{"x":0.274,"y":1},"s":[150,150,100],"t":117},{"s":[110,110,100],"t":123.966255049249}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[126.539,126.166,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Ellipse 1","ix":1,"cix":2,"np":3,"it":[{"ty":"el","bm":0,"hd":false,"mn":"ADBE Vector Shape - Ellipse","nm":"Ellipse Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"s":{"a":0,"k":[99.367,99.367],"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.1255,0.1529,0.1725,1],"ix":4},"r":1,"o":{"a":0,"k":10,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[-1.539,-1.166],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":6},{"ty":4,"nm":"cir 3","sr":1,"st":0,"op":300.00001221925,"ip":0,"hd":false,"ddd":0,"bm":0,"hasMask":false,"ao":0,"ks":{"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":1,"k":[{"o":{"x":0.775,"y":0},"i":{"x":0.206,"y":1},"s":[110,110,100],"t":0},{"o":{"x":0.665,"y":0},"i":{"x":0.274,"y":1},"s":[230,230,100],"t":34},{"o":{"x":0.167,"y":0},"i":{"x":0.206,"y":1},"s":[190,190,100],"t":60},{"o":{"x":0.665,"y":0},"i":{"x":0.274,"y":1},"s":[230,230,100],"t":71.289},{"o":{"x":0.167,"y":0},"i":{"x":0.206,"y":1},"s":[190,190,100],"t":82.576},{"o":{"x":0.665,"y":0},"i":{"x":0.274,"y":1},"s":[230,230,100],"t":97.628},{"o":{"x":0.167,"y":0},"i":{"x":0.274,"y":1},"s":[190,190,100],"t":118},{"s":[110,110,100],"t":134.000005457932}],"ix":6},"sk":{"a":0,"k":0},"p":{"a":0,"k":[126.539,126.166,0],"ix":2},"r":{"a":0,"k":0,"ix":10},"sa":{"a":0,"k":0},"o":{"a":0,"k":100,"ix":11}},"ef":[],"shapes":[{"ty":"gr","bm":0,"hd":false,"mn":"ADBE Vector Group","nm":"Ellipse 1","ix":1,"cix":2,"np":3,"it":[{"ty":"el","bm":0,"hd":false,"mn":"ADBE Vector Shape - Ellipse","nm":"Ellipse Path 1","d":1,"p":{"a":0,"k":[0,0],"ix":3},"s":{"a":0,"k":[99.367,99.367],"ix":2}},{"ty":"fl","bm":0,"hd":false,"mn":"ADBE Vector Graphic - Fill","nm":"Fill 1","c":{"a":0,"k":[0.1255,0.1529,0.1725,1],"ix":4},"r":1,"o":{"a":0,"k":5,"ix":5}},{"ty":"tr","a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"sk":{"a":0,"k":0,"ix":4},"p":{"a":0,"k":[-1.539,-1.166],"ix":2},"r":{"a":0,"k":0,"ix":6},"sa":{"a":0,"k":0,"ix":5},"o":{"a":0,"k":100,"ix":7}}]}],"ind":7}],"v":"4.8.0","fr":29.9700012207031,"op":135.000005498663,"ip":0,"assets":[]}');var F=r(65990);let R=(0,F.createServerReference)("7f8b88cf1ea7d3ee9a1997e9917d1dabd36aee62ad",F.callServer,void 0,F.findSourceMapURL,"addToSessionHistory");var j=function(t){return t.INACTIVE="INACTIVE",t.CONNECTING="CONNECTING",t.ACTIVE="ACTIVE",t.FINISHED="FINISHED",t}(j||{});let N=({companionId:t,subject:i,topic:r,name:a,userName:l,userImage:u,style:p,voice:d})=>{let[f,m]=(0,n.useState)("INACTIVE"),[g,y]=(0,n.useState)(!1),[v,b]=(0,n.useState)(!1),[_,k]=(0,n.useState)([]),S=(0,n.useRef)(null);(0,n.useEffect)(()=>{S&&(g?S.current?.play():S.current?.stop())},[g,S]),(0,n.useEffect)(()=>{let i=()=>m("ACTIVE"),r=()=>{m("FINISHED"),R(t)},s=t=>{if("transcript"===t.type&&"final"===t.transcriptType){let i={role:t.role,content:t.transcript};k(t=>[i,...t])}},n=()=>y(!0),a=()=>y(!1),o=t=>console.log("Error",t);return h.on("call-start",i),h.on("call-end",r),h.on("message",s),h.on("error",o),h.on("speech-start",n),h.on("speech-end",a),()=>{h.off("call-start",i),h.off("call-end",r),h.off("message",s),h.off("error",o),h.off("speech-start",n),h.off("speech-end",a)}},[]);let w=()=>{let t=h.isMuted();h.setMuted(!t),b(!t)},C=async()=>{m("CONNECTING");let t={variableValues:{subject:i,topic:r,style:p},clientMessages:["transcript"],serverMessages:[]};h.start((0,o.X)(d,p),t)},E=()=>{m("FINISHED"),h.stop()};return(0,s.jsxs)("section",{className:"flex flex-col h-[70vh]",children:[(0,s.jsxs)("section",{className:"flex gap-8 max-sm:flex-col",children:[(0,s.jsxs)("div",{className:"companion-section",children:[(0,s.jsxs)("div",{className:"companion-avatar",style:{backgroundColor:(0,o._)(i)},children:[(0,s.jsx)("div",{className:(0,o.cn)("absolute transition-opacity duration-1000","FINISHED"===f||"INACTIVE"===f?"opacity-1001":"opacity-0","CONNECTING"===f&&"opacity-100 animate-pulse"),children:(0,s.jsx)(c.default,{src:`/icons/${i}.svg`,alt:i,width:150,height:150,className:"max-sm:w-fit"})}),(0,s.jsx)("div",{className:(0,o.cn)("absolute transition-opacity duration-1000","ACTIVE"===f?"opacity-100":"opacity-0"),children:(0,s.jsx)(L,{lottieRef:S,animationData:O,autoplay:!1,className:"companion-lottie"})})]}),(0,s.jsx)("p",{className:"font-bold text-2xl",children:a})]}),(0,s.jsxs)("div",{className:"user-section",children:[(0,s.jsxs)("div",{className:"user-avatar",children:[(0,s.jsx)(c.default,{src:u,alt:l,width:130,height:130,className:"rounded-lg"}),(0,s.jsx)("p",{className:"font-bold text-2xl",children:l})]}),(0,s.jsxs)("button",{className:"btn-mic",onClick:w,disabled:"ACTIVE"!==f,children:[(0,s.jsx)(c.default,{src:v?"/icons/mic-off.svg":"/icons/mic-on.svg",alt:"mic",width:36,height:36}),(0,s.jsx)("p",{className:"max-sm:hidden",children:v?"Turn on microphone":"Turn off microphone"})]}),(0,s.jsx)("button",{className:(0,o.cn)("rounded-lg py-2 cursor-pointer transition-colors w-full text-white","ACTIVE"===f?"bg-red-700":"bg-primary","CONNECTING"===f&&"animate-pulse"),onClick:"ACTIVE"===f?E:C,children:"ACTIVE"===f?"End Session":"CONNECTING"===f?"Connecting":"Start Session"})]})]}),(0,s.jsxs)("section",{className:"transcript",children:[(0,s.jsx)("div",{className:"transcript-message no-scrollbar",children:_.map((t,i)=>"assistant"===t.role?(0,s.jsxs)("p",{className:"max-sm:text-sm",children:[a.split(" ")[0].replace("/[.,]/g, ",""),":"," ",t.content]},i):(0,s.jsxs)("p",{className:"text-primary max-sm:text-sm",children:[l,": ",t.content]},i))}),(0,s.jsx)("div",{className:"transcript-fade"})]})]})}}};var __webpack_require__=require("../../../webpack-runtime.js");__webpack_require__.C(exports);var __webpack_exec__=t=>__webpack_require__(__webpack_require__.s=t),__webpack_exports__=__webpack_require__.X(0,[912,84,465,377,351,741,346],()=>__webpack_exec__(85878));module.exports=__webpack_exports__})();
//# sourceMappingURL=page.js.map